import{_ as l,C as h,c as p,o as i,a3 as a,b as k,w as t,a as e,G as E,a4 as r}from"./chunks/framework.CUcrqFol.js";const u=JSON.parse('{"title":"12.2.2 SSR 对 SEO 的好处——SSR 优势：首屏渲染与 SEO 友好","description":"12.2.2 SSR 对 SEO 的好处——SSR 优势：首屏渲染与 SEO 友好 一句话破题 SSR 让搜索引擎爬虫\\"一眼就能看到\\"页面的完整内容，而不是一堆等待 JavaScript 执行的空标签。 认知重构：爬虫不是浏览器 虽然现代搜索引擎（如 Google）的爬虫已经能执行 JavaScript，但这个过程存在","frontmatter":{"title":"12.2.2 SSR 对 SEO 的好处——SSR 优势：首屏渲染与 SEO 友好","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/12-advanced/12.2-seo/12.2.2-ssr.md","filePath":"Advanced-old/12-advanced/12.2-seo/12.2.2-ssr.md","lastUpdated":1766168364000}'),d={name:"Advanced-old/12-advanced/12.2-seo/12.2.2-ssr.md"};function g(o,s,y,c,A,S){const n=h("Mermaid");return i(),p("div",null,[s[1]||(s[1]=a('<h1 id="_12-2-2-ssr-对-seo-的好处——ssr-优势-首屏渲染与-seo-友好" tabindex="-1">12.2.2 SSR 对 SEO 的好处——SSR 优势：首屏渲染与 SEO 友好 <a class="header-anchor" href="#_12-2-2-ssr-对-seo-的好处——ssr-优势-首屏渲染与-seo-友好" aria-label="Permalink to &quot;12.2.2 SSR 对 SEO 的好处——SSR 优势：首屏渲染与 SEO 友好&quot;">​</a></h1><h3 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h3><p>SSR 让搜索引擎爬虫&quot;一眼就能看到&quot;页面的完整内容，而不是一堆等待 JavaScript 执行的空标签。</p><h3 id="认知重构-爬虫不是浏览器" tabindex="-1">认知重构：爬虫不是浏览器 <a class="header-anchor" href="#认知重构-爬虫不是浏览器" aria-label="Permalink to &quot;认知重构：爬虫不是浏览器&quot;">​</a></h3><p>虽然现代搜索引擎（如 Google）的爬虫已经能执行 JavaScript，但这个过程存在显著的<strong>延迟和不确定性</strong>：</p><ol><li><strong>两阶段爬取</strong>：先抓取 HTML，稍后才执行 JS 并重新处理</li><li><strong>渲染队列</strong>：JS 渲染需要排队，可能延迟数小时甚至数天</li><li><strong>资源限制</strong>：爬虫对 JS 执行时间和资源有限制</li><li><strong>兼容性问题</strong>：某些 JS 特性可能不被完全支持</li></ol><h3 id="本质还原-csr-vs-ssr-的-seo-差异" tabindex="-1">本质还原：CSR vs SSR 的 SEO 差异 <a class="header-anchor" href="#本质还原-csr-vs-ssr-的-seo-差异" aria-label="Permalink to &quot;本质还原：CSR vs SSR 的 SEO 差异&quot;">​</a></h3>',7)),(i(),k(r,null,{default:t(()=>[E(n,{id:"mermaid-40",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22CSR%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93%22%0A%20%20%20%20%20%20%20%20A1%5B%22%E7%88%AC%E8%99%AB%E8%AF%B7%E6%B1%82%E9%A1%B5%E9%9D%A2%22%5D%20--%3E%20A2%5B%22%E6%94%B6%E5%88%B0%E7%A9%BA%E5%A3%B3%20HTML%22%5D%0A%20%20%20%20%20%20%20%20A2%20--%3E%20A3%5B%22%E7%AD%89%E5%BE%85%20JS%20%E6%89%A7%E8%A1%8C%E9%98%9F%E5%88%97%22%5D%0A%20%20%20%20%20%20%20%20A3%20--%3E%20A4%5B%22%E6%89%A7%E8%A1%8C%20JS%20%E6%B8%B2%E6%9F%93%E5%86%85%E5%AE%B9%22%5D%0A%20%20%20%20%20%20%20%20A4%20--%3E%20A5%5B%22%E5%8F%AF%E8%83%BD%E8%A2%AB%E7%B4%A2%E5%BC%95%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22SSR%20%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%22%0A%20%20%20%20%20%20%20%20B1%5B%22%E7%88%AC%E8%99%AB%E8%AF%B7%E6%B1%82%E9%A1%B5%E9%9D%A2%22%5D%20--%3E%20B2%5B%22%E6%94%B6%E5%88%B0%E5%AE%8C%E6%95%B4%20HTML%22%5D%0A%20%20%20%20%20%20%20%20B2%20--%3E%20B3%5B%22%E7%AB%8B%E5%8D%B3%E5%8F%AF%E7%B4%A2%E5%BC%95%22%5D%0A%20%20%20%20end%0A"})]),fallback:t(()=>[...s[0]||(s[0]=[e(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=a(`<p><strong>CSR 返回的 HTML</strong>：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/bundle.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>爬虫第一时间看到的只是一个空的 <code>&lt;div&gt;</code>。</p><p><strong>SSR 返回的 HTML</strong>：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;欢迎来到我的博客&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">article</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;如何学习 Next.js&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Next.js 是一个强大的 React 框架...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">article</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>爬虫立即就能看到完整的内容结构。</p><h3 id="next-js-中的-seo-友好实践" tabindex="-1">Next.js 中的 SEO 友好实践 <a class="header-anchor" href="#next-js-中的-seo-友好实践" aria-label="Permalink to &quot;Next.js 中的 SEO 友好实践&quot;">​</a></h3><p>Next.js 的 App Router 默认使用服务器组件，天然对 SEO 友好：</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// app/blog/[slug]/page.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Metadata } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;next&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 动态生成 Meta 信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateMetadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> post</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getPost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params.slug);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    title: post.title,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    description: post.excerpt,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    openGraph: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      title: post.title,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      images: [post.coverImage],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 服务端渲染页面内容</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BlogPost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> post</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getPost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params.slug);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">article</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{post.title}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dangerouslySetInnerHTML</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ __html: post.content }} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">article</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="什么时候用-ssr-什么时候用-csr" tabindex="-1">什么时候用 SSR，什么时候用 CSR？ <a class="header-anchor" href="#什么时候用-ssr-什么时候用-csr" aria-label="Permalink to &quot;什么时候用 SSR，什么时候用 CSR？&quot;">​</a></h3><table tabindex="0"><thead><tr><th>场景</th><th>推荐方案</th><th>原因</th></tr></thead><tbody><tr><td>博客、新闻、产品页</td><td>SSR/SSG</td><td>需要被搜索引擎索引</td></tr><tr><td>用户仪表盘</td><td>CSR</td><td>无需 SEO，需要登录</td></tr><tr><td>电商商品页</td><td>SSR + ISR</td><td>需要 SEO，内容定期更新</td></tr><tr><td>实时聊天</td><td>CSR</td><td>高度动态，无需索引</td></tr></tbody></table><h3 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h3><ul><li><strong>核心意图</strong>：让 AI 帮你判断页面应该使用哪种渲染策略，并生成相应的代码。</li><li><strong>需求定义公式</strong>：<code>&quot;这是一个博客文章页面，需要对 SEO 友好。请使用 Next.js App Router 的服务器组件实现，并包含动态 Meta 标签。&quot;</code></li><li><strong>关键术语</strong>：<code>SSR</code>、<code>generateMetadata</code>、<code>服务器组件</code>、<code>静态生成 (SSG)</code>、<code>ISR</code></li></ul><p><strong>审查要点</strong>：</p><ol><li>页面的核心内容是否在服务端渲染？</li><li><code>&#39;use client&#39;</code> 指令是否只用在真正需要客户端交互的组件上？</li><li>动态 Meta 标签是否正确反映页面内容？</li></ol><h3 id="避坑指南" tabindex="-1">避坑指南 <a class="header-anchor" href="#避坑指南" aria-label="Permalink to &quot;避坑指南&quot;">​</a></h3><ul><li><strong>不要过度使用 <code>&#39;use client&#39;</code></strong>：这会让组件变成客户端渲染，影响 SEO。</li><li><strong>注意数据获取时机</strong>：在服务器组件中获取数据，确保内容在首次渲染时就存在。</li><li><strong>测试爬虫视角</strong>：使用 Google Search Console 的&quot;URL 检查&quot;工具查看页面在爬虫眼中的样子。</li></ul>`,17))])}const D=l(d,[["render",g]]);export{u as __pageData,D as default};
