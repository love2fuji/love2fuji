import{_ as h,C as l,c as p,o as i,a3 as a,b as e,w as t,a as k,G as d,a4 as r}from"./chunks/framework.CUcrqFol.js";const b=JSON.parse('{"title":"4.1.3 数据表的设计规则——范式理论：1NF/2NF/3NF 规范化过程","description":"4.1.3 数据表的设计规则——范式理论：1NF/2NF/3NF 规范化过程 一句话破题 范式是数据库设计的\\"卫生标准\\"——遵守它能避免数据冗余和更新异常。 为什么需要范式？ **不规范的表设计会带来三大问题**： | 问题 | 说明 | 示例 | |------|------|------| | **数据冗余** |","frontmatter":{"title":"4.1.3 数据表的设计规则——范式理论：1NF/2NF/3NF 规范化过程","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/04-database/4.1-data-modeling/4.1.3-normalization.md","filePath":"Advanced-old/04-database/4.1-data-modeling/4.1.3-normalization.md","lastUpdated":1766168364000}'),E={name:"Advanced-old/04-database/4.1-data-modeling/4.1.3-normalization.md"};function g(o,s,y,F,c,C){const n=l("Mermaid");return i(),p("div",null,[s[1]||(s[1]=a('<h1 id="_4-1-3-数据表的设计规则——范式理论-1nf-2nf-3nf-规范化过程" tabindex="-1">4.1.3 数据表的设计规则——范式理论：1NF/2NF/3NF 规范化过程 <a class="header-anchor" href="#_4-1-3-数据表的设计规则——范式理论-1nf-2nf-3nf-规范化过程" aria-label="Permalink to &quot;4.1.3 数据表的设计规则——范式理论：1NF/2NF/3NF 规范化过程&quot;">​</a></h1><h3 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h3><p>范式是数据库设计的&quot;卫生标准&quot;——遵守它能避免数据冗余和更新异常。</p><h3 id="为什么需要范式" tabindex="-1">为什么需要范式？ <a class="header-anchor" href="#为什么需要范式" aria-label="Permalink to &quot;为什么需要范式？&quot;">​</a></h3><p><strong>不规范的表设计会带来三大问题</strong>：</p><table tabindex="0"><thead><tr><th>问题</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><strong>数据冗余</strong></td><td>相同信息重复存储</td><td>每条订单都存储完整的客户地址</td></tr><tr><td><strong>更新异常</strong></td><td>修改数据需要改多处</td><td>客户改地址，要更新所有相关订单</td></tr><tr><td><strong>删除异常</strong></td><td>删数据可能丢失有用信息</td><td>删除唯一订单时，客户信息也没了</td></tr></tbody></table><h3 id="三大范式速览" tabindex="-1">三大范式速览 <a class="header-anchor" href="#三大范式速览" aria-label="Permalink to &quot;三大范式速览&quot;">​</a></h3>',7)),(i(),e(r,null,{default:t(()=>[d(n,{id:"mermaid-68",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20A%5B%221NF%3A%20%E5%8E%9F%E5%AD%90%E6%80%A7%22%5D%20--%3E%20B%5B%222NF%3A%20%E5%AE%8C%E5%85%A8%E4%BE%9D%E8%B5%96%22%5D%0A%20%20%20%20B%20--%3E%20C%5B%223NF%3A%20%E6%B6%88%E9%99%A4%E4%BC%A0%E9%80%92%E4%BE%9D%E8%B5%96%22%5D%0A"})]),fallback:t(()=>[...s[0]||(s[0]=[k(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=a(`<table tabindex="0"><thead><tr><th>范式</th><th>核心要求</th><th>通俗解释</th></tr></thead><tbody><tr><td><strong>1NF</strong></td><td>字段不可再分</td><td>一个格子只放一个值</td></tr><tr><td><strong>2NF</strong></td><td>非主键完全依赖主键</td><td>所有字段都跟主键直接相关</td></tr><tr><td><strong>3NF</strong></td><td>消除传递依赖</td><td>字段之间不要&quot;套娃&quot;依赖</td></tr></tbody></table><h3 id="第一范式-原子性" tabindex="-1">第一范式：原子性 <a class="header-anchor" href="#第一范式-原子性" aria-label="Permalink to &quot;第一范式：原子性&quot;">​</a></h3><p><strong>规则</strong>：每个字段的值必须是不可再分的原子值。</p><p><strong>反例</strong>：</p><table tabindex="0"><thead><tr><th>订单ID</th><th>商品列表</th></tr></thead><tbody><tr><td>001</td><td>苹果,香蕉,橙子</td></tr></tbody></table><p><strong>正确做法</strong>：</p><table tabindex="0"><thead><tr><th>订单ID</th><th>商品</th></tr></thead><tbody><tr><td>001</td><td>苹果</td></tr><tr><td>001</td><td>香蕉</td></tr><tr><td>001</td><td>橙子</td></tr></tbody></table><p>或者使用关联表：</p><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Order</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      @id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  items </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">OrderItem</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OrderItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  orderId  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  product  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  quantity </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  order    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Order</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">orderId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="第二范式-完全依赖" tabindex="-1">第二范式：完全依赖 <a class="header-anchor" href="#第二范式-完全依赖" aria-label="Permalink to &quot;第二范式：完全依赖&quot;">​</a></h3><p><strong>规则</strong>：非主键字段必须完全依赖于主键，不能只依赖主键的一部分。</p><p><strong>反例</strong>（复合主键场景）：</p><table tabindex="0"><thead><tr><th>学生ID</th><th>课程ID</th><th>学生姓名</th><th>课程名称</th><th>成绩</th></tr></thead><tbody><tr><td>S001</td><td>C001</td><td>张三</td><td>数学</td><td>90</td></tr></tbody></table><p>问题：<code>学生姓名</code>只依赖<code>学生ID</code>，<code>课程名称</code>只依赖<code>课程ID</code>。</p><p><strong>正确做法</strong>：拆分成三张表</p><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scores  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Course</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scores  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Score</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  studentId </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  courseId  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  score     </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  student   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Student</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">studentId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  course    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Course</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">courseId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @@id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">studentId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">courseId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="第三范式-消除传递依赖" tabindex="-1">第三范式：消除传递依赖 <a class="header-anchor" href="#第三范式-消除传递依赖" aria-label="Permalink to &quot;第三范式：消除传递依赖&quot;">​</a></h3><p><strong>规则</strong>：非主键字段不能依赖于其他非主键字段。</p><p><strong>反例</strong>：</p><table tabindex="0"><thead><tr><th>员工ID</th><th>员工姓名</th><th>部门ID</th><th>部门名称</th><th>部门地址</th></tr></thead><tbody><tr><td>E001</td><td>张三</td><td>D001</td><td>技术部</td><td>3楼</td></tr></tbody></table><p>问题：<code>部门名称</code>和<code>部门地址</code>依赖于<code>部门ID</code>，而不是直接依赖于<code>员工ID</code>。</p><p><strong>正确做法</strong>：</p><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Employee</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name         </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  departmentId </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  department   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Department</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">departmentId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Department</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  location  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  employees </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Employee</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="规范化的实际效果" tabindex="-1">规范化的实际效果 <a class="header-anchor" href="#规范化的实际效果" aria-label="Permalink to &quot;规范化的实际效果&quot;">​</a></h3><p><strong>规范化前</strong>：订单表存储冗余客户信息</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>订单表：</span></span>
<span class="line"><span>| 订单ID | 客户ID | 客户姓名 | 客户地址 | 商品 | 金额 |</span></span></code></pre></div><p><strong>规范化后</strong>：</p><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Order</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id         </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  customerId </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  customer   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Customer</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">customerId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  items      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">OrderItem</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  total      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Decimal</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Customer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  address </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  orders  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Order</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="范式检查清单" tabindex="-1">范式检查清单 <a class="header-anchor" href="#范式检查清单" aria-label="Permalink to &quot;范式检查清单&quot;">​</a></h3><p>设计表时，逐项检查：</p><ul><li>[ ] <strong>1NF</strong>：所有字段都是原子值？没有数组或逗号分隔的值？</li><li>[ ] <strong>2NF</strong>：所有非主键字段都依赖于完整的主键？</li><li>[ ] <strong>3NF</strong>：非主键字段之间没有依赖关系？</li></ul><h3 id="实际开发中的权衡" tabindex="-1">实际开发中的权衡 <a class="header-anchor" href="#实际开发中的权衡" aria-label="Permalink to &quot;实际开发中的权衡&quot;">​</a></h3><p>范式理论是<strong>理想状态</strong>，实际开发中需要权衡：</p><table tabindex="0"><thead><tr><th>严格遵守范式</th><th>适度违反范式</th></tr></thead><tbody><tr><td>数据一致性好</td><td>查询性能更高</td></tr><tr><td>存储空间小</td><td>减少 JOIN 操作</td></tr><tr><td>更新方便</td><td>代码更简单</td></tr></tbody></table><p><strong>建议</strong>：先按范式设计，遇到性能瓶颈再考虑反范式化（下一节详述）。</p><h3 id="本节小结" tabindex="-1">本节小结 <a class="header-anchor" href="#本节小结" aria-label="Permalink to &quot;本节小结&quot;">​</a></h3><ul><li>1NF：字段值不可再分</li><li>2NF：非主键完全依赖主键</li><li>3NF：消除传递依赖</li><li>遵守范式能避免数据冗余和更新异常</li><li>实际开发中需要在规范和性能之间权衡</li></ul>`,37))])}const m=h(E,[["render",g]]);export{b as __pageData,m as default};
