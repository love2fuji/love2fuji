import{_ as l,C as p,c as e,o as a,a3 as i,b as h,w as n,a as k,G as d,a4 as o}from"./chunks/framework.CUcrqFol.js";const F=JSON.parse('{"title":"5.1.6 如何让 AI 记住你的项目——上下文管理策略","description":"5.1.6 如何让 AI 记住你的项目——上下文管理策略 一句话破题 AI 的\\"记忆\\"是有限的，**有效组织和投喂上下文**是高效协作的关键。 理解 AI 的\\"记忆\\"限制 AI 并不真的\\"记住\\"你的项目。每次对话，它只能看到： **当前对话历史**（有 token 数量限制） **你主动提供的文件内容** **工具读取","frontmatter":{"title":"5.1.6 如何让 AI 记住你的项目——上下文管理策略","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/05-product/5.1-ai-product-dev/5.1.6-context.md","filePath":"Advanced-old/05-product/5.1-ai-product-dev/5.1.6-context.md","lastUpdated":1766168364000}'),r={name:"Advanced-old/05-product/5.1-ai-product-dev/5.1.6-context.md"};function c(E,s,g,u,b,A){const t=p("Mermaid");return a(),e("div",null,[s[1]||(s[1]=i('<h1 id="_5-1-6-如何让-ai-记住你的项目——上下文管理策略" tabindex="-1">5.1.6 如何让 AI 记住你的项目——上下文管理策略 <a class="header-anchor" href="#_5-1-6-如何让-ai-记住你的项目——上下文管理策略" aria-label="Permalink to &quot;5.1.6 如何让 AI 记住你的项目——上下文管理策略&quot;">​</a></h1><h3 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h3><p>AI 的&quot;记忆&quot;是有限的，<strong>有效组织和投喂上下文</strong>是高效协作的关键。</p><h3 id="理解-ai-的-记忆-限制" tabindex="-1">理解 AI 的&quot;记忆&quot;限制 <a class="header-anchor" href="#理解-ai-的-记忆-限制" aria-label="Permalink to &quot;理解 AI 的&quot;记忆&quot;限制&quot;">​</a></h3><p>AI 并不真的&quot;记住&quot;你的项目。每次对话，它只能看到：</p><ol><li><strong>当前对话历史</strong>（有 token 数量限制）</li><li><strong>你主动提供的文件内容</strong></li><li><strong>工具读取的代码片段</strong></li></ol>',6)),(a(),h(o,null,{default:n(()=>[d(t,{id:"mermaid-32",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20A%5B%22%E4%BD%A0%E7%9A%84%E6%95%B4%E4%B8%AA%E9%A1%B9%E7%9B%AE%5Cn100%2B%20%E6%96%87%E4%BB%B6%22%5D%20--%3E%20B%5B%22AI%20%E8%83%BD%E7%9C%8B%E5%88%B0%E7%9A%84%5Cn%E5%BD%93%E5%89%8D%E5%AF%B9%E8%AF%9D%20%2B%20%E9%80%89%E4%B8%AD%E6%96%87%E4%BB%B6%22%5D%0A%20%20%20%20B%20--%3E%20C%5B%22AI%20%E7%9A%84%E7%90%86%E8%A7%A3%5Cn%E5%9F%BA%E4%BA%8E%E6%9C%89%E9%99%90%E4%B8%8A%E4%B8%8B%E6%96%87%22%5D%0A"})]),fallback:n(()=>[...s[0]||(s[0]=[k(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=i(`<h3 id="上下文管理的三个层次" tabindex="-1">上下文管理的三个层次 <a class="header-anchor" href="#上下文管理的三个层次" aria-label="Permalink to &quot;上下文管理的三个层次&quot;">​</a></h3><h4 id="层次一-项目级上下文" tabindex="-1">层次一：项目级上下文 <a class="header-anchor" href="#层次一-项目级上下文" aria-label="Permalink to &quot;层次一：项目级上下文&quot;">​</a></h4><p>在项目根目录创建一个 <code>CONTEXT.md</code> 或 <code>AI_INSTRUCTIONS.md</code> 文件：</p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># 项目概述</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">这是一个博客系统，使用 Next.js 16 + Prisma + PostgreSQL</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># 技术规范</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 使用 App Router，不使用 Pages Router</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 样式统一使用 Tailwind CSS</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 数据库操作统一使用 Prisma</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> API 遵循 RESTful 规范</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># 目录结构</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app/：页面和 API 路由</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> components/：可复用组件</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lib/：工具函数</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma/：数据库 schema</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># 代码规范</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 组件使用 PascalCase 命名</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 文件使用 kebab-case 命名</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 优先使用服务器组件</span></span></code></pre></div><h4 id="层次二-模块级上下文" tabindex="-1">层次二：模块级上下文 <a class="header-anchor" href="#层次二-模块级上下文" aria-label="Permalink to &quot;层次二：模块级上下文&quot;">​</a></h4><p>在复杂模块目录下创建 <code>README.md</code>：</p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># 用户认证模块</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 功能</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 邮箱密码登录</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 第三方 OAuth（GitHub、Google）</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JWT Token 管理</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 相关文件</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app/api/auth/：认证相关 API</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lib/auth.ts：认证工具函数</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> middleware.ts：路由保护</span></span></code></pre></div><h4 id="层次三-任务级上下文" tabindex="-1">层次三：任务级上下文 <a class="header-anchor" href="#层次三-任务级上下文" aria-label="Permalink to &quot;层次三：任务级上下文&quot;">​</a></h4><p>每次对话开始时，提供当前任务的上下文：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>当前任务：实现文章搜索功能</span></span>
<span class="line"><span></span></span>
<span class="line"><span>相关文件：</span></span>
<span class="line"><span>- app/api/posts/route.ts（已有文章列表 API）</span></span>
<span class="line"><span>- prisma/schema.prisma（Post 模型）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>需求：在 GET /api/posts 接口增加 search 参数，</span></span>
<span class="line"><span>支持按标题和内容模糊搜索</span></span></code></pre></div><h3 id="实用技巧" tabindex="-1">实用技巧 <a class="header-anchor" href="#实用技巧" aria-label="Permalink to &quot;实用技巧&quot;">​</a></h3><h4 id="_1-使用-引用文件" tabindex="-1">1. 使用 @ 引用文件 <a class="header-anchor" href="#_1-使用-引用文件" aria-label="Permalink to &quot;1. 使用 @ 引用文件&quot;">​</a></h4><p>在 Cursor 等 AI IDE 中，使用 <code>@文件名</code> 快速引入上下文：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>@schema.prisma @route.ts </span></span>
<span class="line"><span>请在这个基础上添加分类功能</span></span></code></pre></div><h4 id="_2-创建上下文快照" tabindex="-1">2. 创建上下文快照 <a class="header-anchor" href="#_2-创建上下文快照" aria-label="Permalink to &quot;2. 创建上下文快照&quot;">​</a></h4><p>在重要节点保存当前状态的描述：</p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 2024-01-15 状态快照</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### 已完成</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 用户注册登录</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 文章 CRUD</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 基本 UI</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### 进行中</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 评论功能</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### 待开始</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 搜索</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RSS</span></span></code></pre></div><h4 id="_3-分段投喂" tabindex="-1">3. 分段投喂 <a class="header-anchor" href="#_3-分段投喂" aria-label="Permalink to &quot;3. 分段投喂&quot;">​</a></h4><p>如果上下文太长，分成多次投喂：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>第一次：我要给你介绍一下项目背景...</span></span>
<span class="line"><span>第二次：这是相关的数据模型...</span></span>
<span class="line"><span>第三次：现在请帮我实现这个功能...</span></span></code></pre></div><h3 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h3><p><strong>Q：AI 忘记了之前说过的内容怎么办？</strong></p><p>A：重新提供关键信息，或者在新对话开始时先总结之前的进展。</p><p><strong>Q：项目太大，AI 无法理解全貌怎么办？</strong></p><p>A：只提供与当前任务相关的文件，不需要让 AI 了解整个项目。</p><p><strong>Q：如何判断上下文是否足够？</strong></p><p>A：如果 AI 的回答明显偏离预期，很可能是上下文不足。补充相关信息后重试。</p>`,27))])}const B=l(r,[["render",c]]);export{F as __pageData,B as default};
