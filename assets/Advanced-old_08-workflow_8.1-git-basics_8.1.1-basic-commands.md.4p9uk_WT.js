import{_ as p,C as e,c as h,o as t,j as i,b as d,a3 as k,a,w as n,G as r,a4 as o}from"./chunks/framework.CUcrqFol.js";const B=JSON.parse('{"title":"8.1.1 后悔药怎么吃——Git 基础命令：add/commit/push/pull","description":"8.1.1 后悔药怎么吃——Git 基础命令 Git 的四个核心命令——add、commit、push、pull——构成了日常开发的基本操作闭环。 核心概念：三个区域 | 区域 | 说明 | 类比 | |------|------|------| | 工作区 | 你正在编辑的文件 | 草稿纸 | | 暂存区 | 准备提","frontmatter":{"title":"8.1.1 后悔药怎么吃——Git 基础命令：add/commit/push/pull","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/08-workflow/8.1-git-basics/8.1.1-basic-commands.md","filePath":"Advanced-old/08-workflow/8.1-git-basics/8.1.1-basic-commands.md","lastUpdated":1766168364000}'),g={name:"Advanced-old/08-workflow/8.1-git-basics/8.1.1-basic-commands.md"};function c(F,s,C,u,y,b){const l=e("Mermaid");return t(),h("div",null,[s[1]||(s[1]=i("h1",{id:"_8-1-1-后悔药怎么吃——git-基础命令",tabindex:"-1"},[a("8.1.1 后悔药怎么吃——Git 基础命令 "),i("a",{class:"header-anchor",href:"#_8-1-1-后悔药怎么吃——git-基础命令","aria-label":'Permalink to "8.1.1 后悔药怎么吃——Git 基础命令"'},"​")],-1)),s[2]||(s[2]=i("p",null,"Git 的四个核心命令——add、commit、push、pull——构成了日常开发的基本操作闭环。",-1)),s[3]||(s[3]=i("h2",{id:"核心概念-三个区域",tabindex:"-1"},[a("核心概念：三个区域 "),i("a",{class:"header-anchor",href:"#核心概念-三个区域","aria-label":'Permalink to "核心概念：三个区域"'},"​")],-1)),(t(),d(o,null,{default:n(()=>[r(l,{id:"mermaid-9",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20A%5B%E5%B7%A5%E4%BD%9C%E5%8C%BA%3Cbr%2F%3EWorking%20Directory%5D%20--%3E%7Cgit%20add%7C%20B%5B%E6%9A%82%E5%AD%98%E5%8C%BA%3Cbr%2F%3EStaging%20Area%5D%0A%20%20%20%20B%20--%3E%7Cgit%20commit%7C%20C%5B%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%3Cbr%2F%3ELocal%20Repository%5D%0A%20%20%20%20C%20--%3E%7Cgit%20push%7C%20D%5B%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%3Cbr%2F%3ERemote%20Repository%5D%0A%20%20%20%20D%20--%3E%7Cgit%20pull%7C%20A%0A"})]),fallback:n(()=>[...s[0]||(s[0]=[a(" Loading... ",-1)])]),_:1})),s[4]||(s[4]=k(`<table tabindex="0"><thead><tr><th>区域</th><th>说明</th><th>类比</th></tr></thead><tbody><tr><td>工作区</td><td>你正在编辑的文件</td><td>草稿纸</td></tr><tr><td>暂存区</td><td>准备提交的变更</td><td>购物车</td></tr><tr><td>本地仓库</td><td>已提交的版本历史</td><td>个人存档</td></tr><tr><td>远程仓库</td><td>团队共享的代码库</td><td>云端备份</td></tr></tbody></table><h2 id="四大核心命令" tabindex="-1">四大核心命令 <a class="header-anchor" href="#四大核心命令" aria-label="Permalink to &quot;四大核心命令&quot;">​</a></h2><h3 id="_1-git-add-将变更加入暂存区" tabindex="-1">1. git add：将变更加入暂存区 <a class="header-anchor" href="#_1-git-add-将变更加入暂存区" aria-label="Permalink to &quot;1. git add：将变更加入暂存区&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加单个文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/index.ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加所有变更</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加特定类型文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.tsx&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 交互式添加（逐个确认）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span></span></code></pre></div><p><strong>注意</strong>：<code>git add .</code> 会添加当前目录下所有变更，确保 <code>.gitignore</code> 配置正确。</p><h3 id="_2-git-commit-创建版本快照" tabindex="-1">2. git commit：创建版本快照 <a class="header-anchor" href="#_2-git-commit-创建版本快照" aria-label="Permalink to &quot;2. git commit：创建版本快照&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 提交并附带消息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 添加用户登录功能&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加并提交（跳过 add）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -am</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fix: 修复登录验证问题&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改上一次提交</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --amend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 添加用户登录功能（含验证）&quot;</span></span></code></pre></div><p><strong>最佳实践</strong>：</p><ul><li>每次提交应该是一个&quot;逻辑完整&quot;的变更</li><li>提交信息遵循 Conventional Commits 规范</li><li>避免提交未完成或有明显错误的代码</li></ul><h3 id="_3-git-push-推送到远程仓库" tabindex="-1">3. git push：推送到远程仓库 <a class="header-anchor" href="#_3-git-push-推送到远程仓库" aria-label="Permalink to &quot;3. git push：推送到远程仓库&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 推送当前分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 首次推送新分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feat/login</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 强制推送（慎用！）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span></span></code></pre></div><p><strong>警告</strong>：<code>--force</code> 会覆盖远程历史，只在自己独占的分支上使用。</p><h3 id="_4-git-pull-拉取远程更新" tabindex="-1">4. git pull：拉取远程更新 <a class="header-anchor" href="#_4-git-pull-拉取远程更新" aria-label="Permalink to &quot;4. git pull：拉取远程更新&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 拉取并合并</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 拉取并变基（保持提交历史线性）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rebase</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 只获取不合并</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span></span></code></pre></div><p><strong>推荐</strong>：使用 <code>git pull --rebase</code> 可以保持提交历史整洁。</p><h2 id="常用辅助命令" tabindex="-1">常用辅助命令 <a class="header-anchor" href="#常用辅助命令" aria-label="Permalink to &quot;常用辅助命令&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看当前状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看变更内容</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看提交历史</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --oneline</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看远程仓库信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre></div><h2 id="典型工作流程" tabindex="-1">典型工作流程 <a class="header-anchor" href="#典型工作流程" aria-label="Permalink to &quot;典型工作流程&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 开始工作前，拉取最新代码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rebase</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 进行开发...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 查看变更</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4. 添加变更到暂存区</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5. 提交变更</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 完成用户注册页面&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 6. 推送到远程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span></code></pre></div><h2 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h2><p>向 AI 描述 Git 操作需求时，说明：</p><ul><li>你想完成什么操作（如&quot;撤销上次提交&quot;）</li><li>当前状态（是否已推送、是否有未提交变更）</li><li>是否需要保留变更内容</li></ul><p><strong>示例 Prompt</strong>：</p><blockquote><p>&quot;我刚提交了一个 commit 但还没 push，发现漏了一个文件，如何把这个文件补充到上一次提交中？&quot;</p></blockquote><h2 id="避坑指南" tabindex="-1">避坑指南 <a class="header-anchor" href="#避坑指南" aria-label="Permalink to &quot;避坑指南&quot;">​</a></h2><table tabindex="0"><thead><tr><th>问题</th><th>原因</th><th>解决方案</th></tr></thead><tbody><tr><td>push 被拒绝</td><td>远程有新提交</td><td>先 <code>git pull --rebase</code></td></tr><tr><td>提交了敏感文件</td><td>.gitignore 未配置</td><td>使用 <code>git rm --cached</code> 移除</td></tr><tr><td>commit 信息写错</td><td>手误</td><td><code>git commit --amend</code> 修改</td></tr><tr><td>误删文件</td><td>操作失误</td><td><code>git checkout -- filename</code> 恢复</td></tr></tbody></table>`,26))])}const A=p(g,[["render",c]]);export{B as __pageData,A as default};
