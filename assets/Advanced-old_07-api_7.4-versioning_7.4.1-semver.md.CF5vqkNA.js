import{_ as k,C as r,c as d,o as i,a3 as n,b as p,w as a,a as l,G as h,a4 as e}from"./chunks/framework.CUcrqFol.js";const b=JSON.parse('{"title":"7.4.1 v1 和 v2 的讲究——语义化版本：主版本/次版本/修订版本","description":"7.4.1 语义化版本 一句话破题 版本号不是随便取的数字——主版本变化意味着不兼容的改动，次版本意味着新功能，修订版本意味着修复。 语义化版本格式 | 部分 | 何时变更 | 示例 | |------|----------|------| | **主版本 (MAJOR)** | 不兼容的 API 变更 | 1.0.0","frontmatter":{"title":"7.4.1 v1 和 v2 的讲究——语义化版本：主版本/次版本/修订版本","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/07-api/7.4-versioning/7.4.1-semver.md","filePath":"Advanced-old/07-api/7.4-versioning/7.4.1-semver.md","lastUpdated":1766168364000}'),g={name:"Advanced-old/07-api/7.4-versioning/7.4.1-semver.md"};function E(o,s,c,y,F,A){const t=r("Mermaid");return i(),d("div",null,[s[2]||(s[2]=n(`<h1 id="_7-4-1-语义化版本" tabindex="-1">7.4.1 语义化版本 <a class="header-anchor" href="#_7-4-1-语义化版本" aria-label="Permalink to &quot;7.4.1 语义化版本&quot;">​</a></h1><h2 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h2><p>版本号不是随便取的数字——主版本变化意味着不兼容的改动，次版本意味着新功能，修订版本意味着修复。</p><h2 id="语义化版本格式" tabindex="-1">语义化版本格式 <a class="header-anchor" href="#语义化版本格式" aria-label="Permalink to &quot;语义化版本格式&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>MAJOR.MINOR.PATCH</span></span>
<span class="line"><span>主版本.次版本.修订版本</span></span></code></pre></div>`,5)),(i(),p(e,null,{default:a(()=>[h(t,{id:"mermaid-13",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20SemVer%5B%221.2.3%22%5D%0A%20%20%20%20%20%20%20%20Major%5B%221%20%E4%B8%BB%E7%89%88%E6%9C%AC%22%5D%20--%3E%20Minor%5B%222%20%E6%AC%A1%E7%89%88%E6%9C%AC%22%5D%0A%20%20%20%20%20%20%20%20Minor%20--%3E%20Patch%5B%223%20%E4%BF%AE%E8%AE%A2%E7%89%88%E6%9C%AC%22%5D%0A%20%20%20%20end%0A"})]),fallback:a(()=>[...s[0]||(s[0]=[l(" Loading... ",-1)])]),_:1})),s[3]||(s[3]=n(`<table tabindex="0"><thead><tr><th>部分</th><th>何时变更</th><th>示例</th></tr></thead><tbody><tr><td><strong>主版本 (MAJOR)</strong></td><td>不兼容的 API 变更</td><td>1.0.0 → 2.0.0</td></tr><tr><td><strong>次版本 (MINOR)</strong></td><td>新增功能，向后兼容</td><td>1.0.0 → 1.1.0</td></tr><tr><td><strong>修订版本 (PATCH)</strong></td><td>Bug 修复，向后兼容</td><td>1.0.0 → 1.0.1</td></tr></tbody></table><h2 id="版本变更规则" tabindex="-1">版本变更规则 <a class="header-anchor" href="#版本变更规则" aria-label="Permalink to &quot;版本变更规则&quot;">​</a></h2><h3 id="主版本变更-major" tabindex="-1">主版本变更 (MAJOR) <a class="header-anchor" href="#主版本变更-major" aria-label="Permalink to &quot;主版本变更 (MAJOR)&quot;">​</a></h3><p><strong>不兼容的变更</strong>：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v1.0.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v2.0.0 - 字段重命名，不兼容</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  fullName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // name → fullName</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="次版本变更-minor" tabindex="-1">次版本变更 (MINOR) <a class="header-anchor" href="#次版本变更-minor" aria-label="Permalink to &quot;次版本变更 (MINOR)&quot;">​</a></h3><p><strong>新增功能，保持兼容</strong>：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v1.0.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v1.1.0 - 新增可选字段，向后兼容</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  avatar</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 新增</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="修订版本变更-patch" tabindex="-1">修订版本变更 (PATCH) <a class="header-anchor" href="#修订版本变更-patch" aria-label="Permalink to &quot;修订版本变更 (PATCH)&quot;">​</a></h3><p><strong>Bug 修复</strong>：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v1.0.0 - 有 Bug</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">birthDate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFullYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(birthDate).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFullYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v1.0.1 - 修复了 Bug</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">birthDate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> today</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> birth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(birthDate)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> today.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFullYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> birth.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFullYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 修复：检查是否已过生日</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (today.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMonth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> birth.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMonth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) age</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="api-版本控制" tabindex="-1">API 版本控制 <a class="header-anchor" href="#api-版本控制" aria-label="Permalink to &quot;API 版本控制&quot;">​</a></h2><h3 id="简化版本号" tabindex="-1">简化版本号 <a class="header-anchor" href="#简化版本号" aria-label="Permalink to &quot;简化版本号&quot;">​</a></h3><p>对于 API，通常只使用主版本号：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/api/v1/users    # 主版本 1</span></span>
<span class="line"><span>/api/v2/users    # 主版本 2</span></span></code></pre></div><h3 id="何时升级主版本" tabindex="-1">何时升级主版本 <a class="header-anchor" href="#何时升级主版本" aria-label="Permalink to &quot;何时升级主版本&quot;">​</a></h3><table tabindex="0"><thead><tr><th>变更类型</th><th>是否需要新版本</th></tr></thead><tbody><tr><td>删除字段</td><td>✅ 是</td></tr><tr><td>重命名字段</td><td>✅ 是</td></tr><tr><td>改变字段类型</td><td>✅ 是</td></tr><tr><td>改变必填状态（可选→必填）</td><td>✅ 是</td></tr><tr><td>新增必填字段</td><td>✅ 是</td></tr><tr><td>新增可选字段</td><td>❌ 否</td></tr><tr><td>新增接口</td><td>❌ 否</td></tr><tr><td>修复 Bug</td><td>❌ 否</td></tr></tbody></table><h2 id="版本演进示例" tabindex="-1">版本演进示例 <a class="header-anchor" href="#版本演进示例" aria-label="Permalink to &quot;版本演进示例&quot;">​</a></h2>`,18)),(i(),p(e,null,{default:a(()=>[h(t,{id:"mermaid-182",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20V1%5B%22v1.0.0%3Cbr%2F%3E%E5%88%9D%E5%A7%8B%E5%8F%91%E5%B8%83%22%5D%20--%3E%20V11%5B%22v1.1.0%3Cbr%2F%3E%E6%96%B0%E5%A2%9E%20avatar%20%E5%AD%97%E6%AE%B5%22%5D%0A%20%20%20%20V11%20--%3E%20V12%5B%22v1.2.0%3Cbr%2F%3E%E6%96%B0%E5%A2%9E%20settings%20%E6%8E%A5%E5%8F%A3%22%5D%0A%20%20%20%20V12%20--%3E%20V121%5B%22v1.2.1%3Cbr%2F%3E%E4%BF%AE%E5%A4%8D%E5%88%86%E9%A1%B5%20Bug%22%5D%0A%20%20%20%20V121%20--%3E%20V2%5B%22v2.0.0%3Cbr%2F%3E%E9%87%8D%E6%9E%84%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9E%8B%22%5D%0A"})]),fallback:a(()=>[...s[1]||(s[1]=[l(" Loading... ",-1)])]),_:1})),s[4]||(s[4]=n(`<h3 id="版本历史" tabindex="-1">版本历史 <a class="header-anchor" href="#版本历史" aria-label="Permalink to &quot;版本历史&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>v1.0.0 (2024-01-01)</span></span>
<span class="line"><span>- 初始发布</span></span>
<span class="line"><span>- 用户 CRUD 接口</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.1.0 (2024-02-01)</span></span>
<span class="line"><span>- 新增: 用户头像字段 (avatar)</span></span>
<span class="line"><span>- 新增: 头像上传接口</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.2.0 (2024-03-01)</span></span>
<span class="line"><span>- 新增: 用户设置接口</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.2.1 (2024-03-15)</span></span>
<span class="line"><span>- 修复: 分页参数验证问题</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v2.0.0 (2024-06-01)</span></span>
<span class="line"><span>- 破坏性变更: name 字段拆分为 firstName 和 lastName</span></span>
<span class="line"><span>- 破坏性变更: 删除废弃的 nickname 字段</span></span></code></pre></div><h2 id="预发布版本" tabindex="-1">预发布版本 <a class="header-anchor" href="#预发布版本" aria-label="Permalink to &quot;预发布版本&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1.0.0-alpha    # 内部测试</span></span>
<span class="line"><span>1.0.0-beta     # 公开测试</span></span>
<span class="line"><span>1.0.0-rc.1     # 发布候选</span></span>
<span class="line"><span>1.0.0          # 正式发布</span></span></code></pre></div><h3 id="适用场景" tabindex="-1">适用场景 <a class="header-anchor" href="#适用场景" aria-label="Permalink to &quot;适用场景&quot;">​</a></h3><table tabindex="0"><thead><tr><th>阶段</th><th>用途</th></tr></thead><tbody><tr><td><strong>alpha</strong></td><td>功能不完整，仅内部测试</td></tr><tr><td><strong>beta</strong></td><td>功能完整，可能有 Bug</td></tr><tr><td><strong>rc</strong></td><td>准备发布，最后测试</td></tr><tr><td><strong>正式版</strong></td><td>稳定可用</td></tr></tbody></table><h2 id="版本比较" tabindex="-1">版本比较 <a class="header-anchor" href="#版本比较" aria-label="Permalink to &quot;版本比较&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 版本比较规则</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1.0.0 &lt; 1.0.1 &lt; 1.1.0 &lt; 2.0.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1.0.0-alpha &lt; 1.0.0-beta &lt; 1.0.0-rc.1 &lt; 1.0.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> compareVersions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> parts1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Number)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> parts2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Number)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (parts1[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parts2[i]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (parts1[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parts2[i]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="觉知-常见错误" tabindex="-1">觉知：常见错误 <a class="header-anchor" href="#觉知-常见错误" aria-label="Permalink to &quot;觉知：常见错误&quot;">​</a></h2><h3 id="_1-版本号随意增加" tabindex="-1">1. 版本号随意增加 <a class="header-anchor" href="#_1-版本号随意增加" aria-label="Permalink to &quot;1. 版本号随意增加&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>❌ 修复一个小 Bug 就升到 2.0.0</span></span>
<span class="line"><span>❌ 每次发布都升主版本号</span></span>
<span class="line"><span></span></span>
<span class="line"><span>✅ 按照语义化规则升级</span></span>
<span class="line"><span>   - 不兼容变更 → 主版本</span></span>
<span class="line"><span>   - 新功能 → 次版本</span></span>
<span class="line"><span>   - Bug 修复 → 修订版本</span></span></code></pre></div><h3 id="_2-忽视-0-x-x-的含义" tabindex="-1">2. 忽视 0.x.x 的含义 <a class="header-anchor" href="#_2-忽视-0-x-x-的含义" aria-label="Permalink to &quot;2. 忽视 0.x.x 的含义&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0.x.x 表示开发阶段，API 可能随时变化</span></span>
<span class="line"><span>1.0.0 是第一个稳定版本</span></span>
<span class="line"><span></span></span>
<span class="line"><span>0.1.0 → 0.2.0  可以有不兼容变更</span></span>
<span class="line"><span>1.1.0 → 1.2.0  必须向后兼容</span></span></code></pre></div><h3 id="_3-api-版本与包版本混淆" tabindex="-1">3. API 版本与包版本混淆 <a class="header-anchor" href="#_3-api-版本与包版本混淆" aria-label="Permalink to &quot;3. API 版本与包版本混淆&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>API 版本: /api/v1/users, /api/v2/users</span></span>
<span class="line"><span>包版本: 1.2.3, 2.0.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>两者独立管理，不需要同步</span></span></code></pre></div><h2 id="本节小结" tabindex="-1">本节小结 <a class="header-anchor" href="#本节小结" aria-label="Permalink to &quot;本节小结&quot;">​</a></h2><table tabindex="0"><thead><tr><th>要点</th><th>说明</th></tr></thead><tbody><tr><td><strong>主版本</strong></td><td>不兼容的变更</td></tr><tr><td><strong>次版本</strong></td><td>新功能，向后兼容</td></tr><tr><td><strong>修订版本</strong></td><td>Bug 修复</td></tr><tr><td><strong>API 版本</strong></td><td>通常只用主版本号</td></tr></tbody></table>`,17))])}const C=k(g,[["render",E]]);export{b as __pageData,C as default};
