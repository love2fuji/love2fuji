import{_ as r,C as A,c as p,o as t,j as i,b as e,a3 as d,a,w as E,G as l,a4 as h}from"./chunks/framework.CUcrqFol.js";const C=JSON.parse('{"title":"2.2 你的网页何时被创建——Next.js 渲染策略全景","description":"2.2 你的网页何时被创建——Next.js 渲染策略全景 认知重构 网页的 HTML 内容，到底是在什么时候、由谁来生成的？这个问题的答案，就是\\"渲染策略\\"的本质。 四种渲染策略对比 | 策略 | HTML 生成时机 | 生成者 | 首屏速度 | SEO | 数据新鲜度 | |------|-------------","frontmatter":{"title":"2.2 你的网页何时被创建——Next.js 渲染策略全景","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/02-tech-stack/2.2-rendering-strategies/index.md","filePath":"Advanced-old/02-tech-stack/2.2-rendering-strategies/index.md","lastUpdated":1766168364000}'),k={name:"Advanced-old/02-tech-stack/2.2-rendering-strategies/index.md"};function B(o,s,g,F,D,c){const n=A("Mermaid");return t(),p("div",null,[s[3]||(s[3]=i("h1",{id:"_2-2-你的网页何时被创建——next-js-渲染策略全景",tabindex:"-1"},[a("2.2 你的网页何时被创建——Next.js 渲染策略全景 "),i("a",{class:"header-anchor",href:"#_2-2-你的网页何时被创建——next-js-渲染策略全景","aria-label":'Permalink to "2.2 你的网页何时被创建——Next.js 渲染策略全景"'},"​")],-1)),s[4]||(s[4]=i("h2",{id:"认知重构",tabindex:"-1"},[a("认知重构 "),i("a",{class:"header-anchor",href:"#认知重构","aria-label":'Permalink to "认知重构"'},"​")],-1)),s[5]||(s[5]=i("p",null,'网页的 HTML 内容，到底是在什么时候、由谁来生成的？这个问题的答案，就是"渲染策略"的本质。',-1)),(t(),e(h,null,{default:E(()=>[l(n,{id:"mermaid-9",class:"mermaid",graph:"timeline%0A%20%20%20%20title%20%E7%BD%91%E9%A1%B5%E6%B8%B2%E6%9F%93%E7%9A%84%E6%97%B6%E9%97%B4%E7%BA%BF%0A%20%20%20%20section%20%E6%9E%84%E5%BB%BA%E6%97%B6%0A%20%20%20%20%20%20%20%20SSG%20%3A%20%E5%BC%80%E5%8F%91%E8%80%85%E8%BF%90%E8%A1%8C%20build%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20HTML%20%E6%8F%90%E5%89%8D%E7%94%9F%E6%88%90%0A%20%20%20%20section%20%E8%AF%B7%E6%B1%82%E6%97%B6%0A%20%20%20%20%20%20%20%20SSR%20%3A%20%E7%94%A8%E6%88%B7%E8%AE%BF%E9%97%AE%E9%A1%B5%E9%9D%A2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%20HTML%0A%20%20%20%20section%20%E8%BF%90%E8%A1%8C%E6%97%B6%0A%20%20%20%20%20%20%20%20CSR%20%3A%20%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8B%E8%BD%BD%20JS%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93%20HTML%0A"})]),fallback:E(()=>[...s[0]||(s[0]=[a(" Loading... ",-1)])]),_:1})),s[6]||(s[6]=d('<h2 id="四种渲染策略对比" tabindex="-1">四种渲染策略对比 <a class="header-anchor" href="#四种渲染策略对比" aria-label="Permalink to &quot;四种渲染策略对比&quot;">​</a></h2><table tabindex="0"><thead><tr><th>策略</th><th>HTML 生成时机</th><th>生成者</th><th>首屏速度</th><th>SEO</th><th>数据新鲜度</th></tr></thead><tbody><tr><td><strong>CSR</strong></td><td>运行时</td><td>浏览器</td><td>慢</td><td>差</td><td>实时</td></tr><tr><td><strong>SSR</strong></td><td>请求时</td><td>服务器</td><td>中</td><td>好</td><td>实时</td></tr><tr><td><strong>SSG</strong></td><td>构建时</td><td>服务器</td><td>极快</td><td>好</td><td>静态</td></tr><tr><td><strong>ISR</strong></td><td>构建时 + 后台更新</td><td>服务器</td><td>极快</td><td>好</td><td>准实时</td></tr></tbody></table><h2 id="可视化解构" tabindex="-1">可视化解构 <a class="header-anchor" href="#可视化解构" aria-label="Permalink to &quot;可视化解构&quot;">​</a></h2>',3)),(t(),e(h,null,{default:E(()=>[l(n,{id:"mermaid-122",class:"mermaid",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20CSR%5B%22CSR%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93%22%5D%0A%20%20%20%20%20%20%20%20direction%20LR%0A%20%20%20%20%20%20%20%20C1%5B%22%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AF%B7%E6%B1%82%22%5D%20--%3E%20C2%5B%22%E8%BF%94%E5%9B%9E%E7%A9%BA%20HTML%20%2B%20JS%22%5D%0A%20%20%20%20%20%20%20%20C2%20--%3E%20C3%5B%22JS%20%E6%89%A7%E8%A1%8C%22%5D%0A%20%20%20%20%20%20%20%20C3%20--%3E%20C4%5B%22API%20%E8%AF%B7%E6%B1%82%22%5D%0A%20%20%20%20%20%20%20%20C4%20--%3E%20C5%5B%22%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20SSR%5B%22SSR%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%B8%B2%E6%9F%93%22%5D%0A%20%20%20%20%20%20%20%20direction%20LR%0A%20%20%20%20%20%20%20%20S1%5B%22%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AF%B7%E6%B1%82%22%5D%20--%3E%20S2%5B%22%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%22%5D%0A%20%20%20%20%20%20%20%20S2%20--%3E%20S3%5B%22%E7%94%9F%E6%88%90%20HTML%22%5D%0A%20%20%20%20%20%20%20%20S3%20--%3E%20S4%5B%22%E8%BF%94%E5%9B%9E%E5%AE%8C%E6%95%B4%20HTML%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20SSG%5B%22SSG%20%E9%9D%99%E6%80%81%E7%94%9F%E6%88%90%22%5D%0A%20%20%20%20%20%20%20%20direction%20LR%0A%20%20%20%20%20%20%20%20G1%5B%22%E6%9E%84%E5%BB%BA%E6%97%B6%E7%94%9F%E6%88%90%20HTML%22%5D%20--%3E%20G2%5B%22%E9%83%A8%E7%BD%B2%E5%88%B0%20CDN%22%5D%0A%20%20%20%20%20%20%20%20G2%20--%3E%20G3%5B%22%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AF%B7%E6%B1%82%22%5D%0A%20%20%20%20%20%20%20%20G3%20--%3E%20G4%5B%22%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%20HTML%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20ISR%5B%22ISR%20%E5%A2%9E%E9%87%8F%E9%9D%99%E6%80%81%E5%86%8D%E7%94%9F%22%5D%0A%20%20%20%20%20%20%20%20direction%20LR%0A%20%20%20%20%20%20%20%20I1%5B%22%E9%A6%96%E6%AC%A1%EF%BC%9A%E8%BF%94%E5%9B%9E%E9%9D%99%E6%80%81%20HTML%22%5D%20--%3E%20I2%5B%22%E5%90%8E%E5%8F%B0%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E8%BF%87%E6%9C%9F%22%5D%0A%20%20%20%20%20%20%20%20I2%20--%3E%20I3%5B%22%E8%BF%87%E6%9C%9F%E5%88%99%E9%87%8D%E6%96%B0%E7%94%9F%E6%88%90%22%5D%0A%20%20%20%20%20%20%20%20I3%20--%3E%20I4%5B%22%E4%B8%8B%E6%AC%A1%E8%AF%B7%E6%B1%82%E8%BF%94%E5%9B%9E%E6%96%B0%20HTML%22%5D%0A%20%20%20%20end%0A"})]),fallback:E(()=>[...s[1]||(s[1]=[a(" Loading... ",-1)])]),_:1})),s[7]||(s[7]=i("h2",{id:"如何选择渲染策略",tabindex:"-1"},[a("如何选择渲染策略？ "),i("a",{class:"header-anchor",href:"#如何选择渲染策略","aria-label":'Permalink to "如何选择渲染策略？"'},"​")],-1)),(t(),e(h,null,{default:E(()=>[l(n,{id:"mermaid-126",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20Start%5B%22%E9%80%89%E6%8B%A9%E6%B8%B2%E6%9F%93%E7%AD%96%E7%95%A5%22%5D%20--%3E%20Q1%7B%22%E6%95%B0%E6%8D%AE%E6%98%AF%E5%90%A6%E9%A2%91%E7%B9%81%E5%8F%98%E5%8C%96%EF%BC%9F%22%7D%0A%20%20%20%20Q1%20--%3E%7C%22%E5%87%A0%E4%B9%8E%E4%B8%8D%E5%8F%98%22%7C%20SSG%5B%22SSG%20%E9%9D%99%E6%80%81%E7%94%9F%E6%88%90%22%5D%0A%20%20%20%20Q1%20--%3E%7C%22%E5%81%B6%E5%B0%94%E5%8F%98%E5%8C%96%22%7C%20ISR%5B%22ISR%20%E5%A2%9E%E9%87%8F%E5%86%8D%E7%94%9F%22%5D%0A%20%20%20%20Q1%20--%3E%7C%22%E9%A2%91%E7%B9%81%E5%8F%98%E5%8C%96%22%7C%20Q2%7B%22%E9%9C%80%E8%A6%81%20SEO%20%E5%90%97%EF%BC%9F%22%7D%0A%20%20%20%20Q2%20--%3E%7C%22%E9%9C%80%E8%A6%81%22%7C%20SSR%5B%22SSR%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%B8%B2%E6%9F%93%22%5D%0A%20%20%20%20Q2%20--%3E%7C%22%E4%B8%8D%E9%9C%80%E8%A6%81%22%7C%20CSR%5B%22CSR%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93%22%5D%0A%20%20%20%20%0A%20%20%20%20SSG%20--%3E%20Ex1%5B%22%E5%8D%9A%E5%AE%A2%E3%80%81%E6%96%87%E6%A1%A3%E3%80%81%E8%90%A5%E9%94%80%E9%A1%B5%22%5D%0A%20%20%20%20ISR%20--%3E%20Ex2%5B%22%E7%94%B5%E5%95%86%E5%95%86%E5%93%81%E9%A1%B5%E3%80%81%E6%96%B0%E9%97%BB%22%5D%0A%20%20%20%20SSR%20--%3E%20Ex3%5B%22%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%E3%80%81%E7%94%A8%E6%88%B7%E4%B8%BB%E9%A1%B5%22%5D%0A%20%20%20%20CSR%20--%3E%20Ex4%5B%22Dashboard%E3%80%81%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%22%5D%0A"})]),fallback:E(()=>[...s[2]||(s[2]=[a(" Loading... ",-1)])]),_:1})),s[8]||(s[8]=d(`<h2 id="next-js-中的默认行为" tabindex="-1">Next.js 中的默认行为 <a class="header-anchor" href="#next-js-中的默认行为" aria-label="Permalink to &quot;Next.js 中的默认行为&quot;">​</a></h2><p>在 Next.js App Router 中：</p><ul><li><strong>默认是静态的</strong>：如果页面没有动态数据获取，会在构建时生成</li><li><strong>自动变为动态</strong>：使用了 <code>cookies()</code>、<code>headers()</code>、<code>searchParams</code> 等会触发 SSR</li><li><strong>可以显式控制</strong>：通过 <code>export const dynamic = &#39;force-dynamic&#39;</code> 等配置</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 静态生成（默认）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Hello</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 动态渲染（自动检测）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">searchParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 使用了 searchParams，自动变为 SSR</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Search: {searchParams.q}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 强制动态渲染</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dynamic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;force-dynamic&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Always </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SSR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="本章导航" tabindex="-1">本章导航 <a class="header-anchor" href="#本章导航" aria-label="Permalink to &quot;本章导航&quot;">​</a></h2><ul><li><strong>2.2.1 CSR</strong>：客户端渲染的场景与限制</li><li><strong>2.2.2 SSR</strong>：服务器渲染与 SEO 优化</li><li><strong>2.2.3 SSG</strong>：静态生成的最佳实践</li><li><strong>2.2.4 ISR</strong>：增量静态再生的魔力</li><li><strong>2.2.5 混合渲染</strong>：一个页面多种策略</li></ul>`,6))])}const y=r(k,[["render",B]]);export{C as __pageData,y as default};
