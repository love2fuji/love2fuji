import{_ as l,C as t,c as h,o as i,a3 as a,b as p,w as e,a as k,G as r,a4 as d}from"./chunks/framework.CUcrqFol.js";const A=JSON.parse('{"title":"11.1.2 发布前的准备工作——Release 分支：发布准备与稳定化","description":"11.1.2 Release 分支：发布准备与稳定化 一句话破题 **Release 分支**是从开发分支切出的临时分支，专门用于发布前的稳定化工作，确保发布版本的质量。 核心价值 使用 Release 分支能让你： 在稳定化期间继续开发新功能 隔离发布相关的修复和调整 确保发布版本经过充分测试 Release 分支工","frontmatter":{"title":"11.1.2 发布前的准备工作——Release 分支：发布准备与稳定化","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/11-review/11.1-versioning/11.1.2-release-prep.md","filePath":"Advanced-old/11-review/11.1-versioning/11.1.2-release-prep.md","lastUpdated":1766168364000}'),o={name:"Advanced-old/11-review/11.1-versioning/11.1.2-release-prep.md"};function F(g,s,c,E,y,C){const n=t("Mermaid");return i(),h("div",null,[s[1]||(s[1]=a('<h1 id="_11-1-2-release-分支-发布准备与稳定化" tabindex="-1">11.1.2 Release 分支：发布准备与稳定化 <a class="header-anchor" href="#_11-1-2-release-分支-发布准备与稳定化" aria-label="Permalink to &quot;11.1.2 Release 分支：发布准备与稳定化&quot;">​</a></h1><h2 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h2><p><strong>Release 分支</strong>是从开发分支切出的临时分支，专门用于发布前的稳定化工作，确保发布版本的质量。</p><h2 id="核心价值" tabindex="-1">核心价值 <a class="header-anchor" href="#核心价值" aria-label="Permalink to &quot;核心价值&quot;">​</a></h2><p>使用 Release 分支能让你：</p><ul><li>在稳定化期间继续开发新功能</li><li>隔离发布相关的修复和调整</li><li>确保发布版本经过充分测试</li></ul><h2 id="release-分支工作流" tabindex="-1">Release 分支工作流 <a class="header-anchor" href="#release-分支工作流" aria-label="Permalink to &quot;Release 分支工作流&quot;">​</a></h2>',7)),(i(),p(d,null,{default:e(()=>[r(n,{id:"mermaid-35",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22feat%3A%20%E6%96%B0%E5%8A%9F%E8%83%BDA%22%0A%20%20%20%20commit%20id%3A%20%22feat%3A%20%E6%96%B0%E5%8A%9F%E8%83%BDB%22%0A%20%20%20%20branch%20release%2F1.2.0%0A%20%20%20%20checkout%20release%2F1.2.0%0A%20%20%20%20commit%20id%3A%20%22fix%3A%20%E4%BF%AE%E5%A4%8D%E5%8F%91%E5%B8%83%E9%98%BB%E5%A1%9E%E9%97%AE%E9%A2%98%22%0A%20%20%20%20commit%20id%3A%20%22chore%3A%20%E6%9B%B4%E6%96%B0%E7%89%88%E6%9C%AC%E5%8F%B7%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20commit%20id%3A%20%22feat%3A%20%E6%96%B0%E5%8A%9F%E8%83%BDC%EF%BC%88%E4%B8%8B%E4%B8%AA%E7%89%88%E6%9C%AC%EF%BC%89%22%0A%20%20%20%20checkout%20release%2F1.2.0%0A%20%20%20%20commit%20id%3A%20%22fix%3A%20%E6%9C%80%E5%90%8E%E7%9A%84%E4%BF%AE%E5%A4%8D%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20merge%20release%2F1.2.0%20tag%3A%20%22v1.2.0%22%0A"})]),fallback:e(()=>[...s[0]||(s[0]=[k(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=a(`<h2 id="快速上手" tabindex="-1">快速上手 <a class="header-anchor" href="#快速上手" aria-label="Permalink to &quot;快速上手&quot;">​</a></h2><h3 id="步骤一-创建-release-分支" tabindex="-1">步骤一：创建 Release 分支 <a class="header-anchor" href="#步骤一-创建-release-分支" aria-label="Permalink to &quot;步骤一：创建 Release 分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从 develop 或 main 分支创建 release 分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release/1.2.0</span></span></code></pre></div><h3 id="步骤二-稳定化工作" tabindex="-1">步骤二：稳定化工作 <a class="header-anchor" href="#步骤二-稳定化工作" aria-label="Permalink to &quot;步骤二：稳定化工作&quot;">​</a></h3><p>在 Release 分支上只做以下工作：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修复发布阻塞问题</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fix: 修复登录页面样式问题&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 更新版本号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.2.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-git-tag-version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -am</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;chore: bump version to 1.2.0&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 更新 CHANGELOG</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;docs: update CHANGELOG for 1.2.0&quot;</span></span></code></pre></div><h3 id="步骤三-合并回主分支" tabindex="-1">步骤三：合并回主分支 <a class="header-anchor" href="#步骤三-合并回主分支" aria-label="Permalink to &quot;步骤三：合并回主分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 合并到 main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release/1.2.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-ff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 打标签</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v1.2.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Release version 1.2.0&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 同步回 develop（如果使用 Git Flow）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release/1.2.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-ff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除 release 分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release/1.2.0</span></span></code></pre></div><h2 id="发布检查清单" tabindex="-1">发布检查清单 <a class="header-anchor" href="#发布检查清单" aria-label="Permalink to &quot;发布检查清单&quot;">​</a></h2><p>在合并 Release 分支前，确保完成以下检查：</p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 发布检查清单</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### 代码质量</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 所有测试通过</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 无 ESLint/TypeScript 错误</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 代码已经过 Review</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### 版本信息</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] package.json 版本号已更新</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] CHANGELOG 已更新</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 文档已同步更新</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### 环境验证</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 在 staging 环境验证通过</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 关键功能手动测试通过</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 性能无明显退化</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### 发布准备</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 数据库迁移脚本就绪</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 环境变量配置检查</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 回滚方案准备好</span></span></code></pre></div><h2 id="避坑指南" tabindex="-1">避坑指南 <a class="header-anchor" href="#避坑指南" aria-label="Permalink to &quot;避坑指南&quot;">​</a></h2><div class="danger custom-block"><p class="custom-block-title">新手最容易犯的错</p><ol><li>在 Release 分支上开发新功能</li><li>忘记将 Release 分支的修复同步回开发分支</li><li>发布前没有在类生产环境验证</li><li>没有准备回滚方案就发布</li></ol></div>`,13))])}const u=l(o,[["render",F]]);export{A as __pageData,u as default};
