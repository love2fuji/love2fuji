import{_ as i,c as a,o as n,a3 as t}from"./chunks/framework.CUcrqFol.js";const E=JSON.parse('{"title":"3.5.4 上下文管理：让 AI 记住你说过的话","description":"3.5.4 上下文管理：让 AI 记住你说过的话 经过本节学习，你将掌握 理解 AI 的「记忆」是如何工作的 识别上下文「溢出」的信号 四个实用的上下文管理技巧 使用工具级配置让 AI「自动记住」项目规范 AI 的「记忆」是如何工作的 先来理解一个关键概念：AI 并没有真正的「记忆」。 每次你和 AI 对话时，AI 看","frontmatter":{"title":"3.5.4 上下文管理：让 AI 记住你说过的话"},"headers":[],"relativePath":"Basic/03-technique/3.5-iterative-dialogue/3.5.4-context-management.md","filePath":"Basic/03-technique/3.5-iterative-dialogue/3.5.4-context-management.md","lastUpdated":1765094268000}'),l={name:"Basic/03-technique/3.5-iterative-dialogue/3.5.4-context-management.md"};function e(h,s,p,d,k,r){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="_3-5-4-上下文管理-让-ai-记住你说过的话" tabindex="-1">3.5.4 上下文管理：让 AI 记住你说过的话 <a class="header-anchor" href="#_3-5-4-上下文管理-让-ai-记住你说过的话" aria-label="Permalink to &quot;3.5.4 上下文管理：让 AI 记住你说过的话&quot;">​</a></h1><h2 id="经过本节学习-你将掌握" tabindex="-1">经过本节学习，你将掌握 <a class="header-anchor" href="#经过本节学习-你将掌握" aria-label="Permalink to &quot;经过本节学习，你将掌握&quot;">​</a></h2><ul><li>理解 AI 的「记忆」是如何工作的</li><li>识别上下文「溢出」的信号</li><li>四个实用的上下文管理技巧</li><li>使用工具级配置让 AI「自动记住」项目规范</li></ul><h2 id="ai-的「记忆」是如何工作的" tabindex="-1">AI 的「记忆」是如何工作的 <a class="header-anchor" href="#ai-的「记忆」是如何工作的" aria-label="Permalink to &quot;AI 的「记忆」是如何工作的&quot;">​</a></h2><p>先来理解一个关键概念：AI 并没有真正的「记忆」。</p><p>每次你和 AI 对话时，AI 看到的是<strong>整个对话历史</strong>。就像你把一叠纸递给一个人，让他读完后回答问题。纸越多，他需要处理的信息就越多。</p><p>这叠「纸」有个名字：<strong>上下文窗口</strong>。</p><h3 id="用「工作台」来理解" tabindex="-1">用「工作台」来理解 <a class="header-anchor" href="#用「工作台」来理解" aria-label="Permalink to &quot;用「工作台」来理解&quot;">​</a></h3><p>想象 AI 的上下文窗口是一张工作台：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌────────────────────────────────────────────┐</span></span>
<span class="line"><span>│                 AI 的工作台                 │</span></span>
<span class="line"><span>│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐      │</span></span>
<span class="line"><span>│  │ 第1轮 │ │ 第2轮 │ │ 第3轮 │ │ 第4轮 │ ... │</span></span>
<span class="line"><span>│  │ 对话  │ │ 对话  │ │ 对话  │ │ 对话  │      │</span></span>
<span class="line"><span>│  └──────┘ └──────┘ └──────┘ └──────┘      │</span></span>
<span class="line"><span>│                                            │</span></span>
<span class="line"><span>│  工作台大小有限（如 128K tokens）           │</span></span>
<span class="line"><span>└────────────────────────────────────────────┘</span></span></code></pre></div><p><strong>工作台的特点</strong>：</p><ul><li>大小有限（不同模型不同，通常 8K-200K tokens）</li><li>放不下时，<strong>最早的内容会被「挤出去」</strong></li><li>被挤出去的内容，AI 就「忘记」了</li></ul><h3 id="不同模型的上下文窗口大小" tabindex="-1">不同模型的上下文窗口大小 <a class="header-anchor" href="#不同模型的上下文窗口大小" aria-label="Permalink to &quot;不同模型的上下文窗口大小&quot;">​</a></h3><table tabindex="0"><thead><tr><th>模型</th><th>上下文窗口</th><th>大约相当于</th></tr></thead><tbody><tr><td>GPT-4o</td><td>128K tokens</td><td>约 300 页文档</td></tr><tr><td>Claude 3.5 Sonnet</td><td>200K tokens</td><td>约 500 页文档</td></tr><tr><td>DeepSeek</td><td>64K tokens</td><td>约 150 页文档</td></tr><tr><td>较老的模型</td><td>4K-8K tokens</td><td>约 10-20 页文档</td></tr></tbody></table><p>看起来很大？但在长对话中，消耗速度比你想象的快。</p><h2 id="上下文「溢出」的信号" tabindex="-1">上下文「溢出」的信号 <a class="header-anchor" href="#上下文「溢出」的信号" aria-label="Permalink to &quot;上下文「溢出」的信号&quot;">​</a></h2><p>当对话太长，早期内容被挤出上下文窗口时，就会出现「溢出」。</p><h3 id="常见症状" tabindex="-1">常见症状 <a class="header-anchor" href="#常见症状" aria-label="Permalink to &quot;常见症状&quot;">​</a></h3><table tabindex="0"><thead><tr><th>症状</th><th>表现</th><th>原因</th></tr></thead><tbody><tr><td>AI 突然「失忆」</td><td>忘记之前约定的技术栈或命名规范</td><td>早期对话被挤出</td></tr><tr><td>开始「自相矛盾」</td><td>前后回答不一致</td><td>只看到部分历史</td></tr><tr><td>重复问你问过的问题</td><td>&quot;请问你用的是什么框架？&quot;（之前说过了）</td><td>那部分对话已不在窗口内</td></tr><tr><td>代码风格突变</td><td>之前用 TypeScript，突然开始写 JavaScript</td><td>忘记了技术栈约定</td></tr></tbody></table><h3 id="一个真实场景" tabindex="-1">一个真实场景 <a class="header-anchor" href="#一个真实场景" aria-label="Permalink to &quot;一个真实场景&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>第 1 轮：你说&quot;请用 TypeScript 和 Tailwind&quot;</span></span>
<span class="line"><span>第 2 轮：AI 用 TypeScript 写代码</span></span>
<span class="line"><span>第 3 轮：继续用 TypeScript</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>第 15 轮：你让 AI 写一个新组件</span></span>
<span class="line"><span>第 16 轮：AI 突然给你 JavaScript 代码 ← 问题出现</span></span></code></pre></div><p>这就是上下文溢出。第 1 轮的约定已经被挤出工作台了。</p><h2 id="四个上下文管理技巧" tabindex="-1">四个上下文管理技巧 <a class="header-anchor" href="#四个上下文管理技巧" aria-label="Permalink to &quot;四个上下文管理技巧&quot;">​</a></h2><h3 id="技巧一-关键信息置顶" tabindex="-1">技巧一：关键信息置顶 <a class="header-anchor" href="#技巧一-关键信息置顶" aria-label="Permalink to &quot;技巧一：关键信息置顶&quot;">​</a></h3><p>在每轮对话开始时，重申关键约定。</p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">继续我们的待办清单项目。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">提醒：</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 技术栈：React + TypeScript + Tailwind</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 命名规范：组件用 PascalCase，函数用 camelCase</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 所有函数需要类型声明</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">现在请帮我实现 [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">新功能</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]...</span></span></code></pre></div><p><strong>效果</strong>：关键信息始终在 AI 的「视野」中。</p><h3 id="技巧二-定期总结" tabindex="-1">技巧二：定期总结 <a class="header-anchor" href="#技巧二-定期总结" aria-label="Permalink to &quot;技巧二：定期总结&quot;">​</a></h3><p>当对话进行到 10 轮以上时，主动让 AI 总结已完成的工作。</p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">我们已经聊了很多轮。请总结一下目前的项目状态：</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 已完成的功能</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 使用的技术栈和约定</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 待完成的功能</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">然后我们继续开发。</span></span></code></pre></div><p><strong>效果</strong>：</p><ul><li>把散落在各处的信息「压缩」成一段总结</li><li>总结在最新位置，不会被挤出</li><li>你也可以确认 AI 的理解是否正确</li></ul><h3 id="技巧三-分块传递" tabindex="-1">技巧三：分块传递 <a class="header-anchor" href="#技巧三-分块传递" aria-label="Permalink to &quot;技巧三：分块传递&quot;">​</a></h3><p>不要一次性发送大量信息。分成多个小块，每块确认 AI 理解后再继续。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>❌ 错误做法：</span></span>
<span class="line"><span>一次性发送 3000 字的需求文档</span></span>
<span class="line"><span></span></span>
<span class="line"><span>✅ 正确做法：</span></span>
<span class="line"><span>第一条消息：&quot;我要做一个待办清单应用，先来定义核心数据结构...&quot;</span></span>
<span class="line"><span>等 AI 回复确认后</span></span>
<span class="line"><span>第二条消息：&quot;数据结构定好了，接下来是主要功能列表...&quot;</span></span></code></pre></div><p><strong>效果</strong>：</p><ul><li>每块信息都得到充分处理</li><li>减少 AI 遗漏信息的概率</li><li>便于及时发现理解偏差</li></ul><h3 id="技巧四-约定重申" tabindex="-1">技巧四：约定重申 <a class="header-anchor" href="#技巧四-约定重申" aria-label="Permalink to &quot;技巧四：约定重申&quot;">​</a></h3><p>在关键节点重申重要约定，尤其是：</p><ul><li>开始新功能时</li><li>发现 AI 偏离约定时</li><li>对话超过 10 轮时</li></ul><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">开始新功能之前，确认一下我们的约定：</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 使用 TypeScript，不使用 any 类型</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 组件放在 src/components 目录</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 状态管理使用 useState，复杂状态用 useReducer</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 错误处理使用 try-catch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">确认后，请开始实现 [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">功能</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]。</span></span></code></pre></div><h2 id="上下文管理实用模板" tabindex="-1">上下文管理实用模板 <a class="header-anchor" href="#上下文管理实用模板" aria-label="Permalink to &quot;上下文管理实用模板&quot;">​</a></h2><h3 id="对话开始时的上下文设定" tabindex="-1">对话开始时的上下文设定 <a class="header-anchor" href="#对话开始时的上下文设定" aria-label="Permalink to &quot;对话开始时的上下文设定&quot;">​</a></h3><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">项目背景：</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 项目名称：[</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">名称</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 技术栈：[</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">技术栈列表</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 当前进度：[</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">简要描述</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">本次任务：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">具体任务描述</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">请注意以下约定：</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">约定1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">约定2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">约定3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h3 id="长对话中途的「检查点」" tabindex="-1">长对话中途的「检查点」 <a class="header-anchor" href="#长对话中途的「检查点」" aria-label="Permalink to &quot;长对话中途的「检查点」&quot;">​</a></h3><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">暂停一下，让我确认当前状态：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">已完成：</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">功能1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">功能2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">使用的技术/约定：</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">约定1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">约定2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">接下来要做：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">下一个任务</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">以上理解正确吗？确认后继续。</span></span></code></pre></div><h3 id="约定违反时的纠正" tabindex="-1">约定违反时的纠正 <a class="header-anchor" href="#约定违反时的纠正" aria-label="Permalink to &quot;约定违反时的纠正&quot;">​</a></h3><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">注意：刚才的代码使用了 JavaScript，但我们项目约定使用 TypeScript。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">请重新生成，并确保：</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 所有变量和函数都有类型声明</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 不使用 any 类型</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 导出类型定义供其他组件使用</span></span></code></pre></div><h2 id="工具级上下文管理" tabindex="-1">工具级上下文管理 <a class="header-anchor" href="#工具级上下文管理" aria-label="Permalink to &quot;工具级上下文管理&quot;">​</a></h2><p>除了在对话中管理上下文，主流 AI IDE 还提供了<strong>持久化配置</strong>功能。这些配置会在每次对话开始时自动加载，让 AI「天生」就知道你的项目规范。</p><h3 id="主流工具的配置文件对照表" tabindex="-1">主流工具的配置文件对照表 <a class="header-anchor" href="#主流工具的配置文件对照表" aria-label="Permalink to &quot;主流工具的配置文件对照表&quot;">​</a></h3><table tabindex="0"><thead><tr><th>工具</th><th>配置文件位置</th><th>功能定位</th></tr></thead><tbody><tr><td><strong>Cursor</strong></td><td><code>.cursor/rules/*.mdc</code></td><td>项目规范、编码风格、技术栈偏好</td></tr><tr><td><strong>Windsurf</strong></td><td><code>.windsurf/rules/*.md</code> 或 <code>.windsurfrules</code></td><td>项目级 AI 行为规则</td></tr><tr><td><strong>Trae</strong></td><td><code>.trae/project_rules.md</code>、<code>user_rules.md</code></td><td>用户规则 + 项目规则</td></tr><tr><td><strong>Claude Code</strong></td><td><code>CLAUDE.md</code> + <code>SKILL.md</code></td><td>项目上下文 + 可复用技能</td></tr><tr><td><strong>GitHub Copilot</strong></td><td><code>.github/copilot-instructions.md</code></td><td>仓库级指令</td></tr><tr><td><strong>OpenAI Codex</strong></td><td><code>AGENTS.md</code></td><td>代理指令文件</td></tr><tr><td><strong>Factory Droid</strong></td><td><code>.factory/droids/*.md</code></td><td>自定义 Droid 配置</td></tr><tr><td><strong>Aider</strong></td><td><code>CONVENTIONS.md</code></td><td>编码规范文件</td></tr><tr><td><strong>Cline</strong></td><td><code>.clinerules</code></td><td>项目规则</td></tr></tbody></table><h3 id="配置文件应该写什么" tabindex="-1">配置文件应该写什么？ <a class="header-anchor" href="#配置文件应该写什么" aria-label="Permalink to &quot;配置文件应该写什么？&quot;">​</a></h3><p>无论使用哪个工具，配置文件通常包含：</p><ol><li><strong>项目概述</strong>：这是什么项目，解决什么问题</li><li><strong>技术栈</strong>：使用的语言、框架、库</li><li><strong>编码规范</strong>：命名约定、代码风格、目录结构</li><li><strong>禁止事项</strong>：不要使用的库、不要采用的模式</li><li><strong>常用命令</strong>：构建、测试、部署的命令</li></ol><h3 id="通用项目配置模板" tabindex="-1">通用项目配置模板 <a class="header-anchor" href="#通用项目配置模板" aria-label="Permalink to &quot;通用项目配置模板&quot;">​</a></h3><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># 项目配置</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 项目概述</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">这是一个待办清单应用，帮助用户管理日常任务。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 技术栈</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 前端：React 18 + TypeScript 5</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 样式：Tailwind CSS 3</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 状态管理：Zustand</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 测试：Vitest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 目录结构</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src/components：React 组件</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src/hooks：自定义 Hooks</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src/utils：工具函数</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src/types：TypeScript 类型定义</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 编码规范</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 使用函数式组件，不用 class 组件</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 所有函数必须有 TypeScript 类型声明</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 组件文件使用 PascalCase 命名</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 工具函数使用 camelCase 命名</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 使用中文注释</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 禁止事项</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 不要使用 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`any\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 类型</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 不要使用 jQuery</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 不要在组件中直接写内联样式（使用 Tailwind）</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 不要使用 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`var\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">，使用 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`const\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 或 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`let\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 常用命令</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 开发：npm run dev</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 构建：npm run build</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 测试：npm test</span></span></code></pre></div><h3 id="为什么配置文件很重要" tabindex="-1">为什么配置文件很重要？ <a class="header-anchor" href="#为什么配置文件很重要" aria-label="Permalink to &quot;为什么配置文件很重要？&quot;">​</a></h3><table tabindex="0"><thead><tr><th>没有配置文件</th><th>有配置文件</th></tr></thead><tbody><tr><td>每次对话都要重复说技术栈</td><td>AI 自动知道技术栈</td></tr><tr><td>AI 可能用错误的规范</td><td>规范始终一致</td></tr><tr><td>团队成员各自配置不同</td><td>团队共享同一份配置</td></tr><tr><td>约定容易被遗忘</td><td>约定被版本控制</td></tr></tbody></table><blockquote><p><strong>提示</strong>：具体工具的详细配置方法，请参考各工具的官方文档。基础版只需了解这些功能存在即可，进阶版会有更详细的工具配置教程。</p></blockquote><h2 id="本节要点" tabindex="-1">本节要点 <a class="header-anchor" href="#本节要点" aria-label="Permalink to &quot;本节要点&quot;">​</a></h2><p>✓ <strong>AI 无真正记忆</strong>：它看到的是对话历史，历史太长会「溢出」</p><p>✓ <strong>溢出信号</strong>：AI 失忆、自相矛盾、代码风格突变</p><p>✓ <strong>四个管理技巧</strong>：关键信息置顶、定期总结、分块传递、约定重申</p><p>✓ <strong>工具级配置</strong>：用配置文件让 AI 自动加载项目规范</p><p>✓ <strong>团队协作</strong>：配置文件可纳入版本控制，团队共享</p><p>下一节，我们来学习什么时候应该放弃旧对话，开始一个全新的对话。</p>`,67)])])}const c=i(l,[["render",e]]);export{E as __pageData,c as default};
