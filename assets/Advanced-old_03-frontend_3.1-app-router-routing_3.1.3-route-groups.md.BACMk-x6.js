import{_ as p,C as l,c as e,o as a,a3 as n,b as h,w as i,a as r,G as d,a4 as o}from"./chunks/framework.CUcrqFol.js";const A=JSON.parse('{"title":"3.1.3 整理乱糟糟的路由——路由组： 组织与布局复用","description":"3.1.3 整理乱糟糟的路由——路由组 一句话破题 用圆括号 命名文件夹，可以在不影响 URL 的情况下组织代码和共享布局。 核心价值 当项目变大时， 目录下会堆满文件夹：首页、关于、博客、后台、设置……乱成一团。路由组让你像整理抽屉一样分类这些页面，而且**分类名不会出现在 URL 中**。 路由组语法 用圆括号包裹","frontmatter":{"title":"3.1.3 整理乱糟糟的路由——路由组： 组织与布局复用","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/03-frontend/3.1-app-router-routing/3.1.3-route-groups.md","filePath":"Advanced-old/03-frontend/3.1-app-router-routing/3.1.3-route-groups.md","lastUpdated":1766168364000}'),k={name:"Advanced-old/03-frontend/3.1-app-router-routing/3.1.3-route-groups.md"};function c(g,s,E,u,y,b){const t=l("Mermaid");return a(),e("div",null,[s[1]||(s[1]=n(`<h1 id="_3-1-3-整理乱糟糟的路由——路由组" tabindex="-1">3.1.3 整理乱糟糟的路由——路由组 <a class="header-anchor" href="#_3-1-3-整理乱糟糟的路由——路由组" aria-label="Permalink to &quot;3.1.3 整理乱糟糟的路由——路由组&quot;">​</a></h1><h3 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h3><p>用圆括号 <code>(group)</code> 命名文件夹，可以在不影响 URL 的情况下组织代码和共享布局。</p><h3 id="核心价值" tabindex="-1">核心价值 <a class="header-anchor" href="#核心价值" aria-label="Permalink to &quot;核心价值&quot;">​</a></h3><p>当项目变大时，<code>app</code> 目录下会堆满文件夹：首页、关于、博客、后台、设置……乱成一团。路由组让你像整理抽屉一样分类这些页面，而且<strong>分类名不会出现在 URL 中</strong>。</p><h3 id="路由组语法" tabindex="-1">路由组语法 <a class="header-anchor" href="#路由组语法" aria-label="Permalink to &quot;路由组语法&quot;">​</a></h3><p>用圆括号包裹的文件夹名称就是路由组：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>app/</span></span>
<span class="line"><span>├── (marketing)/</span></span>
<span class="line"><span>│   ├── layout.tsx      # 营销页专用布局</span></span>
<span class="line"><span>│   ├── page.tsx        # 首页 -&gt; URL: /</span></span>
<span class="line"><span>│   └── about/</span></span>
<span class="line"><span>│       └── page.tsx    # 关于 -&gt; URL: /about</span></span>
<span class="line"><span>├── (dashboard)/</span></span>
<span class="line"><span>│   ├── layout.tsx      # 后台专用布局</span></span>
<span class="line"><span>│   └── settings/</span></span>
<span class="line"><span>│       └── page.tsx    # 设置 -&gt; URL: /settings</span></span></code></pre></div><p><strong>关键点</strong>：<code>(marketing)</code> 和 <code>(dashboard)</code> 都不会出现在 URL 中。</p><h3 id="三大应用场景" tabindex="-1">三大应用场景 <a class="header-anchor" href="#三大应用场景" aria-label="Permalink to &quot;三大应用场景&quot;">​</a></h3><h4 id="场景一-代码组织" tabindex="-1">场景一：代码组织 <a class="header-anchor" href="#场景一-代码组织" aria-label="Permalink to &quot;场景一：代码组织&quot;">​</a></h4><p>把相关页面放在一起，代码更清晰：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>app/</span></span>
<span class="line"><span>├── (auth)/             # 认证相关</span></span>
<span class="line"><span>│   ├── login/</span></span>
<span class="line"><span>│   ├── register/</span></span>
<span class="line"><span>│   └── forgot-password/</span></span>
<span class="line"><span>├── (shop)/             # 商城相关</span></span>
<span class="line"><span>│   ├── products/</span></span>
<span class="line"><span>│   ├── cart/</span></span>
<span class="line"><span>│   └── checkout/</span></span>
<span class="line"><span>└── (blog)/             # 博客相关</span></span>
<span class="line"><span>    ├── posts/</span></span>
<span class="line"><span>    └── categories/</span></span></code></pre></div><h4 id="场景二-不同布局" tabindex="-1">场景二：不同布局 <a class="header-anchor" href="#场景二-不同布局" aria-label="Permalink to &quot;场景二：不同布局&quot;">​</a></h4><p>营销页面和后台页面通常需要完全不同的 UI 框架：</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// app/(marketing)/layout.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MarketingLayout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;品牌 Logo + 导航&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{children}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">footer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;版权信息&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">footer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// app/(dashboard)/layout.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DashboardLayout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">aside</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;侧边栏菜单&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">aside</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{children}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,16)),(a(),h(o,null,{default:i(()=>[d(t,{id:"mermaid-42",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20subgraph%20Marketing%E5%B8%83%E5%B1%80%0A%20%20%20%20%20%20%20%20M1%5B%22Header%22%5D%20--%3E%20M2%5B%22Page%20Content%22%5D%0A%20%20%20%20%20%20%20%20M2%20--%3E%20M3%5B%22Footer%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Dashboard%E5%B8%83%E5%B1%80%0A%20%20%20%20%20%20%20%20D1%5B%22Sidebar%22%5D%20--%3E%20D2%5B%22Main%20Content%22%5D%0A%20%20%20%20end%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[r(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=n(`<h4 id="场景三-多个根布局" tabindex="-1">场景三：多个根布局 <a class="header-anchor" href="#场景三-多个根布局" aria-label="Permalink to &quot;场景三：多个根布局&quot;">​</a></h4><p>甚至可以为不同路由组创建独立的根布局：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>app/</span></span>
<span class="line"><span>├── (marketing)/</span></span>
<span class="line"><span>│   ├── layout.tsx      # 包含 &lt;html&gt;&lt;body&gt;</span></span>
<span class="line"><span>│   └── page.tsx</span></span>
<span class="line"><span>├── (dashboard)/</span></span>
<span class="line"><span>│   ├── layout.tsx      # 包含 &lt;html&gt;&lt;body&gt;</span></span>
<span class="line"><span>│   └── page.tsx</span></span></code></pre></div><blockquote><p><strong>注意</strong>：使用多个根布局时，在它们之间导航会触发完整的页面刷新。</p></blockquote><h3 id="路由组-vs-普通文件夹" tabindex="-1">路由组 vs 普通文件夹 <a class="header-anchor" href="#路由组-vs-普通文件夹" aria-label="Permalink to &quot;路由组 vs 普通文件夹&quot;">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>普通文件夹</th><th>路由组 <code>(name)</code></th></tr></thead><tbody><tr><td>影响 URL</td><td>是</td><td>否</td></tr><tr><td>可包含 layout</td><td>是</td><td>是</td></tr><tr><td>可包含 page</td><td>是</td><td>是</td></tr><tr><td>用途</td><td>定义 URL 路径</td><td>组织代码/共享布局</td></tr></tbody></table><h3 id="嵌套路由组" tabindex="-1">嵌套路由组 <a class="header-anchor" href="#嵌套路由组" aria-label="Permalink to &quot;嵌套路由组&quot;">​</a></h3><p>路由组可以嵌套使用：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>app/</span></span>
<span class="line"><span>├── (shop)/</span></span>
<span class="line"><span>│   ├── (browse)/       # 浏览相关</span></span>
<span class="line"><span>│   │   ├── products/</span></span>
<span class="line"><span>│   │   └── categories/</span></span>
<span class="line"><span>│   └── (checkout)/     # 结账相关</span></span>
<span class="line"><span>│       ├── cart/</span></span>
<span class="line"><span>│       └── payment/</span></span></code></pre></div><h3 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h3><p><strong>核心意图</strong>：让 AI 帮你重构现有路由结构，或规划新项目的路由组织。</p><p><strong>需求定义公式</strong>：</p><ul><li>功能描述：我的项目有 [页面类型列表]</li><li>交互方式：不同类型需要 [不同布局描述]</li><li>预期效果：URL 保持简洁，代码按功能分组</li></ul><p><strong>关键术语</strong>：<code>路由组</code>、<code>(group)</code>、<code>共享布局</code>、<code>代码组织</code></p><p><strong>交互策略</strong>：</p><ol><li>列出所有页面和它们的 URL</li><li>让 AI 分析哪些页面可以共享布局</li><li>让它给出路由组划分建议</li><li>确认后让它生成文件结构</li></ol><h3 id="避坑指南" tabindex="-1">避坑指南 <a class="header-anchor" href="#避坑指南" aria-label="Permalink to &quot;避坑指南&quot;">​</a></h3><ol><li><strong>路由组名称不能重复</strong>：<code>(auth)</code> 和 <code>(auth)</code> 不能同时存在</li><li><strong>同一 URL 只能有一个 page.tsx</strong>：不能在 <code>(a)/about/page.tsx</code> 和 <code>(b)/about/page.tsx</code> 同时存在</li><li><strong>多根布局会导致页面刷新</strong>：跨根布局导航时，状态会丢失</li><li><strong>不要过度使用</strong>：简单项目用普通文件夹就够了</li></ol><h3 id="验收清单" tabindex="-1">验收清单 <a class="header-anchor" href="#验收清单" aria-label="Permalink to &quot;验收清单&quot;">​</a></h3><ul><li>[ ] 路由组名称使用圆括号包裹</li><li>[ ] URL 中不包含路由组名称</li><li>[ ] 每个路由组有独立的 layout.tsx（如需要）</li><li>[ ] 同一 URL 路径下只有一个 page.tsx</li></ul>`,20))])}const x=p(k,[["render",c]]);export{A as __pageData,x as default};
