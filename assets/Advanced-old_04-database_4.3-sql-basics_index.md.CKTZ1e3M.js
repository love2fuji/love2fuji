import{_ as i,C as n,c as l,o as a,a3 as s,b as r,w as e,a as p,G as o,a4 as h}from"./chunks/framework.CUcrqFol.js";const m=JSON.parse('{"title":"4.3 如何命令数据库干活——SQL 基础操作：表/行/列、主键/外键、索引、事务、JOIN、CRUD","description":"4.3 如何命令数据库干活——SQL 基础操作：表/行/列、主键/外键、索引、事务、JOIN、CRUD 认知重构 SQL（Structured Query Language）是与数据库对话的语言。虽然 Prisma 帮我们生成了大部分 SQL，但理解 SQL 基础能让你更好地调试问题和优化性能。 SQL 语句分类 |","frontmatter":{"title":"4.3 如何命令数据库干活——SQL 基础操作：表/行/列、主键/外键、索引、事务、JOIN、CRUD","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/04-database/4.3-sql-basics/index.md","filePath":"Advanced-old/04-database/4.3-sql-basics/index.md","lastUpdated":1766168364000}'),c={name:"Advanced-old/04-database/4.3-sql-basics/index.md"};function E(k,t,D,A,L,u){const d=n("Mermaid");return a(),l("div",null,[t[1]||(t[1]=s('<h1 id="_4-3-如何命令数据库干活——sql-基础操作-表-行-列、主键-外键、索引、事务、join、crud" tabindex="-1">4.3 如何命令数据库干活——SQL 基础操作：表/行/列、主键/外键、索引、事务、JOIN、CRUD <a class="header-anchor" href="#_4-3-如何命令数据库干活——sql-基础操作-表-行-列、主键-外键、索引、事务、join、crud" aria-label="Permalink to &quot;4.3 如何命令数据库干活——SQL 基础操作：表/行/列、主键/外键、索引、事务、JOIN、CRUD&quot;">​</a></h1><h3 id="认知重构" tabindex="-1">认知重构 <a class="header-anchor" href="#认知重构" aria-label="Permalink to &quot;认知重构&quot;">​</a></h3><p>SQL（Structured Query Language）是与数据库对话的语言。虽然 Prisma 帮我们生成了大部分 SQL，但理解 SQL 基础能让你更好地调试问题和优化性能。</p><h3 id="sql-语句分类" tabindex="-1">SQL 语句分类 <a class="header-anchor" href="#sql-语句分类" aria-label="Permalink to &quot;SQL 语句分类&quot;">​</a></h3>',4)),(a(),r(h,null,{default:e(()=>[o(d,{id:"mermaid-12",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20SQL%5B%22SQL%20%E8%AF%AD%E5%8F%A5%22%5D%0A%20%20%20%20%0A%20%20%20%20SQL%20--%3E%20DDL%5B%22DDL%20%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%22%5D%0A%20%20%20%20SQL%20--%3E%20DML%5B%22DML%20%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%22%5D%0A%20%20%20%20SQL%20--%3E%20DCL%5B%22DCL%20%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%22%5D%0A%20%20%20%20%0A%20%20%20%20DDL%20--%3E%20D1%5B%22CREATE%20%E5%88%9B%E5%BB%BA%22%5D%0A%20%20%20%20DDL%20--%3E%20D2%5B%22ALTER%20%E4%BF%AE%E6%94%B9%22%5D%0A%20%20%20%20DDL%20--%3E%20D3%5B%22DROP%20%E5%88%A0%E9%99%A4%22%5D%0A%20%20%20%20%0A%20%20%20%20DML%20--%3E%20M1%5B%22SELECT%20%E6%9F%A5%E8%AF%A2%22%5D%0A%20%20%20%20DML%20--%3E%20M2%5B%22INSERT%20%E6%8F%92%E5%85%A5%22%5D%0A%20%20%20%20DML%20--%3E%20M3%5B%22UPDATE%20%E6%9B%B4%E6%96%B0%22%5D%0A%20%20%20%20DML%20--%3E%20M4%5B%22DELETE%20%E5%88%A0%E9%99%A4%22%5D%0A"})]),fallback:e(()=>[...t[0]||(t[0]=[p(" Loading... ",-1)])]),_:1})),t[2]||(t[2]=s(`<table tabindex="0"><thead><tr><th>分类</th><th>说明</th><th>常用语句</th></tr></thead><tbody><tr><td><strong>DDL</strong></td><td>定义数据库结构</td><td>CREATE, ALTER, DROP</td></tr><tr><td><strong>DML</strong></td><td>操作数据</td><td>SELECT, INSERT, UPDATE, DELETE</td></tr><tr><td><strong>DCL</strong></td><td>控制权限</td><td>GRANT, REVOKE</td></tr></tbody></table><h3 id="子章节导航" tabindex="-1">子章节导航 <a class="header-anchor" href="#子章节导航" aria-label="Permalink to &quot;子章节导航&quot;">​</a></h3><table tabindex="0"><thead><tr><th>章节</th><th>主题</th><th>核心问题</th></tr></thead><tbody><tr><td>4.3.1</td><td>DDL 数据定义</td><td>如何创建和修改表结构？</td></tr><tr><td>4.3.2</td><td>DML 数据操作</td><td>如何增删改查数据？</td></tr><tr><td>4.3.3</td><td>约束定义</td><td>如何保证数据质量？</td></tr><tr><td>4.3.4</td><td>JOIN 查询</td><td>如何关联多张表？</td></tr><tr><td>4.3.5</td><td>聚合函数</td><td>如何统计和汇总数据？</td></tr></tbody></table><h3 id="sql-vs-prisma-对照" tabindex="-1">SQL vs Prisma 对照 <a class="header-anchor" href="#sql-vs-prisma-对照" aria-label="Permalink to &quot;SQL vs Prisma 对照&quot;">​</a></h3><table tabindex="0"><thead><tr><th>操作</th><th>SQL</th><th>Prisma</th></tr></thead><tbody><tr><td>创建表</td><td><code>CREATE TABLE</code></td><td><code>prisma migrate dev</code></td></tr><tr><td>插入</td><td><code>INSERT INTO</code></td><td><code>prisma.model.create()</code></td></tr><tr><td>查询</td><td><code>SELECT</code></td><td><code>prisma.model.findMany()</code></td></tr><tr><td>更新</td><td><code>UPDATE</code></td><td><code>prisma.model.update()</code></td></tr><tr><td>删除</td><td><code>DELETE</code></td><td><code>prisma.model.delete()</code></td></tr><tr><td>关联查询</td><td><code>JOIN</code></td><td><code>include: {}</code></td></tr></tbody></table><h3 id="学习建议" tabindex="-1">学习建议 <a class="header-anchor" href="#学习建议" aria-label="Permalink to &quot;学习建议&quot;">​</a></h3><p><strong>如果你只用 Prisma</strong>：</p><ul><li>快速浏览本节，了解 SQL 基本概念</li><li>重点学习 JOIN（4.3.4）和聚合函数（4.3.5）的概念</li></ul><p><strong>如果你需要写原生 SQL</strong>：</p><ul><li>仔细学习每个子章节</li><li>练习在 Prisma 中执行原生 SQL</li></ul><h3 id="在-prisma-中执行原生-sql" tabindex="-1">在 Prisma 中执行原生 SQL <a class="header-anchor" href="#在-prisma-中执行原生-sql" aria-label="Permalink to &quot;在 Prisma 中执行原生 SQL&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 执行原生查询</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$queryRaw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  SELECT * FROM users WHERE email LIKE &#39;%@gmail.com&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 执行原生命令（无返回值）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$executeRaw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  UPDATE users SET status = &#39;ACTIVE&#39; WHERE last_login &gt; NOW() - INTERVAL &#39;30 days&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span></code></pre></div><h3 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h3><p><strong>核心意图</strong>：让 AI 帮你生成或解释 SQL。</p><p><strong>常用提问模板</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>帮我写一个 SQL 查询：</span></span>
<span class="line"><span>- 表结构：[表结构]</span></span>
<span class="line"><span>- 需求：[查询需求]</span></span>
<span class="line"><span>- 数据库：PostgreSQL</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>这个 SQL 是什么意思？请用中文解释：</span></span>
<span class="line"><span>[SQL 语句]</span></span></code></pre></div>`,17))])}const b=i(c,[["render",E]]);export{m as __pageData,b as default};
