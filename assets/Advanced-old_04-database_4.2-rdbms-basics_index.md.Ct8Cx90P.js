import{_ as l,C as A,c as E,o as d,a3 as r,b as s,w as a,a as n,G as o,a4 as i}from"./chunks/framework.CUcrqFol.js";const m=JSON.parse('{"title":"4.2 数据库到底在忙什么——关系型数据库：CRUD/索引/事务","description":"4.2 数据库到底在忙什么——关系型数据库：CRUD/索引/事务 认知重构 关系型数据库不仅仅是\\"存数据的地方\\"，它是一个**保证数据正确性和一致性的系统**。理解它的工作原理，能帮你写出更高效、更安全的代码。 关系型数据库核心概念 | 概念 | 作用 | 解决的问题 | |------|------|--------","frontmatter":{"title":"4.2 数据库到底在忙什么——关系型数据库：CRUD/索引/事务","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/04-database/4.2-rdbms-basics/index.md","filePath":"Advanced-old/04-database/4.2-rdbms-basics/index.md","lastUpdated":1766168364000}'),h={name:"Advanced-old/04-database/4.2-rdbms-basics/index.md"};function p(c,t,B,b,g,u){const e=A("Mermaid");return d(),E("div",null,[t[2]||(t[2]=r('<h1 id="_4-2-数据库到底在忙什么——关系型数据库-crud-索引-事务" tabindex="-1">4.2 数据库到底在忙什么——关系型数据库：CRUD/索引/事务 <a class="header-anchor" href="#_4-2-数据库到底在忙什么——关系型数据库-crud-索引-事务" aria-label="Permalink to &quot;4.2 数据库到底在忙什么——关系型数据库：CRUD/索引/事务&quot;">​</a></h1><h3 id="认知重构" tabindex="-1">认知重构 <a class="header-anchor" href="#认知重构" aria-label="Permalink to &quot;认知重构&quot;">​</a></h3><p>关系型数据库不仅仅是&quot;存数据的地方&quot;，它是一个<strong>保证数据正确性和一致性的系统</strong>。理解它的工作原理，能帮你写出更高效、更安全的代码。</p><h3 id="关系型数据库核心概念" tabindex="-1">关系型数据库核心概念 <a class="header-anchor" href="#关系型数据库核心概念" aria-label="Permalink to &quot;关系型数据库核心概念&quot;">​</a></h3>',4)),(d(),s(i,null,{default:a(()=>[o(e,{id:"mermaid-12",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%0A%20%20%20%20%20%20%20%20CRUD%5B%22CRUD%20%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%0A%20%20%20%20%20%20%20%20Index%5B%22%E7%B4%A2%E5%BC%95%E5%8A%A0%E9%80%9F%E6%9F%A5%E8%AF%A2%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8%0A%20%20%20%20%20%20%20%20Transaction%5B%22%E4%BA%8B%E5%8A%A1%E4%BF%9D%E8%AF%81%E4%B8%80%E8%87%B4%E6%80%A7%22%5D%0A%20%20%20%20%20%20%20%20Lock%5B%22%E9%94%81%E6%8E%A7%E5%88%B6%E5%B9%B6%E5%8F%91%22%5D%0A%20%20%20%20%20%20%20%20RLS%5B%22%E8%A1%8C%E7%BA%A7%E5%AE%89%E5%85%A8%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20CRUD%20--%3E%20Index%0A%20%20%20%20Index%20--%3E%20Transaction%0A%20%20%20%20Transaction%20--%3E%20Lock%0A%20%20%20%20Lock%20--%3E%20RLS%0A"})]),fallback:a(()=>[...t[0]||(t[0]=[n(" Loading... ",-1)])]),_:1})),t[3]||(t[3]=r('<table tabindex="0"><thead><tr><th>概念</th><th>作用</th><th>解决的问题</th></tr></thead><tbody><tr><td><strong>CRUD</strong></td><td>基本数据操作</td><td>如何读写数据</td></tr><tr><td><strong>索引</strong></td><td>加速查询</td><td>查询太慢怎么办</td></tr><tr><td><strong>事务</strong></td><td>保证一致性</td><td>多步操作如何原子执行</td></tr><tr><td><strong>并发控制</strong></td><td>处理冲突</td><td>多人同时操作怎么办</td></tr><tr><td><strong>RLS</strong></td><td>数据隔离</td><td>如何限制用户只看自己的数据</td></tr></tbody></table><h3 id="子章节导航" tabindex="-1">子章节导航 <a class="header-anchor" href="#子章节导航" aria-label="Permalink to &quot;子章节导航&quot;">​</a></h3><table tabindex="0"><thead><tr><th>章节</th><th>主题</th><th>核心问题</th></tr></thead><tbody><tr><td>4.2.1</td><td>CRUD 操作</td><td>增删改查的本质是什么？</td></tr><tr><td>4.2.2</td><td>索引原理</td><td>为什么加了索引查询就快了？</td></tr><tr><td>4.2.3</td><td>事务特性</td><td>转账为什么是安全的？</td></tr><tr><td>4.2.4</td><td>并发控制</td><td>同时修改数据怎么办？</td></tr><tr><td>4.2.5</td><td>行级安全</td><td>张三为什么看不了李四的数据？</td></tr></tbody></table><h3 id="为什么选择关系型数据库" tabindex="-1">为什么选择关系型数据库？ <a class="header-anchor" href="#为什么选择关系型数据库" aria-label="Permalink to &quot;为什么选择关系型数据库？&quot;">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>关系型数据库</th><th>NoSQL</th></tr></thead><tbody><tr><td><strong>数据结构</strong></td><td>结构化表格</td><td>灵活文档/键值</td></tr><tr><td><strong>数据一致性</strong></td><td>强一致性（ACID）</td><td>最终一致性</td></tr><tr><td><strong>查询能力</strong></td><td>强大的 SQL</td><td>简单查询</td></tr><tr><td><strong>适用场景</strong></td><td>事务性应用</td><td>大数据/实时应用</td></tr></tbody></table><p><strong>本课程选择 PostgreSQL 的原因</strong>：</p><ol><li>功能最全面的开源关系型数据库</li><li>原生支持 JSON，兼顾灵活性</li><li>与 Prisma 配合最佳</li><li>内置行级安全（RLS），适合多租户应用</li></ol><h3 id="数据库操作的全景图" tabindex="-1">数据库操作的全景图 <a class="header-anchor" href="#数据库操作的全景图" aria-label="Permalink to &quot;数据库操作的全景图&quot;">​</a></h3>',8)),(d(),s(i,null,{default:a(()=>[o(e,{id:"mermaid-252",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20App%20as%20%E5%BA%94%E7%94%A8%E4%BB%A3%E7%A0%81%0A%20%20%20%20participant%20ORM%20as%20Prisma%20ORM%0A%20%20%20%20participant%20DB%20as%20PostgreSQL%0A%20%20%20%20%0A%20%20%20%20App-%3E%3EORM%3A%20prisma.user.create()%0A%20%20%20%20ORM-%3E%3EDB%3A%20INSERT%20INTO%20users...%0A%20%20%20%20DB-%3E%3EDB%3A%20%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F%0A%20%20%20%20DB-%3E%3EDB%3A%20%E6%9B%B4%E6%96%B0%E7%B4%A2%E5%BC%95%0A%20%20%20%20DB--%3E%3EORM%3A%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%0A%20%20%20%20ORM--%3E%3EApp%3A%20%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B%E5%AE%89%E5%85%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%0A"})]),fallback:a(()=>[...t[1]||(t[1]=[n(" Loading... ",-1)])]),_:1})),t[4]||(t[4]=r(`<h3 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h3><p><strong>核心意图</strong>：让 AI 帮你理解数据库概念或优化查询。</p><p><strong>常用提问模板</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>我的查询很慢：[查询代码]</span></span>
<span class="line"><span>表结构是：[表结构]</span></span>
<span class="line"><span>数据量大约 [X] 条</span></span>
<span class="line"><span>请帮我分析原因并给出优化建议。</span></span></code></pre></div><p><strong>关键术语</strong>：<code>索引</code>、<code>事务</code>、<code>ACID</code>、<code>锁</code>、<code>死锁</code>、<code>RLS</code></p><h3 id="学习建议" tabindex="-1">学习建议 <a class="header-anchor" href="#学习建议" aria-label="Permalink to &quot;学习建议&quot;">​</a></h3><ul><li>如果你只用 Prisma，可以快速浏览本节，重点理解概念</li><li>如果你需要优化性能，重点学习 4.2.2 索引原理</li><li>如果你处理支付等敏感操作，重点学习 4.2.3 事务特性</li></ul>`,7))])}const D=l(h,[["render",p]]);export{m as __pageData,D as default};
