import{_ as i,c as n,o,a3 as a}from"./chunks/framework.CUcrqFol.js";const p=JSON.parse('{"title":"0.4.2 为什么我的 Node 版本不对——Node.js 版本管理与 nvm","description":"0.4.2 为什么我的 Node 版本不对——Node.js 版本管理与 nvm 一句话破题 不同项目需要不同 Node 版本。**用 nvm 管理 Node**，用 锁定项目版本，避免“在我机器上能跑”的尴尬。 nvm 安装与配置：Windows/macOS/Linux Windows：使用 （Corey Butle","frontmatter":{"title":"0.4.2 为什么我的 Node 版本不对——Node.js 版本管理与 nvm","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/00-bootcamp/0.4-dev-environment/0.4.2-node-version-manager.md","filePath":"Advanced-old/00-bootcamp/0.4-dev-environment/0.4.2-node-version-manager.md","lastUpdated":1766168364000}'),s={name:"Advanced-old/00-bootcamp/0.4-dev-environment/0.4.2-node-version-manager.md"};function l(d,e,t,r,c,h){return o(),n("div",null,[...e[0]||(e[0]=[a(`<h1 id="_0-4-2-为什么我的-node-版本不对——node-js-版本管理与-nvm" tabindex="-1">0.4.2 为什么我的 Node 版本不对——Node.js 版本管理与 nvm <a class="header-anchor" href="#_0-4-2-为什么我的-node-版本不对——node-js-版本管理与-nvm" aria-label="Permalink to &quot;0.4.2 为什么我的 Node 版本不对——Node.js 版本管理与 nvm&quot;">​</a></h1><h2 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h2><p>不同项目需要不同 Node 版本。<strong>用 nvm 管理 Node</strong>，用 <code>.nvmrc</code> 锁定项目版本，避免“在我机器上能跑”的尴尬。</p><h2 id="nvm-安装与配置-windows-macos-linux" tabindex="-1">nvm 安装与配置：Windows/macOS/Linux <a class="header-anchor" href="#nvm-安装与配置-windows-macos-linux" aria-label="Permalink to &quot;nvm 安装与配置：Windows/macOS/Linux&quot;">​</a></h2><ul><li>Windows：使用 <code>nvm-windows</code>（Corey Butler 版）。 <ul><li>安装后在 PowerShell 验证：<code>Get-Command nvm</code></li><li>常用命令：<code>nvm list</code>、<code>nvm install 18.19.0</code>、<code>nvm use 18.19.0</code></li></ul></li><li>macOS/Linux：使用 <code>nvm</code>（Shell 脚本版）。 <ul><li>常用命令相同：<code>nvm ls</code>、<code>nvm install 20</code>、<code>nvm use 20</code></li></ul></li></ul><h2 id="node-js-版本选择策略-lts-vs-current" tabindex="-1">Node.js 版本选择策略：LTS vs Current <a class="header-anchor" href="#node-js-版本选择策略-lts-vs-current" aria-label="Permalink to &quot;Node.js 版本选择策略：LTS vs Current&quot;">​</a></h2><ul><li>开发与生产优先选择 <strong>LTS</strong>（长期支持），稳定且生态兼容好。</li><li>新特性探索或实验环境可用 <strong>Current</strong>，但不建议用于生产。</li></ul><h2 id="项目级版本锁定-nvmrc" tabindex="-1">项目级版本锁定：.nvmrc <a class="header-anchor" href="#项目级版本锁定-nvmrc" aria-label="Permalink to &quot;项目级版本锁定：.nvmrc&quot;">​</a></h2><ul><li>在项目根目录创建 <code>.nvmrc</code>，内容为目标版本：</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>18.19.0</span></span></code></pre></div><ul><li>Windows PowerShell 下读取并切换：</li></ul><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Get-Content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .nvmrc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Select-Object</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">First </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nvm use $version</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">node </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">v</span></span></code></pre></div><h2 id="环境变量与配置管理" tabindex="-1">环境变量与配置管理 <a class="header-anchor" href="#环境变量与配置管理" aria-label="Permalink to &quot;环境变量与配置管理&quot;">​</a></h2><ul><li>当前会话设置：<code>$env:NODE_ENV = &#39;development&#39;</code></li><li>持久化设置：<code>setx NODE_ENV production</code></li><li>自定义变量：<code>$env:API_BASE = &#39;https://api.example.com&#39;</code></li></ul><h2 id="包管理器配置与优化-配合-nvm-使用" tabindex="-1">包管理器配置与优化（配合 nvm 使用） <a class="header-anchor" href="#包管理器配置与优化-配合-nvm-使用" aria-label="Permalink to &quot;包管理器配置与优化（配合 nvm 使用）&quot;">​</a></h2><ul><li>registry： <ul><li><code>npm config set registry https://registry.npmmirror.com</code></li><li><code>pnpm config set registry https://registry.npmmirror.com</code></li></ul></li><li>缓存： <ul><li><code>npm cache verify</code></li><li><code>pnpm store prune</code></li></ul></li></ul><h2 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h2><ul><li>核心意图：让 AI 帮你<strong>规范版本</strong>与<strong>生成切换脚本</strong>。</li><li>需求定义公式： <ul><li>“在 Windows PowerShell 下，检测 <code>.nvmrc</code> 并自动切换到对应版本，如果未安装则自动安装。”</li></ul></li><li>关键术语：<code>nvm-windows</code>, <code>.nvmrc</code>, <code>LTS</code>, <code>NODE_ENV</code>, <code>registry</code>, <code>cache</code>。</li></ul><h2 id="避坑指南" tabindex="-1">避坑指南 <a class="header-anchor" href="#避坑指南" aria-label="Permalink to &quot;避坑指南&quot;">​</a></h2><ul><li>Windows 下的 <code>nvm-windows</code> 与 Unix 的 <code>nvm</code> 不同；脚本互换需注意兼容。</li><li>全局 Node 与项目 <code>.nvmrc</code> 不一致会导致依赖编译失败（如 <code>node-gyp</code>）。</li><li>切换 Node 版本后，建议清理并重装依赖，确保二进制绑定一致。</li></ul>`,20)])])}const u=i(s,[["render",l]]);export{p as __pageData,u as default};
