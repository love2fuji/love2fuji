import{_ as t,C as h,c as p,o as i,a3 as a,b as e,w as n,a as k,G as r,a4 as E}from"./chunks/framework.CUcrqFol.js";const A=JSON.parse('{"title":"8.2.3 主分支不是谁都能动——分支保护：强制 PR 与状态检查","description":"8.2.3 主分支不是谁都能动——分支保护 分支保护规则是团队协作的\\"交通信号灯\\"——没有规则，再好的流程也会被打破。 为什么需要分支保护 没有分支保护时可能发生的问题： 有人直接 push 到 main，跳过代码审查 未通过测试的代码被合并 强制推送覆盖他人代码 main 分支进入不可部署状态 **分支保护的核心目标","frontmatter":{"title":"8.2.3 主分支不是谁都能动——分支保护：强制 PR 与状态检查","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/08-workflow/8.2-branch-strategy/8.2.3-branch-protection.md","filePath":"Advanced-old/08-workflow/8.2-branch-strategy/8.2.3-branch-protection.md","lastUpdated":1766168364000}'),d={name:"Advanced-old/08-workflow/8.2-branch-strategy/8.2.3-branch-protection.md"};function o(c,s,g,y,u,F){const l=h("Mermaid");return i(),p("div",null,[s[1]||(s[1]=a(`<h1 id="_8-2-3-主分支不是谁都能动——分支保护" tabindex="-1">8.2.3 主分支不是谁都能动——分支保护 <a class="header-anchor" href="#_8-2-3-主分支不是谁都能动——分支保护" aria-label="Permalink to &quot;8.2.3 主分支不是谁都能动——分支保护&quot;">​</a></h1><p>分支保护规则是团队协作的&quot;交通信号灯&quot;——没有规则，再好的流程也会被打破。</p><h2 id="为什么需要分支保护" tabindex="-1">为什么需要分支保护 <a class="header-anchor" href="#为什么需要分支保护" aria-label="Permalink to &quot;为什么需要分支保护&quot;">​</a></h2><p>没有分支保护时可能发生的问题：</p><ul><li>有人直接 push 到 main，跳过代码审查</li><li>未通过测试的代码被合并</li><li>强制推送覆盖他人代码</li><li>main 分支进入不可部署状态</li></ul><p><strong>分支保护的核心目标</strong>：确保 main 分支上的代码始终处于可部署状态。</p><h2 id="github-分支保护配置" tabindex="-1">GitHub 分支保护配置 <a class="header-anchor" href="#github-分支保护配置" aria-label="Permalink to &quot;GitHub 分支保护配置&quot;">​</a></h2><h3 id="进入设置" tabindex="-1">进入设置 <a class="header-anchor" href="#进入设置" aria-label="Permalink to &quot;进入设置&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>仓库 → Settings → Branches → Add branch protection rule</span></span></code></pre></div><h3 id="核心保护规则" tabindex="-1">核心保护规则 <a class="header-anchor" href="#核心保护规则" aria-label="Permalink to &quot;核心保护规则&quot;">​</a></h3><table tabindex="0"><thead><tr><th>规则</th><th>作用</th><th>推荐</th></tr></thead><tbody><tr><td>Require a pull request</td><td>禁止直接 push，必须通过 PR</td><td>必选</td></tr><tr><td>Require approvals</td><td>需要指定数量的审批</td><td>至少 1 人</td></tr><tr><td>Require status checks</td><td>CI 检查必须通过</td><td>必选</td></tr><tr><td>Require branches to be up to date</td><td>PR 必须与目标分支同步</td><td>推荐</td></tr><tr><td>Require signed commits</td><td>要求 GPG 签名</td><td>可选</td></tr><tr><td>Include administrators</td><td>管理员也受规则约束</td><td>推荐</td></tr></tbody></table><h3 id="配置示例" tabindex="-1">配置示例 <a class="header-anchor" href="#配置示例" aria-label="Permalink to &quot;配置示例&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 分支保护规则配置示意</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Branch name pattern</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Protection rules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Require a pull request before merging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">✅</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Required approving reviews</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Dismiss stale reviews</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">✅</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Require review from code owners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">✅</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Require status checks to pass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">✅</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Required checks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">build</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lint</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Require branches to be up to date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">✅</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Do not allow bypassing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">✅</span></span></code></pre></div><h2 id="状态检查集成" tabindex="-1">状态检查集成 <a class="header-anchor" href="#状态检查集成" aria-label="Permalink to &quot;状态检查集成&quot;">​</a></h2><p>分支保护可以与 CI/CD 集成，确保代码质量：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .github/workflows/ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CI</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  pull_request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/setup-node@v4</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          node-version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;20&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm install</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/setup-node@v4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm install</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  lint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/setup-node@v4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm install</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm lint</span></span></code></pre></div><p>配置后，PR 页面会显示检查状态：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────────────────────────────┐</span></span>
<span class="line"><span>│ ✅ build — All checks have passed       │</span></span>
<span class="line"><span>│ ✅ test — All checks have passed        │</span></span>
<span class="line"><span>│ ✅ lint — All checks have passed        │</span></span>
<span class="line"><span>├─────────────────────────────────────────┤</span></span>
<span class="line"><span>│ ✅ Ready to merge                       │</span></span>
<span class="line"><span>└─────────────────────────────────────────┘</span></span></code></pre></div><h2 id="code-owners-配置" tabindex="-1">Code Owners 配置 <a class="header-anchor" href="#code-owners-配置" aria-label="Permalink to &quot;Code Owners 配置&quot;">​</a></h2><p>通过 <code>CODEOWNERS</code> 文件指定代码负责人：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .github/CODEOWNERS</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 默认审查者</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @team-lead</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 前端代码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/src/components/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @frontend-team</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/src/app/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @frontend-team</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 后端代码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/src/api/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @backend-team</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/prisma/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @backend-team</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 基础设施</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/.github/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @devops-team</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/docker/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @devops-team</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 文档</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/docs/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @docs-team</span></span></code></pre></div><p>配置后，修改对应目录的代码会自动请求相关负责人审查。</p><h2 id="保护规则实践场景" tabindex="-1">保护规则实践场景 <a class="header-anchor" href="#保护规则实践场景" aria-label="Permalink to &quot;保护规则实践场景&quot;">​</a></h2><h3 id="场景1-新人加入团队" tabindex="-1">场景1：新人加入团队 <a class="header-anchor" href="#场景1-新人加入团队" aria-label="Permalink to &quot;场景1：新人加入团队&quot;">​</a></h3>`,24)),(i(),e(E,null,{default:n(()=>[r(l,{id:"mermaid-161",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20A%5B%E6%96%B0%E4%BA%BA%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%5D%20--%3E%20B%5B%E5%88%9B%E5%BB%BA%20PR%5D%0A%20%20%20%20B%20--%3E%20C%7BCI%20%E6%A3%80%E6%9F%A5%7D%0A%20%20%20%20C%20--%3E%7C%E5%A4%B1%E8%B4%A5%7C%20D%5B%E4%BF%AE%E5%A4%8D%E9%97%AE%E9%A2%98%5D%0A%20%20%20%20D%20--%3E%20B%0A%20%20%20%20C%20--%3E%7C%E9%80%9A%E8%BF%87%7C%20E%7BCode%20Review%7D%0A%20%20%20%20E%20--%3E%7C%E9%9C%80%E4%BF%AE%E6%94%B9%7C%20F%5B%E6%A0%B9%E6%8D%AE%E5%8F%8D%E9%A6%88%E4%BF%AE%E6%94%B9%5D%0A%20%20%20%20F%20--%3E%20B%0A%20%20%20%20E%20--%3E%7C%E9%80%9A%E8%BF%87%7C%20G%5B%E5%90%88%E5%B9%B6%E5%88%B0%20main%5D%0A"})]),fallback:n(()=>[...s[0]||(s[0]=[k(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=a('<h3 id="场景2-紧急修复" tabindex="-1">场景2：紧急修复 <a class="header-anchor" href="#场景2-紧急修复" aria-label="Permalink to &quot;场景2：紧急修复&quot;">​</a></h3><p>即使紧急情况，也应遵循流程：</p><ol><li>创建 hotfix 分支</li><li>快速修复并提交</li><li>创建 PR，标记为 <code>urgent</code></li><li>请求快速审查（可在群里 @审查者）</li><li>审查通过后合并</li></ol><p><strong>不推荐</strong>：临时禁用分支保护（会留下安全隐患）</p><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="q-管理员可以绕过保护吗" tabindex="-1">Q: 管理员可以绕过保护吗？ <a class="header-anchor" href="#q-管理员可以绕过保护吗" aria-label="Permalink to &quot;Q: 管理员可以绕过保护吗？&quot;">​</a></h3><p>如果启用了 &quot;Include administrators&quot;，则管理员也必须遵循规则。</p><h3 id="q-如何处理-ci-检查偶尔失败" tabindex="-1">Q: 如何处理 CI 检查偶尔失败？ <a class="header-anchor" href="#q-如何处理-ci-检查偶尔失败" aria-label="Permalink to &quot;Q: 如何处理 CI 检查偶尔失败？&quot;">​</a></h3><ol><li>确保 CI 配置稳定可靠</li><li>使用重试机制</li><li>必要时可以 &quot;Re-run&quot; 失败的检查</li></ol><h3 id="q-紧急情况无人审批怎么办" tabindex="-1">Q: 紧急情况无人审批怎么办？ <a class="header-anchor" href="#q-紧急情况无人审批怎么办" aria-label="Permalink to &quot;Q: 紧急情况无人审批怎么办？&quot;">​</a></h3><ol><li>设置多个可审批人</li><li>建立紧急联系机制</li><li>考虑设置自动合并（不推荐用于 main）</li></ol><h2 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h2><p><strong>示例 Prompt</strong>：</p><blockquote><p>&quot;请帮我配置一个 GitHub Actions workflow，用于在 PR 时运行 Next.js 项目的构建、测试和类型检查，并将这些作为分支保护的必需检查。&quot;</p></blockquote><h2 id="验收清单" tabindex="-1">验收清单 <a class="header-anchor" href="#验收清单" aria-label="Permalink to &quot;验收清单&quot;">​</a></h2><ul><li>[ ] 理解分支保护的必要性</li><li>[ ] 能在 GitHub 上配置基本的分支保护规则</li><li>[ ] 了解 CI 状态检查的集成方式</li><li>[ ] 知道如何配置 CODEOWNERS</li></ul>',16))])}const C=t(d,[["render",o]]);export{A as __pageData,C as default};
