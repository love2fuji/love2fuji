import{_ as p,C as h,c as k,o as t,a3 as i,b as e,w as a,a as l,G as d,a4 as r}from"./chunks/framework.CUcrqFol.js";const b=JSON.parse('{"title":"1.5.4 项目最终落户在哪——部署平台：容器化与云服务选择","description":"1.5.4 项目最终落户在哪——部署平台：容器化与云服务选择 一句话破题 部署平台决定了你的应用如何运行在互联网上——选择合适的平台，能让运维变得轻松，成本可控。 部署方式全景图 平台对比 | 平台 | 类型 | 适合场景 | 免费额度 | 国内访问 | |------|------|----------|------","frontmatter":{"title":"1.5.4 项目最终落户在哪——部署平台：容器化与云服务选择","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/01-concept/1.5-toolchain/1.5.4-deployment-platform.md","filePath":"Advanced-old/01-concept/1.5-toolchain/1.5.4-deployment-platform.md","lastUpdated":1766168364000}'),E={name:"Advanced-old/01-concept/1.5-toolchain/1.5.4-deployment-platform.md"};function o(A,s,g,c,B,D){const n=h("Mermaid");return t(),k("div",null,[s[2]||(s[2]=i('<h1 id="_1-5-4-项目最终落户在哪——部署平台-容器化与云服务选择" tabindex="-1">1.5.4 项目最终落户在哪——部署平台：容器化与云服务选择 <a class="header-anchor" href="#_1-5-4-项目最终落户在哪——部署平台-容器化与云服务选择" aria-label="Permalink to &quot;1.5.4 项目最终落户在哪——部署平台：容器化与云服务选择&quot;">​</a></h1><h3 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h3><p>部署平台决定了你的应用如何运行在互联网上——选择合适的平台，能让运维变得轻松，成本可控。</p><h3 id="部署方式全景图" tabindex="-1">部署方式全景图 <a class="header-anchor" href="#部署方式全景图" aria-label="Permalink to &quot;部署方式全景图&quot;">​</a></h3>',4)),(t(),e(r,null,{default:a(()=>[d(n,{id:"mermaid-12",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20Serverless%5B%22Serverless%20%E5%B9%B3%E5%8F%B0%22%5D%0A%20%20%20%20%20%20%20%20S1%5B%22Vercel%22%5D%0A%20%20%20%20%20%20%20%20S2%5B%22Netlify%22%5D%0A%20%20%20%20%20%20%20%20S3%5B%22EdgeOne%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20PaaS%5B%22PaaS%20%E5%B9%B3%E5%8F%B0%22%5D%0A%20%20%20%20%20%20%20%20P1%5B%22Railway%22%5D%0A%20%20%20%20%20%20%20%20P2%5B%22Render%22%5D%0A%20%20%20%20%20%20%20%20P3%5B%22Fly.io%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Self%5B%22%E8%87%AA%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8%22%5D%0A%20%20%20%20%20%20%20%20H1%5B%221Panel%22%5D%0A%20%20%20%20%20%20%20%20H2%5B%22Docker%20Compose%22%5D%0A%20%20%20%20%20%20%20%20H3%5B%22K8s%22%5D%0A%20%20%20%20end%0A"})]),fallback:a(()=>[...s[0]||(s[0]=[l(" Loading... ",-1)])]),_:1})),s[3]||(s[3]=i('<h3 id="平台对比" tabindex="-1">平台对比 <a class="header-anchor" href="#平台对比" aria-label="Permalink to &quot;平台对比&quot;">​</a></h3><table tabindex="0"><thead><tr><th>平台</th><th>类型</th><th>适合场景</th><th>免费额度</th><th>国内访问</th></tr></thead><tbody><tr><td><strong>Vercel</strong></td><td>Serverless</td><td>前端/SSR</td><td>慷慨</td><td>较慢</td></tr><tr><td><strong>Netlify</strong></td><td>Serverless</td><td>静态站点</td><td>慷慨</td><td>较慢</td></tr><tr><td><strong>EdgeOne</strong></td><td>CDN + 边缘</td><td>国内用户</td><td>有</td><td>快</td></tr><tr><td><strong>Railway</strong></td><td>PaaS</td><td>全栈应用</td><td>$5/月</td><td>慢</td></tr><tr><td><strong>1Panel</strong></td><td>自建</td><td>完全可控</td><td>服务器费</td><td>取决于服务器</td></tr></tbody></table><h3 id="选择决策树" tabindex="-1">选择决策树 <a class="header-anchor" href="#选择决策树" aria-label="Permalink to &quot;选择决策树&quot;">​</a></h3>',3)),(t(),e(r,null,{default:a(()=>[d(n,{id:"mermaid-127",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20A%5B%22%E9%80%89%E6%8B%A9%E9%83%A8%E7%BD%B2%E5%B9%B3%E5%8F%B0%22%5D%20--%3E%20B%7B%22%E5%BA%94%E7%94%A8%E7%B1%BB%E5%9E%8B%3F%22%7D%0A%20%20%20%20B%20--%20%22%E7%BA%AF%E9%9D%99%E6%80%81%22%20--%3E%20C%5B%22Vercel%2FNetlify%22%5D%0A%20%20%20%20B%20--%20%22Next.js%20SSR%22%20--%3E%20D%7B%22%E7%9B%AE%E6%A0%87%E7%94%A8%E6%88%B7%3F%22%7D%0A%20%20%20%20D%20--%20%22%E6%B5%B7%E5%A4%96%E4%B8%BA%E4%B8%BB%22%20--%3E%20E%5B%22Vercel%22%5D%0A%20%20%20%20D%20--%20%22%E5%9B%BD%E5%86%85%E4%B8%BA%E4%B8%BB%22%20--%3E%20F%5B%22EdgeOne%2F%E8%87%AA%E5%BB%BA%22%5D%0A%20%20%20%20B%20--%20%22%E5%85%A8%E6%A0%88%2B%E6%95%B0%E6%8D%AE%E5%BA%93%22%20--%3E%20G%7B%22%E9%A2%84%E7%AE%97%3F%22%7D%0A%20%20%20%20G%20--%20%22%E6%9C%89%E9%A2%84%E7%AE%97%22%20--%3E%20H%5B%22Railway%2F%E8%87%AA%E5%BB%BA%22%5D%0A%20%20%20%20G%20--%20%22%E4%BD%8E%E6%88%90%E6%9C%AC%22%20--%3E%20I%5B%22Vercel%20%2B%20Supabase%22%5D%0A"})]),fallback:a(()=>[...s[1]||(s[1]=[l(" Loading... ",-1)])]),_:1})),s[4]||(s[4]=i(`<h3 id="容器化基础" tabindex="-1">容器化基础 <a class="header-anchor" href="#容器化基础" aria-label="Permalink to &quot;容器化基础&quot;">​</a></h3><p>无论选择哪个平台，理解 Docker 都很重要：</p><div class="language-dockerfile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 典型的 Next.js Dockerfile</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node:20-alpine </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 依赖阶段</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> deps</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> package.json pnpm-lock.yaml ./</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> corepack enable pnpm &amp;&amp; pnpm install --frozen-lockfile</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 构建阶段</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> builder</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> --from=deps /app/node_modules ./node_modules</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> . .</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> corepack enable pnpm &amp;&amp; pnpm build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行阶段</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> runner</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ENV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NODE_ENV=production</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> --from=builder /app/public ./public</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> --from=builder /app/.next/standalone ./</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> --from=builder /app/.next/static ./.next/static</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EXPOSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 3000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;server.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h3 id="本课程推荐策略" tabindex="-1">本课程推荐策略 <a class="header-anchor" href="#本课程推荐策略" aria-label="Permalink to &quot;本课程推荐策略&quot;">​</a></h3><table tabindex="0"><thead><tr><th>阶段</th><th>推荐方案</th><th>原因</th></tr></thead><tbody><tr><td><strong>学习阶段</strong></td><td>Vercel</td><td>零配置，快速上手</td></tr><tr><td><strong>个人项目</strong></td><td>Vercel + Supabase</td><td>免费额度足够</td></tr><tr><td><strong>国内用户</strong></td><td>EdgeOne 或 1Panel</td><td>访问速度快</td></tr><tr><td><strong>生产项目</strong></td><td>自建服务器 + 1Panel</td><td>完全可控，成本可预测</td></tr></tbody></table><h3 id="成本考量" tabindex="-1">成本考量 <a class="header-anchor" href="#成本考量" aria-label="Permalink to &quot;成本考量&quot;">​</a></h3><table tabindex="0"><thead><tr><th>方案</th><th>初期成本</th><th>扩展成本</th><th>适合规模</th></tr></thead><tbody><tr><td><strong>Vercel 免费版</strong></td><td>0</td><td>按量计费</td><td>小型项目</td></tr><tr><td><strong>Vercel Pro</strong></td><td>$20/月</td><td>按量计费</td><td>中型项目</td></tr><tr><td><strong>自建服务器</strong></td><td>服务器费用</td><td>固定</td><td>任意规模</td></tr></tbody></table><h3 id="避坑指南" tabindex="-1">避坑指南 <a class="header-anchor" href="#避坑指南" aria-label="Permalink to &quot;避坑指南&quot;">​</a></h3><ul><li><strong>Vercel 免费版限制</strong>：Serverless 函数执行时间限制 10 秒</li><li><strong>冷启动问题</strong>：Serverless 函数首次调用可能较慢</li><li><strong>数据本地化</strong>：某些行业要求数据存储在国内</li><li><strong>备案要求</strong>：使用国内服务器和域名需要 ICP 备案</li></ul>`,9))])}const m=p(E,[["render",o]]);export{b as __pageData,m as default};
