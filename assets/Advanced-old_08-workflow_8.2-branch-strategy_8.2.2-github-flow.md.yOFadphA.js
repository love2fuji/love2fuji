import{_ as d,C as r,c as o,o as n,j as i,b as h,a3 as e,a,w as t,G as p,a4 as k}from"./chunks/framework.CUcrqFol.js";const B=JSON.parse('{"title":"8.2.2 小团队的敏捷工作流——GitHub Flow：简化的分支模型","description":"8.2.2 小团队的敏捷工作流——GitHub Flow GitHub Flow 只有一个核心原则：main 分支始终可部署。其余一切从简。 GitHub Flow 核心流程 六步工作流 步骤1：从 main 创建分支 **命名规范**： - 新功能 - bug 修复 - 文档更新 - 代码重构 步骤2：提交代码 步骤","frontmatter":{"title":"8.2.2 小团队的敏捷工作流——GitHub Flow：简化的分支模型","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/08-workflow/8.2-branch-strategy/8.2.2-github-flow.md","filePath":"Advanced-old/08-workflow/8.2-branch-strategy/8.2.2-github-flow.md","lastUpdated":1766168364000}'),F={name:"Advanced-old/08-workflow/8.2-branch-strategy/8.2.2-github-flow.md"};function g(c,s,u,b,C,E){const l=r("Mermaid");return n(),o("div",null,[s[2]||(s[2]=i("h1",{id:"_8-2-2-小团队的敏捷工作流——github-flow",tabindex:"-1"},[a("8.2.2 小团队的敏捷工作流——GitHub Flow "),i("a",{class:"header-anchor",href:"#_8-2-2-小团队的敏捷工作流——github-flow","aria-label":'Permalink to "8.2.2 小团队的敏捷工作流——GitHub Flow"'},"​")],-1)),s[3]||(s[3]=i("p",null,"GitHub Flow 只有一个核心原则：main 分支始终可部署。其余一切从简。",-1)),s[4]||(s[4]=i("h2",{id:"github-flow-核心流程",tabindex:"-1"},[a("GitHub Flow 核心流程 "),i("a",{class:"header-anchor",href:"#github-flow-核心流程","aria-label":'Permalink to "GitHub Flow 核心流程"'},"​")],-1)),(n(),h(k,null,{default:t(()=>[p(l,{id:"mermaid-9",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20A%5Bmain%5D%20--%3E%7C1.%20%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF%7C%20B%5Bfeature%2Fxxx%5D%0A%20%20%20%20B%20--%3E%7C2.%20%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%7C%20B%0A%20%20%20%20B%20--%3E%7C3.%20%E5%BC%80%20PR%7C%20C%5BPull%20Request%5D%0A%20%20%20%20C%20--%3E%7C4.%20%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%7C%20C%0A%20%20%20%20C%20--%3E%7C5.%20%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95%7C%20D%5BPreview%5D%0A%20%20%20%20D%20--%3E%7C6.%20%E5%90%88%E5%B9%B6%7C%20A%0A"})]),fallback:t(()=>[...s[0]||(s[0]=[a(" Loading... ",-1)])]),_:1})),s[5]||(s[5]=e(`<h2 id="六步工作流" tabindex="-1">六步工作流 <a class="header-anchor" href="#六步工作流" aria-label="Permalink to &quot;六步工作流&quot;">​</a></h2><h3 id="步骤1-从-main-创建分支" tabindex="-1">步骤1：从 main 创建分支 <a class="header-anchor" href="#步骤1-从-main-创建分支" aria-label="Permalink to &quot;步骤1：从 main 创建分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feat/user-dashboard</span></span></code></pre></div><p><strong>命名规范</strong>：</p><ul><li><code>feat/xxx</code> - 新功能</li><li><code>fix/xxx</code> - bug 修复</li><li><code>docs/xxx</code> - 文档更新</li><li><code>refactor/xxx</code> - 代码重构</li></ul><h3 id="步骤2-提交代码" tabindex="-1">步骤2：提交代码 <a class="header-anchor" href="#步骤2-提交代码" aria-label="Permalink to &quot;步骤2：提交代码&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 频繁提交，每个提交都应该是一个逻辑单元</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 添加用户仪表盘布局&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 完成数据获取逻辑&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;style: 调整仪表盘样式&quot;</span></span></code></pre></div><h3 id="步骤3-推送并创建-pull-request" tabindex="-1">步骤3：推送并创建 Pull Request <a class="header-anchor" href="#步骤3-推送并创建-pull-request" aria-label="Permalink to &quot;步骤3：推送并创建 Pull Request&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feat/user-dashboard</span></span></code></pre></div><p>然后在 GitHub 上创建 PR，填写：</p><ul><li><strong>标题</strong>：简洁描述变更内容</li><li><strong>描述</strong>：详细说明改了什么、为什么改</li><li><strong>关联 Issue</strong>：如果有的话</li></ul><h3 id="步骤4-代码审查" tabindex="-1">步骤4：代码审查 <a class="header-anchor" href="#步骤4-代码审查" aria-label="Permalink to &quot;步骤4：代码审查&quot;">​</a></h3><p>团队成员审查代码：</p><ul><li>代码质量</li><li>业务逻辑正确性</li><li>测试覆盖</li><li>安全隐患</li></ul><h3 id="步骤5-部署预览" tabindex="-1">步骤5：部署预览 <a class="header-anchor" href="#步骤5-部署预览" aria-label="Permalink to &quot;步骤5：部署预览&quot;">​</a></h3><p>现代 CI/CD 工具（如 Vercel）会自动为每个 PR 创建预览环境：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Preview: https://project-feat-user-dashboard.vercel.app</span></span></code></pre></div><p>在预览环境测试通过后，才能合并。</p><h3 id="步骤6-合并到-main" tabindex="-1">步骤6：合并到 main <a class="header-anchor" href="#步骤6-合并到-main" aria-label="Permalink to &quot;步骤6：合并到 main&quot;">​</a></h3><p>审查通过后，通过 GitHub UI 合并 PR：</p><ul><li><strong>Merge commit</strong>：保留完整历史</li><li><strong>Squash and merge</strong>：压缩为单个提交（推荐）</li><li><strong>Rebase and merge</strong>：变基合并，保持线性历史</li></ul><p>合并后 main 会自动触发生产部署。</p><h2 id="github-flow-vs-git-flow" tabindex="-1">GitHub Flow vs Git Flow <a class="header-anchor" href="#github-flow-vs-git-flow" aria-label="Permalink to &quot;GitHub Flow vs Git Flow&quot;">​</a></h2><table tabindex="0"><thead><tr><th>特性</th><th>GitHub Flow</th><th>Git Flow</th></tr></thead><tbody><tr><td>分支数量</td><td>2 种（main + feature）</td><td>5 种</td></tr><tr><td>复杂度</td><td>简单</td><td>复杂</td></tr><tr><td>发布节奏</td><td>持续部署</td><td>定期发布</td></tr><tr><td>版本管理</td><td>无需</td><td>需要</td></tr><tr><td>适合团队</td><td>小团队</td><td>大团队</td></tr><tr><td>最佳场景</td><td>Web 应用</td><td>传统软件</td></tr></tbody></table><h2 id="紧急修复流程" tabindex="-1">紧急修复流程 <a class="header-anchor" href="#紧急修复流程" aria-label="Permalink to &quot;紧急修复流程&quot;">​</a></h2><p>GitHub Flow 中的紧急修复与普通功能开发流程相同：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 从 main 创建修复分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix/critical-bug</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 修复问题</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fix: 修复登录失败问题&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 推送并创建 PR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix/critical-bug</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4. 快速审查后合并</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5. main 自动部署</span></span></code></pre></div><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><h3 id="_1-保持分支短命" tabindex="-1">1. 保持分支短命 <a class="header-anchor" href="#_1-保持分支短命" aria-label="Permalink to &quot;1. 保持分支短命&quot;">​</a></h3>`,29)),(n(),h(k,null,{default:t(()=>[p(l,{id:"mermaid-233",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20%E6%8E%A8%E8%8D%90%0A%20%20%20%20%20%20%20%20A1%5B1-2%E5%A4%A9%5D%20--%3E%7C%E5%90%88%E5%B9%B6%7C%20B1%5Bmain%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%E9%81%BF%E5%85%8D%0A%20%20%20%20%20%20%20%20A2%5B1-2%E5%91%A8%5D%20-.-%3E%7C%E5%A4%A7%E9%87%8F%E5%86%B2%E7%AA%81%7C%20B2%5Bmain%5D%0A%20%20%20%20end%0A"})]),fallback:t(()=>[...s[1]||(s[1]=[a(" Loading... ",-1)])]),_:1})),s[6]||(s[6]=e(`<h3 id="_2-小步提交" tabindex="-1">2. 小步提交 <a class="header-anchor" href="#_2-小步提交" aria-label="Permalink to &quot;2. 小步提交&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 好的做法：每个提交聚焦一件事</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 添加用户头像组件&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 集成头像到用户卡片&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;test: 添加头像组件测试&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 避免：一个巨大的提交</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 添加用户系统&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 包含 50 个文件变更</span></span></code></pre></div><h3 id="_3-及时同步-main" tabindex="-1">3. 及时同步 main <a class="header-anchor" href="#_3-及时同步-main" aria-label="Permalink to &quot;3. 及时同步 main&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发过程中定期同步</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin/main</span></span></code></pre></div><h3 id="_4-使用-pr-模板" tabindex="-1">4. 使用 PR 模板 <a class="header-anchor" href="#_4-使用-pr-模板" aria-label="Permalink to &quot;4. 使用 PR 模板&quot;">​</a></h3><p>在仓库根目录创建 <code>.github/PULL_REQUEST_TEMPLATE.md</code>：</p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 变更类型</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 新功能</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] Bug 修复</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 重构</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 文档</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 变更描述</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 描述你做了什么变更 --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 测试</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 已添加/更新测试</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] 本地测试通过</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## 截图（如适用）</span></span></code></pre></div><h2 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h2><p><strong>示例 Prompt</strong>：</p><blockquote><p>&quot;我正在开发一个新功能，已经在 feat/user-profile 分支上提交了几次代码。现在发现 main 分支有新的更新，我想把 main 的更新同步到我的分支，同时保持提交历史整洁，应该怎么做？&quot;</p></blockquote><h2 id="验收清单" tabindex="-1">验收清单 <a class="header-anchor" href="#验收清单" aria-label="Permalink to &quot;验收清单&quot;">​</a></h2><ul><li>[ ] 理解 GitHub Flow 的六步流程</li><li>[ ] 能独立完成从创建分支到合并的完整流程</li><li>[ ] 了解 GitHub Flow 与 Git Flow 的区别</li><li>[ ] 掌握分支同步和 PR 最佳实践</li></ul>`,12))])}const m=d(F,[["render",g]]);export{B as __pageData,m as default};
