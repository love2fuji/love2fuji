import{_ as s,c as t,o as i,a3 as e}from"./chunks/framework.CUcrqFol.js";const g=JSON.parse('{"title":"5.3.4 初学者安全检查清单","description":"5.3.4 初学者的安全检查清单 经过本节学习，你将获得： 一份可立即使用的安全检查清单 不同场景下的检查要点 快速检查的实用技巧 提交代码前检查清单 每次准备将代码上传到 GitHub 或其他平台之前，请检查： [ ] **没有硬编码密钥**：代码里没有任何真实的密码、API 密钥或 Token [ ] **.env","frontmatter":{"title":"5.3.4 初学者安全检查清单","order":6},"headers":[],"relativePath":"Basic/05-advanced/5.3-security/5.3.4-checklist.md","filePath":"Basic/05-advanced/5.3-security/5.3.4-checklist.md","lastUpdated":1765094268000}'),n={name:"Basic/05-advanced/5.3-security/5.3.4-checklist.md"};function l(o,a,p,d,r,h){return i(),t("div",null,[...a[0]||(a[0]=[e(`<h1 id="_5-3-4-初学者的安全检查清单" tabindex="-1">5.3.4 初学者的安全检查清单 <a class="header-anchor" href="#_5-3-4-初学者的安全检查清单" aria-label="Permalink to &quot;5.3.4 初学者的安全检查清单&quot;">​</a></h1><p>经过本节学习，你将获得：</p><ul><li>一份可立即使用的安全检查清单</li><li>不同场景下的检查要点</li><li>快速检查的实用技巧</li></ul><h2 id="提交代码前检查清单" tabindex="-1">提交代码前检查清单 <a class="header-anchor" href="#提交代码前检查清单" aria-label="Permalink to &quot;提交代码前检查清单&quot;">​</a></h2><p>每次准备将代码上传到 GitHub 或其他平台之前，请检查：</p><ul><li>[ ] <strong>没有硬编码密钥</strong>：代码里没有任何真实的密码、API 密钥或 Token</li><li>[ ] <strong>.env 已被忽略</strong>：<code>.env</code> 文件已加入 <code>.gitignore</code></li><li>[ ] <strong>没有敏感日志</strong>：<code>console.log</code> 或调试语句中没有输出敏感信息</li><li>[ ] <strong>没有测试数据泄露</strong>：测试代码中没有使用真实的用户数据或密钥</li></ul><h2 id="部署前检查清单" tabindex="-1">部署前检查清单 <a class="header-anchor" href="#部署前检查清单" aria-label="Permalink to &quot;部署前检查清单&quot;">​</a></h2><p>在将项目部署到互联网之前，额外检查：</p><ul><li>[ ] <strong>环境变量已配置</strong>：部署平台上已正确设置所有需要的环境变量</li><li>[ ] <strong>调试模式已关闭</strong>：生产环境没有开启 debug 模式</li><li>[ ] <strong>错误信息已简化</strong>：错误页面不会暴露详细的技术信息</li><li>[ ] <strong>HTTPS 已启用</strong>：网站使用 HTTPS 而非 HTTP</li></ul><h2 id="定期检查清单" tabindex="-1">定期检查清单 <a class="header-anchor" href="#定期检查清单" aria-label="Permalink to &quot;定期检查清单&quot;">​</a></h2><p>每隔一段时间（比如每月），回顾一下：</p><ul><li>[ ] <strong>密钥是否需要轮换</strong>：长期使用的密钥是否应该更换</li><li>[ ] <strong>依赖是否需要更新</strong>：项目使用的库是否有安全更新</li><li>[ ] <strong>权限是否合理</strong>：API 密钥的权限是否只包含必要的范围</li></ul><h2 id="快速检查技巧" tabindex="-1">快速检查技巧 <a class="header-anchor" href="#快速检查技巧" aria-label="Permalink to &quot;快速检查技巧&quot;">​</a></h2><h3 id="方法一-搜索敏感关键词" tabindex="-1">方法一：搜索敏感关键词 <a class="header-anchor" href="#方法一-搜索敏感关键词" aria-label="Permalink to &quot;方法一：搜索敏感关键词&quot;">​</a></h3><p>在你的代码编辑器中，使用搜索功能查找这些关键词：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>password</span></span>
<span class="line"><span>secret</span></span>
<span class="line"><span>api_key</span></span>
<span class="line"><span>apiKey</span></span>
<span class="line"><span>token</span></span>
<span class="line"><span>sk-</span></span>
<span class="line"><span>pk-</span></span>
<span class="line"><span>AKIA</span></span>
<span class="line"><span>-----BEGIN</span></span></code></pre></div><p>如果搜索结果中出现了看起来像真实密钥的内容（而不是 <code>process.env.XXX</code> 这样的引用），就需要处理。</p><h3 id="方法二-检查即将提交的文件" tabindex="-1">方法二：检查即将提交的文件 <a class="header-anchor" href="#方法二-检查即将提交的文件" aria-label="Permalink to &quot;方法二：检查即将提交的文件&quot;">​</a></h3><p>如果你使用 Git，在提交前运行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cached</span></span></code></pre></div><p>这会显示你即将提交的所有更改。快速扫一眼，确认没有敏感信息。</p><h3 id="方法三-检查-gitignore-是否生效" tabindex="-1">方法三：检查 .gitignore 是否生效 <a class="header-anchor" href="#方法三-检查-gitignore-是否生效" aria-label="Permalink to &quot;方法三：检查 .gitignore 是否生效&quot;">​</a></h3><p>确认敏感文件确实被忽略了：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span></span></code></pre></div><p>如果 <code>.env</code> 文件出现在列表中，说明它没有被正确忽略。</p><h2 id="常见问题处理" tabindex="-1">常见问题处理 <a class="header-anchor" href="#常见问题处理" aria-label="Permalink to &quot;常见问题处理&quot;">​</a></h2><h3 id="问题-我已经不小心提交了-env-文件" tabindex="-1">问题：我已经不小心提交了 .env 文件 <a class="header-anchor" href="#问题-我已经不小心提交了-env-文件" aria-label="Permalink to &quot;问题：我已经不小心提交了 .env 文件&quot;">​</a></h3><p><strong>解决步骤</strong>：</p><ol><li>首先，<strong>立即更换所有泄露的密钥</strong>（这是最重要的）</li><li>将 <code>.env</code> 加入 <code>.gitignore</code></li><li>从 Git 追踪中移除该文件（但不删除本地文件）：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cached</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span></span></code></pre></div></li><li>提交这个更改：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;移除敏感文件&quot;</span></span></code></pre></div></li></ol><div class="warning custom-block"><p class="custom-block-title">重要提醒</p><p>即使你删除了文件，Git 历史中仍然保留着它。如果仓库是公开的，密钥已经泄露。</p><p><strong>必须更换密钥，没有例外。</strong></p></div><h3 id="问题-我不确定某个字符串是不是密钥" tabindex="-1">问题：我不确定某个字符串是不是密钥 <a class="header-anchor" href="#问题-我不确定某个字符串是不是密钥" aria-label="Permalink to &quot;问题：我不确定某个字符串是不是密钥&quot;">​</a></h3><p>判断标准：</p><table tabindex="0"><thead><tr><th>特征</th><th>可能是密钥</th><th>可能不是密钥</th></tr></thead><tbody><tr><td>长度</td><td>较长（20+ 字符）</td><td>较短</td></tr><tr><td>内容</td><td>看起来随机的字母数字</td><td>有明显含义的单词</td></tr><tr><td>前缀</td><td>有特定前缀如 <code>sk-</code>、<code>AKIA</code></td><td>普通前缀</td></tr><tr><td>位置</td><td>赋值给类似 <code>API_KEY</code> 的变量</td><td>普通变量</td></tr></tbody></table><p>如果还是不确定，<strong>宁可当作密钥处理</strong>。</p><h2 id="养成习惯" tabindex="-1">养成习惯 <a class="header-anchor" href="#养成习惯" aria-label="Permalink to &quot;养成习惯&quot;">​</a></h2><p>安全检查不需要花很多时间。一旦养成习惯，每次提交前花 30 秒扫一眼，就能避免大部分问题。</p><div class="tip custom-block"><p class="custom-block-title">一个好习惯</p><p>每次看到 AI 生成的代码中有类似密钥的长字符串，第一反应应该是：&quot;这是真实密钥还是占位符？&quot;</p></div><p>→ <a href="./5.3.5-slopsquatting.html">5.3.5 AI 推荐的库安全吗</a></p>`,38)])])}const k=s(n,[["render",l]]);export{g as __pageData,k as default};
