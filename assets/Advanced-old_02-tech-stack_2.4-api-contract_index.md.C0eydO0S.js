import{_ as n,C as i,c as l,o as A,a3 as E,b as r,w as a,a as o,G as d,a4 as s}from"./chunks/framework.CUcrqFol.js";const P=JSON.parse('{"title":"2.4 前后端如何高效协作——接口契约/API Route；请求/响应、幂等、流式返回","description":"2.4 前后端如何高效协作——接口契约 认知重构 在传统开发模式中，前端等后端、后端等需求，彼此阻塞是常态。而在 Vibe Coding 时代，**契约先行**的理念让前后端可以并行开发，AI 也能基于契约生成更准确的代码。 本章知识图谱 核心概念速览 | 概念 | 作用 | 工具 | |------|------|-","frontmatter":{"title":"2.4 前后端如何高效协作——接口契约/API Route；请求/响应、幂等、流式返回","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/02-tech-stack/2.4-api-contract/index.md","filePath":"Advanced-old/02-tech-stack/2.4-api-contract/index.md","lastUpdated":1766168364000}'),B={name:"Advanced-old/02-tech-stack/2.4-api-contract/index.md"};function h(p,t,u,c,_,b){const e=i("Mermaid");return A(),l("div",null,[t[3]||(t[3]=E(`<h1 id="_2-4-前后端如何高效协作——接口契约" tabindex="-1">2.4 前后端如何高效协作——接口契约 <a class="header-anchor" href="#_2-4-前后端如何高效协作——接口契约" aria-label="Permalink to &quot;2.4 前后端如何高效协作——接口契约&quot;">​</a></h1><h2 id="认知重构" tabindex="-1">认知重构 <a class="header-anchor" href="#认知重构" aria-label="Permalink to &quot;认知重构&quot;">​</a></h2><p>在传统开发模式中，前端等后端、后端等需求，彼此阻塞是常态。而在 Vibe Coding 时代，<strong>契约先行</strong>的理念让前后端可以并行开发，AI 也能基于契约生成更准确的代码。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>传统模式：需求 → 后端开发 → 前端对接 → 联调（串行）</span></span>
<span class="line"><span>契约先行：需求 → 定义契约 → 前后端并行开发 → 联调（并行）</span></span></code></pre></div><h2 id="本章知识图谱" tabindex="-1">本章知识图谱 <a class="header-anchor" href="#本章知识图谱" aria-label="Permalink to &quot;本章知识图谱&quot;">​</a></h2>`,5)),(A(),r(s,null,{default:a(()=>[d(e,{id:"mermaid-13",class:"mermaid",graph:"mindmap%0A%20%20root((%E5%89%8D%E5%90%8E%E7%AB%AF%E5%8D%8F%E4%BD%9C))%0A%20%20%20%20%E5%A5%91%E7%BA%A6%E5%85%88%E8%A1%8C%0A%20%20%20%20%20%20%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89%0A%20%20%20%20%20%20%E7%B1%BB%E5%9E%8B%E5%85%B1%E4%BA%AB%0A%20%20%20%20%20%20%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%0A%20%20%20%20Mock%20%E6%95%B0%E6%8D%AE%0A%20%20%20%20%20%20MSW%20%E6%A8%A1%E6%8B%9F%0A%20%20%20%20%20%20Faker%20%E7%94%9F%E6%88%90%0A%20%20%20%20%20%20%E5%9C%BA%E6%99%AF%E5%88%87%E6%8D%A2%0A%20%20%20%20%E5%B9%B6%E8%A1%8C%E5%BC%80%E5%8F%91%0A%20%20%20%20%20%20%E5%89%8D%E7%AB%AF%E7%8B%AC%E7%AB%8B%0A%20%20%20%20%20%20%E5%90%8E%E7%AB%AF%E4%B8%93%E6%B3%A8%0A%20%20%20%20%20%20%E7%B1%BB%E5%9E%8B%E5%AE%89%E5%85%A8%0A%20%20%20%20%E8%81%94%E8%B0%83%E6%B5%8B%E8%AF%95%0A%20%20%20%20%20%20%E5%A5%91%E7%BA%A6%E9%AA%8C%E8%AF%81%0A%20%20%20%20%20%20%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D%0A%20%20%20%20%20%20%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%0A"})]),fallback:a(()=>[...t[0]||(t[0]=[o(" Loading... ",-1)])]),_:1})),t[4]||(t[4]=E('<h2 id="核心概念速览" tabindex="-1">核心概念速览 <a class="header-anchor" href="#核心概念速览" aria-label="Permalink to &quot;核心概念速览&quot;">​</a></h2><table tabindex="0"><thead><tr><th>概念</th><th>作用</th><th>工具</th></tr></thead><tbody><tr><td><strong>API 契约</strong></td><td>定义请求/响应格式</td><td>TypeScript 类型、Zod Schema</td></tr><tr><td><strong>Mock 数据</strong></td><td>模拟后端响应</td><td>MSW、Faker.js</td></tr><tr><td><strong>并行开发</strong></td><td>前后端同时进行</td><td>共享类型定义</td></tr><tr><td><strong>联调测试</strong></td><td>验证契约一致性</td><td>Postman、测试用例</td></tr></tbody></table><h2 id="为什么需要-api-契约" tabindex="-1">为什么需要 API 契约？ <a class="header-anchor" href="#为什么需要-api-契约" aria-label="Permalink to &quot;为什么需要 API 契约？&quot;">​</a></h2>',3)),(A(),r(s,null,{default:a(()=>[d(e,{id:"mermaid-81",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20Without%5B%22%E6%B2%A1%E6%9C%89%E5%A5%91%E7%BA%A6%22%5D%0A%20%20%20%20%20%20%20%20F1%5B%22%E5%89%8D%E7%AB%AF%E7%8C%9C%E6%B5%8B%E6%A0%BC%E5%BC%8F%22%5D%20--%3E%20E1%5B%22%E8%81%94%E8%B0%83%E6%97%B6%E5%8F%91%E7%8E%B0%E4%B8%8D%E5%AF%B9%22%5D%0A%20%20%20%20%20%20%20%20E1%20--%3E%20F2%5B%22%E5%89%8D%E7%AB%AF%E9%87%8D%E5%86%99%22%5D%0A%20%20%20%20%20%20%20%20F2%20--%3E%20E2%5B%22%E5%86%8D%E6%AC%A1%E8%81%94%E8%B0%83%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20With%5B%22%E6%9C%89%E5%A5%91%E7%BA%A6%22%5D%0A%20%20%20%20%20%20%20%20C%5B%22%E5%85%B1%E5%90%8C%E5%AE%9A%E4%B9%89%E5%A5%91%E7%BA%A6%22%5D%20--%3E%20P1%5B%22%E5%89%8D%E7%AB%AF%E5%9F%BA%E4%BA%8E%E5%A5%91%E7%BA%A6%E5%BC%80%E5%8F%91%22%5D%0A%20%20%20%20%20%20%20%20C%20--%3E%20P2%5B%22%E5%90%8E%E7%AB%AF%E5%9F%BA%E4%BA%8E%E5%A5%91%E7%BA%A6%E5%BC%80%E5%8F%91%22%5D%0A%20%20%20%20%20%20%20%20P1%20--%3E%20T%5B%22%E8%81%94%E8%B0%83%E9%AA%8C%E8%AF%81%22%5D%0A%20%20%20%20%20%20%20%20P2%20--%3E%20T%0A%20%20%20%20end%0A"})]),fallback:a(()=>[...t[1]||(t[1]=[o(" Loading... ",-1)])]),_:1})),t[5]||(t[5]=E('<h3 id="契约的三大价值" tabindex="-1">契约的三大价值 <a class="header-anchor" href="#契约的三大价值" aria-label="Permalink to &quot;契约的三大价值&quot;">​</a></h3><ol><li><strong>消除沟通歧义</strong>：接口格式白纸黑字，没有&quot;我以为&quot;</li><li><strong>支持并行开发</strong>：前端用 Mock，后端用测试，互不阻塞</li><li><strong>AI 协作更精准</strong>：AI 基于类型定义生成代码，准确率大幅提升</li></ol><h2 id="api-route-在-next-js-中的位置" tabindex="-1">API Route 在 Next.js 中的位置 <a class="header-anchor" href="#api-route-在-next-js-中的位置" aria-label="Permalink to &quot;API Route 在 Next.js 中的位置&quot;">​</a></h2>',3)),(A(),r(s,null,{default:a(()=>[d(e,{id:"mermaid-105",class:"mermaid",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20App%5B%22Next.js%20%E5%BA%94%E7%94%A8%22%5D%0A%20%20%20%20%20%20%20%20Pages%5B%22%E9%A1%B5%E9%9D%A2%E7%BB%84%E4%BB%B6%22%5D%0A%20%20%20%20%20%20%20%20SA%5B%22Server%20Actions%22%5D%0A%20%20%20%20%20%20%20%20API%5B%22API%20Routes%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20External%5B%22%E5%A4%96%E9%83%A8%22%5D%0A%20%20%20%20%20%20%20%20Third%5B%22%E7%AC%AC%E4%B8%89%E6%96%B9%E6%9C%8D%E5%8A%A1%22%5D%0A%20%20%20%20%20%20%20%20Webhook%5B%22Webhook%22%5D%0A%20%20%20%20%20%20%20%20Mobile%5B%22%E7%A7%BB%E5%8A%A8%E7%AB%AF%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20Pages%20--%3E%20SA%0A%20%20%20%20Pages%20--%3E%20API%0A%20%20%20%20Third%20--%3E%20API%0A%20%20%20%20Webhook%20--%3E%20API%0A%20%20%20%20Mobile%20--%3E%20API%0A"})]),fallback:a(()=>[...t[2]||(t[2]=[o(" Loading... ",-1)])]),_:1})),t[6]||(t[6]=E('<table tabindex="0"><thead><tr><th>场景</th><th>推荐方案</th></tr></thead><tbody><tr><td>内部数据变更</td><td>Server Actions</td></tr><tr><td>对外暴露接口</td><td>API Routes</td></tr><tr><td>第三方回调</td><td>API Routes</td></tr><tr><td>移动端调用</td><td>API Routes</td></tr></tbody></table><h2 id="本章导航" tabindex="-1">本章导航 <a class="header-anchor" href="#本章导航" aria-label="Permalink to &quot;本章导航&quot;">​</a></h2><ul><li><strong>2.4.1 契约先行</strong>：先定义接口，再写代码</li><li><strong>2.4.2 Mock 数据</strong>：让前端不依赖后端</li><li><strong>2.4.3 并行开发</strong>：前后端同时进行</li><li><strong>2.4.4 联调测试</strong>：确保契约一致性</li></ul>',3))])}const C=n(B,[["render",h]]);export{P as __pageData,C as default};
