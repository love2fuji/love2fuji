import{_ as n,C as l,c as d,o as t,a3 as s,b as r,w as i,a as h,G as p,a4 as o}from"./chunks/framework.CUcrqFol.js";const C=JSON.parse('{"title":"7.4 接口升级了，旧版怎么办——API 版本管理与兼容性：向前兼容的设计原则","description":"7.4 API 版本管理 核心问题 | 问题 | 本节解答 | |------|----------| | 版本号怎么定？ | 使用语义化版本：主版本.次版本.修订版本 | | 版本号放哪里？ | URL 路径简单直观，Header 更灵活 | | 新版本发布了，旧版本怎么办？ | 保持向后兼容，渐进式废弃 | | 怎","frontmatter":{"title":"7.4 接口升级了，旧版怎么办——API 版本管理与兼容性：向前兼容的设计原则","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/07-api/7.4-versioning/index.md","filePath":"Advanced-old/07-api/7.4-versioning/index.md","lastUpdated":1766168364000}'),c={name:"Advanced-old/07-api/7.4-versioning/index.md"};function k(E,a,A,g,u,b){const e=l("Mermaid");return t(),d("div",null,[a[1]||(a[1]=s('<h1 id="_7-4-api-版本管理" tabindex="-1">7.4 API 版本管理 <a class="header-anchor" href="#_7-4-api-版本管理" aria-label="Permalink to &quot;7.4 API 版本管理&quot;">​</a></h1><h2 id="核心问题" tabindex="-1">核心问题 <a class="header-anchor" href="#核心问题" aria-label="Permalink to &quot;核心问题&quot;">​</a></h2><table tabindex="0"><thead><tr><th>问题</th><th>本节解答</th></tr></thead><tbody><tr><td>版本号怎么定？</td><td>使用语义化版本：主版本.次版本.修订版本</td></tr><tr><td>版本号放哪里？</td><td>URL 路径简单直观，Header 更灵活</td></tr><tr><td>新版本发布了，旧版本怎么办？</td><td>保持向后兼容，渐进式废弃</td></tr><tr><td>怎么通知用户？</td><td>维护 Changelog，发送变更通知</td></tr></tbody></table><h2 id="版本管理流程" tabindex="-1">版本管理流程 <a class="header-anchor" href="#版本管理流程" aria-label="Permalink to &quot;版本管理流程&quot;">​</a></h2>',4)),(t(),r(o,null,{default:i(()=>[p(e,{id:"mermaid-55",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20Design%5B%22%E8%AE%BE%E8%AE%A1%E6%96%B0%E7%89%88%E6%9C%AC%22%5D%20--%3E%20Compat%5B%22%E6%A3%80%E6%9F%A5%E5%85%BC%E5%AE%B9%E6%80%A7%22%5D%0A%20%20%20%20Compat%20--%3E%20Version%5B%22%E7%A1%AE%E5%AE%9A%E7%89%88%E6%9C%AC%E5%8F%B7%22%5D%0A%20%20%20%20Version%20--%3E%20Impl%5B%22%E5%AE%9E%E7%8E%B0%E6%96%B0%E7%89%88%E6%9C%AC%22%5D%0A%20%20%20%20Impl%20--%3E%20Doc%5B%22%E6%9B%B4%E6%96%B0%E6%96%87%E6%A1%A3%22%5D%0A%20%20%20%20Doc%20--%3E%20Notify%5B%22%E9%80%9A%E7%9F%A5%E7%94%A8%E6%88%B7%22%5D%0A%20%20%20%20Notify%20--%3E%20Deprecate%5B%22%E5%BA%9F%E5%BC%83%E6%97%A7%E7%89%88%E6%9C%AC%22%5D%0A"})]),fallback:i(()=>[...a[0]||(a[0]=[h(" Loading... ",-1)])]),_:1})),a[2]||(a[2]=s(`<h2 id="本节内容" tabindex="-1">本节内容 <a class="header-anchor" href="#本节内容" aria-label="Permalink to &quot;本节内容&quot;">​</a></h2><table tabindex="0"><thead><tr><th>小节</th><th>主题</th><th>核心知识点</th></tr></thead><tbody><tr><td>7.4.1</td><td>语义化版本</td><td>主版本/次版本/修订版本</td></tr><tr><td>7.4.2</td><td>版本控制策略</td><td>URL 路径 vs 请求头</td></tr><tr><td>7.4.3</td><td>向后兼容</td><td>字段添加与废弃策略</td></tr><tr><td>7.4.4</td><td>变更日志</td><td>API 变更记录与通知</td></tr></tbody></table><h2 id="快速示例" tabindex="-1">快速示例 <a class="header-anchor" href="#快速示例" aria-label="Permalink to &quot;快速示例&quot;">​</a></h2><h3 id="url-版本" tabindex="-1">URL 版本 <a class="header-anchor" href="#url-版本" aria-label="Permalink to &quot;URL 版本&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /api/v1/users</span></span>
<span class="line"><span>GET /api/v2/users</span></span></code></pre></div><h3 id="header-版本" tabindex="-1">Header 版本 <a class="header-anchor" href="#header-版本" aria-label="Permalink to &quot;Header 版本&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /api/users</span></span>
<span class="line"><span>Accept: application/vnd.myapp.v2+json</span></span></code></pre></div><h3 id="向后兼容" tabindex="-1">向后兼容 <a class="header-anchor" href="#向后兼容" aria-label="Permalink to &quot;向后兼容&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 新增字段，不破坏旧客户端</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  email</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  avatar</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 新增，可选</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="学习目标" tabindex="-1">学习目标 <a class="header-anchor" href="#学习目标" aria-label="Permalink to &quot;学习目标&quot;">​</a></h2><p>完成本节后，你将能够：</p><ol><li>正确使用语义化版本号</li><li>选择合适的版本控制策略</li><li>设计向后兼容的 API</li><li>管理 API 变更和废弃流程</li><li>维护清晰的变更日志</li></ol>`,12))])}const y=n(c,[["render",k]]);export{C as __pageData,y as default};
