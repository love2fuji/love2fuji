import{_ as n,C as d,c as i,o,a3 as a,b as c,w as l,a as t,G as s,a4 as p}from"./chunks/framework.CUcrqFol.js";const y=JSON.parse('{"title":"0.4.1 工具箱该选哪一个——包管理器选择：npm vs pnpm vs yarn","description":"0.4.1 工具箱该选哪一个——包管理器选择：npm vs pnpm vs yarn 原理与本质：它们到底在做什么 包管理器的本质是三件事：**解析依赖树**、**下载并缓存包**、**把依赖链接到项目的 **。差异在于“如何存储”和“如何链接”。 性能与磁盘空间对比（工程视角） ：通过**全局内容寻址存储**复用依赖","frontmatter":{"title":"0.4.1 工具箱该选哪一个——包管理器选择：npm vs pnpm vs yarn","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/00-bootcamp/0.4-dev-environment/0.4.1-package-managers.md","filePath":"Advanced-old/00-bootcamp/0.4-dev-environment/0.4.1-package-managers.md","lastUpdated":1766168364000}'),m={name:"Advanced-old/00-bootcamp/0.4-dev-environment/0.4.1-package-managers.md"};function u(h,e,E,A,g,B){const r=d("Mermaid");return o(),i("div",null,[e[1]||(e[1]=a('<h1 id="_0-4-1-工具箱该选哪一个——包管理器选择-npm-vs-pnpm-vs-yarn" tabindex="-1">0.4.1 工具箱该选哪一个——包管理器选择：npm vs pnpm vs yarn <a class="header-anchor" href="#_0-4-1-工具箱该选哪一个——包管理器选择-npm-vs-pnpm-vs-yarn" aria-label="Permalink to &quot;0.4.1 工具箱该选哪一个——包管理器选择：npm vs pnpm vs yarn&quot;">​</a></h1><h2 id="原理与本质-它们到底在做什么" tabindex="-1">原理与本质：它们到底在做什么 <a class="header-anchor" href="#原理与本质-它们到底在做什么" aria-label="Permalink to &quot;原理与本质：它们到底在做什么&quot;">​</a></h2><p>包管理器的本质是三件事：<strong>解析依赖树</strong>、<strong>下载并缓存包</strong>、<strong>把依赖链接到项目的 <code>node_modules</code></strong>。差异在于“如何存储”和“如何链接”。</p><h2 id="性能与磁盘空间对比-工程视角" tabindex="-1">性能与磁盘空间对比（工程视角） <a class="header-anchor" href="#性能与磁盘空间对比-工程视角" aria-label="Permalink to &quot;性能与磁盘空间对比（工程视角）&quot;">​</a></h2>',4)),(o(),c(p,null,{default:l(()=>[s(r,{id:"mermaid-12",class:"mermaid",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20sgnpm%20%5B%22npm%22%5D%0A%20%20%20%20%20%20%20%20NCache%5B%22%E6%AF%8F%E9%A1%B9%E7%9B%AE%E7%8B%AC%E7%AB%8B%E7%BC%93%E5%AD%98%22%5D%3B%0A%20%20%20%20%20%20%20%20NLink%5B%22%E6%89%81%E5%B9%B3%E5%AE%89%E8%A3%85%2C%20%E5%AE%B9%E6%98%93%E9%87%8D%E5%A4%8D%22%5D%3B%0A%20%20%20%20end%0A%20%20%20%20subgraph%20sgpnpm%20%5B%22pnpm%22%5D%0A%20%20%20%20%20%20%20%20PStore%5B%22%E5%85%A8%E5%B1%80%E5%86%85%E5%AE%B9%E5%AF%BB%E5%9D%80%E5%AD%98%E5%82%A8%20(store)%22%5D%3B%0A%20%20%20%20%20%20%20%20PLink%5B%22%E7%A1%AC%E9%93%BE%E6%8E%A5%2F%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5%2C%20%E5%A4%8D%E7%94%A8%E4%BE%9D%E8%B5%96%22%5D%3B%0A%20%20%20%20end%0A%20%20%20%20subgraph%20sgyarn%20%5B%22yarn%22%5D%0A%20%20%20%20%20%20%20%20YClassic%5B%22%E7%BB%8F%E5%85%B8%E6%A8%A1%E5%BC%8F%2C%20%E7%B1%BB%E4%BC%BC%20npm%22%5D%3B%0A%20%20%20%20%20%20%20%20YBerry%5B%22Plug'n'Play%2C%20%E6%97%A0%20node_modules%22%5D%3B%0A%20%20%20%20end%0A%20%20%20%20NCache%20--%3E%20NLink%0A%20%20%20%20PStore%20--%3E%20PLink%0A%20%20%20%20YClassic%20--%3E%20YBerry%0A"})]),fallback:l(()=>[...e[0]||(e[0]=[t(" Loading... ",-1)])]),_:1})),e[2]||(e[2]=a('<ul><li><code>pnpm</code>：通过<strong>全局内容寻址存储</strong>复用依赖，磁盘占用更低，安装更快，锁文件更稳定。</li><li><code>yarn berry</code>：Plug&#39;n&#39;Play 模式不生成 <code>node_modules</code>，启动速度快，但生态适配需要额外注意。</li><li><code>npm</code>：默认行为直观，生态支持最好，但容易造成重复下载与磁盘膨胀。</li></ul><h2 id="semver-语义化版本与版本范围" tabindex="-1">SemVer 语义化版本与版本范围 <a class="header-anchor" href="#semver-语义化版本与版本范围" aria-label="Permalink to &quot;SemVer 语义化版本与版本范围&quot;">​</a></h2><ul><li>语义化版本：<code>主.次.修订</code>（<code>major.minor.patch</code>）。</li><li>版本范围： <ul><li><code>^1.2.3</code>：允许更新到 <code>&lt;2.0.0</code>（保留主版本，升级次/修订）。</li><li><code>~1.2.3</code>：允许更新到 <code>&lt;1.3.0</code>（保留主/次版本，升级修订）。</li><li>精确锁定：<code>1.2.3</code>。</li></ul></li></ul><h2 id="破坏性更新识别与应对" tabindex="-1">破坏性更新识别与应对 <a class="header-anchor" href="#破坏性更新识别与应对" aria-label="Permalink to &quot;破坏性更新识别与应对&quot;">​</a></h2><ul><li>识别：<code>major</code> 版本变更通常意味着不兼容，查看 Release Notes 与 Changelog。</li><li>应对： <ul><li>关键依赖使用谨慎范围（敏感场景用 <code>~</code> 或固定版本）。</li><li>升级前跑测试与构建，观察 <code>npm outdated</code>/<code>pnpm outdated</code>。</li><li>锁文件统一并审查差异，避免团队成员锁文件漂移。</li></ul></li></ul><h2 id="windows-powershell-常用命令" tabindex="-1">Windows PowerShell 常用命令 <a class="header-anchor" href="#windows-powershell-常用命令" aria-label="Permalink to &quot;Windows PowerShell 常用命令&quot;">​</a></h2><ul><li><code>npm</code>： <ul><li><code>npm config get registry</code></li><li><code>npm config set registry https://registry.npmmirror.com</code></li><li><code>npm cache clean --force</code></li></ul></li><li><code>pnpm</code>： <ul><li><code>pnpm config set registry https://registry.npmmirror.com</code></li><li><code>pnpm store path</code></li><li><code>pnpm store prune</code></li></ul></li><li><code>yarn</code>： <ul><li><code>yarn config get registry</code></li><li><code>yarn config set registry https://registry.npmmirror.com</code></li></ul></li></ul><h2 id="ai-协作指南" tabindex="-1">AI 协作指南 <a class="header-anchor" href="#ai-协作指南" aria-label="Permalink to &quot;AI 协作指南&quot;">​</a></h2><ul><li>核心意图：让 AI 帮你“选择并迁移包管理器”，并输出<strong>可执行命令</strong>与<strong>风险提示</strong>。</li><li>需求定义公式： <ul><li>“将项目从 <code>npm</code> 迁移到 <code>pnpm</code>，请输出清理缓存、重建锁文件、验证安装速度与磁盘占用的命令清单。”</li></ul></li><li>关键术语：<code>registry</code>, <code>lockfile</code>, <code>store</code>, <code>Plug&#39;n&#39;Play</code>, <code>outdated</code>。</li></ul><h2 id="决策建议" tabindex="-1">决策建议 <a class="header-anchor" href="#决策建议" aria-label="Permalink to &quot;决策建议&quot;">​</a></h2><ul><li>新项目优先选择 <code>pnpm</code>（性能与磁盘占用优秀）。</li><li>需要 PnP 或对 <code>node_modules</code> 有强诉求的项目考虑 <code>yarn berry</code>。</li><li>生态兼容和团队习惯优先时，选择 <code>pnpm</code> 并规范版本范围与缓存策略。</li></ul>',11))])}const P=n(m,[["render",u]]);export{y as __pageData,P as default};
