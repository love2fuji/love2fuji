import{_ as l,C as t,c as h,o as i,a3 as a,b as e,w as n,a as k,G as E,a4 as d}from"./chunks/framework.CUcrqFol.js";const N=JSON.parse('{"title":"4.3.4 如何关联多张表——JOIN 查询：INNER/LEFT/RIGHT/FULL JOIN","description":"4.3.4 如何关联多张表——JOIN 查询：INNER/LEFT/RIGHT/FULL JOIN 一句话破题 JOIN 把多张表\\"拼\\"在一起查询——当数据分散在不同表中时，这是获取完整信息的唯一方式。 为什么需要 JOIN？ **场景**：查询文章列表，需要显示作者名称 JOIN 类型一览 INNER JOIN：内连","frontmatter":{"title":"4.3.4 如何关联多张表——JOIN 查询：INNER/LEFT/RIGHT/FULL JOIN","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/04-database/4.3-sql-basics/4.3.4-join.md","filePath":"Advanced-old/04-database/4.3-sql-basics/4.3.4-join.md","lastUpdated":1766168364000}'),r={name:"Advanced-old/04-database/4.3-sql-basics/4.3.4-join.md"};function g(o,s,c,y,F,u){const p=t("Mermaid");return i(),h("div",null,[s[1]||(s[1]=a(`<h1 id="_4-3-4-如何关联多张表——join-查询-inner-left-right-full-join" tabindex="-1">4.3.4 如何关联多张表——JOIN 查询：INNER/LEFT/RIGHT/FULL JOIN <a class="header-anchor" href="#_4-3-4-如何关联多张表——join-查询-inner-left-right-full-join" aria-label="Permalink to &quot;4.3.4 如何关联多张表——JOIN 查询：INNER/LEFT/RIGHT/FULL JOIN&quot;">​</a></h1><h3 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h3><p>JOIN 把多张表&quot;拼&quot;在一起查询——当数据分散在不同表中时，这是获取完整信息的唯一方式。</p><h3 id="为什么需要-join" tabindex="-1">为什么需要 JOIN？ <a class="header-anchor" href="#为什么需要-join" aria-label="Permalink to &quot;为什么需要 JOIN？&quot;">​</a></h3><p><strong>场景</strong>：查询文章列表，需要显示作者名称</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>posts 表              users 表</span></span>
<span class="line"><span>┌────┬────────────┐   ┌────┬──────┐</span></span>
<span class="line"><span>│ id │ author_id  │   │ id │ name │</span></span>
<span class="line"><span>├────┼────────────┤   ├────┼──────┤</span></span>
<span class="line"><span>│ 1  │ u1         │   │ u1 │ 张三 │</span></span>
<span class="line"><span>│ 2  │ u2         │   │ u2 │ 李四 │</span></span>
<span class="line"><span>└────┴────────────┘   └────┴──────┘</span></span>
<span class="line"><span></span></span>
<span class="line"><span>需要的结果：</span></span>
<span class="line"><span>┌────┬────────────┬──────┐</span></span>
<span class="line"><span>│ id │ author_id  │ name │</span></span>
<span class="line"><span>├────┼────────────┼──────┤</span></span>
<span class="line"><span>│ 1  │ u1         │ 张三 │</span></span>
<span class="line"><span>│ 2  │ u2         │ 李四 │</span></span>
<span class="line"><span>└────┴────────────┴──────┘</span></span></code></pre></div><h3 id="join-类型一览" tabindex="-1">JOIN 类型一览 <a class="header-anchor" href="#join-类型一览" aria-label="Permalink to &quot;JOIN 类型一览&quot;">​</a></h3>`,7)),(i(),e(d,null,{default:n(()=>[E(p,{id:"mermaid-19",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20JOIN%5B%22JOIN%20%E7%B1%BB%E5%9E%8B%22%5D%0A%20%20%20%20%0A%20%20%20%20JOIN%20--%3E%20INNER%5B%22INNER%20JOIN%22%5D%0A%20%20%20%20JOIN%20--%3E%20LEFT%5B%22LEFT%20JOIN%22%5D%0A%20%20%20%20JOIN%20--%3E%20RIGHT%5B%22RIGHT%20JOIN%22%5D%0A%20%20%20%20JOIN%20--%3E%20FULL%5B%22FULL%20JOIN%22%5D%0A%20%20%20%20%0A%20%20%20%20INNER%20--%3E%20I1%5B%22%E5%8F%AA%E8%BF%94%E5%9B%9E%E4%B8%A4%E8%BE%B9%E9%83%BD%E6%9C%89%E7%9A%84%22%5D%0A%20%20%20%20LEFT%20--%3E%20L1%5B%22%E5%B7%A6%E8%A1%A8%E5%85%A8%E9%83%A8%20%2B%20%E5%8F%B3%E8%A1%A8%E5%8C%B9%E9%85%8D%22%5D%0A%20%20%20%20RIGHT%20--%3E%20R1%5B%22%E5%8F%B3%E8%A1%A8%E5%85%A8%E9%83%A8%20%2B%20%E5%B7%A6%E8%A1%A8%E5%8C%B9%E9%85%8D%22%5D%0A%20%20%20%20FULL%20--%3E%20F1%5B%22%E4%B8%A4%E8%BE%B9%E5%85%A8%E9%83%A8%22%5D%0A"})]),fallback:n(()=>[...s[0]||(s[0]=[k(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=a(`<h3 id="inner-join-内连接" tabindex="-1">INNER JOIN：内连接 <a class="header-anchor" href="#inner-join-内连接" aria-label="Permalink to &quot;INNER JOIN：内连接&quot;">​</a></h3><p><strong>只返回两边都匹配的记录</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> posts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INNER JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">author_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>posts          users          结果</span></span>
<span class="line"><span>┌──┬────┐     ┌──┬────┐     ┌──┬──────┬────┐</span></span>
<span class="line"><span>│1 │ u1 │     │u1│张三│  →  │1 │title1│张三│</span></span>
<span class="line"><span>│2 │ u2 │     │u2│李四│     │2 │title2│李四│</span></span>
<span class="line"><span>│3 │ u9 │     └──┴────┘     └──┴──────┴────┘</span></span>
<span class="line"><span>└──┴────┘     (u9 不存在，所以 post 3 不在结果中)</span></span></code></pre></div><h3 id="left-join-左连接" tabindex="-1">LEFT JOIN：左连接 <a class="header-anchor" href="#left-join-左连接" aria-label="Permalink to &quot;LEFT JOIN：左连接&quot;">​</a></h3><p><strong>左表全部 + 右表匹配的记录（无匹配则为 NULL）</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> posts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LEFT JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">author_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>posts          users          结果</span></span>
<span class="line"><span>┌──┬────┐     ┌──┬────┐     ┌──┬──────┬────┐</span></span>
<span class="line"><span>│1 │ u1 │     │u1│张三│  →  │1 │title1│张三│</span></span>
<span class="line"><span>│2 │ u2 │     │u2│李四│     │2 │title2│李四│</span></span>
<span class="line"><span>│3 │ u9 │     └──┴────┘     │3 │title3│NULL│</span></span>
<span class="line"><span>└──┴────┘                   └──┴──────┴────┘</span></span>
<span class="line"><span>                            (即使 u9 不存在，post 3 也保留)</span></span></code></pre></div><p><strong>最常用的 JOIN 类型</strong>，保证左表数据完整。</p><h3 id="right-join-右连接" tabindex="-1">RIGHT JOIN：右连接 <a class="header-anchor" href="#right-join-右连接" aria-label="Permalink to &quot;RIGHT JOIN：右连接&quot;">​</a></h3><p><strong>右表全部 + 左表匹配的记录</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> posts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RIGHT JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">author_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>实际开发中很少用，一般用 LEFT JOIN 调换表顺序代替。</p><h3 id="full-join-全连接" tabindex="-1">FULL JOIN：全连接 <a class="header-anchor" href="#full-join-全连接" aria-label="Permalink to &quot;FULL JOIN：全连接&quot;">​</a></h3><p><strong>两边全部记录，无匹配则为 NULL</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> posts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FULL JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">author_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>使用场景较少。</p><h3 id="prisma-中的-join" tabindex="-1">Prisma 中的 JOIN <a class="header-anchor" href="#prisma-中的-join" aria-label="Permalink to &quot;Prisma 中的 JOIN&quot;">​</a></h3><p>Prisma 用 <code>include</code> 实现 JOIN：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 相当于 LEFT JOIN</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma.post.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  include: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    author: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 自动 JOIN users 表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 结果</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { id: &#39;1&#39;, title: &#39;xxx&#39;, author: { id: &#39;u1&#39;, name: &#39;张三&#39; } }</span></span></code></pre></div><p><strong>多层嵌套</strong>：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma.post.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  include: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    author: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    comments: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      include: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        author: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="join-性能注意事项" tabindex="-1">JOIN 性能注意事项 <a class="header-anchor" href="#join-性能注意事项" aria-label="Permalink to &quot;JOIN 性能注意事项&quot;">​</a></h3><ol><li><p><strong>确保关联字段有索引</strong>：外键通常自动创建索引</p></li><li><p><strong>避免过多 JOIN</strong>：JOIN 太多会影响性能</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 不推荐：太多 JOIN</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> posts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> comments </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> likes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categories </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ...</span></span></code></pre></div></li><li><p><strong>只选择需要的字段</strong>：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma.post.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  select: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    title: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    author: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      select: { name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 只要 name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></li></ol><h3 id="本节小结" tabindex="-1">本节小结 <a class="header-anchor" href="#本节小结" aria-label="Permalink to &quot;本节小结&quot;">​</a></h3><ul><li>JOIN 用于关联多张表查询</li><li>LEFT JOIN 最常用，保证左表数据完整</li><li>Prisma 用 <code>include</code> 实现 JOIN</li><li>注意 JOIN 的性能影响，确保有索引</li></ul>`,26))])}const A=l(r,[["render",g]]);export{N as __pageData,A as default};
