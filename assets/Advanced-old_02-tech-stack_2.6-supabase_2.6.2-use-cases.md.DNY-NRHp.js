import{_ as d,C as k,c as r,o as i,a3 as n,b as e,w as a,a as p,G as l,a4 as h}from"./chunks/framework.CUcrqFol.js";const B=JSON.parse('{"title":"2.6.2 什么时候该用它——适用场景：快速原型 vs 生产环境","description":"2.6.2 适用场景：快速原型 vs 生产环境 一句话破题 Supabase 在\\"快速上线\\"场景下无可匹敌，但到了\\"深度定制\\"阶段就要慎重考虑了。 场景决策矩阵 ✅ 强烈推荐的场景 黑客松 / 48小时比赛 **为什么适合**：时间紧迫，验证想法比代码质量重要。 MVP 产品验证 | 阶段 | 用 Supabase |","frontmatter":{"title":"2.6.2 什么时候该用它——适用场景：快速原型 vs 生产环境","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/02-tech-stack/2.6-supabase/2.6.2-use-cases.md","filePath":"Advanced-old/02-tech-stack/2.6-supabase/2.6.2-use-cases.md","lastUpdated":1766168364000}'),E={name:"Advanced-old/02-tech-stack/2.6-supabase/2.6.2-use-cases.md"};function o(c,s,A,g,u,y){const t=k("Mermaid");return i(),r("div",null,[s[3]||(s[3]=n('<h1 id="_2-6-2-适用场景-快速原型-vs-生产环境" tabindex="-1">2.6.2 适用场景：快速原型 vs 生产环境 <a class="header-anchor" href="#_2-6-2-适用场景-快速原型-vs-生产环境" aria-label="Permalink to &quot;2.6.2 适用场景：快速原型 vs 生产环境&quot;">​</a></h1><h2 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h2><p>Supabase 在&quot;快速上线&quot;场景下无可匹敌，但到了&quot;深度定制&quot;阶段就要慎重考虑了。</p><h2 id="场景决策矩阵" tabindex="-1">场景决策矩阵 <a class="header-anchor" href="#场景决策矩阵" aria-label="Permalink to &quot;场景决策矩阵&quot;">​</a></h2>',4)),(i(),e(h,null,{default:a(()=>[l(t,{id:"mermaid-12",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20Green%5B%22%E2%9C%85%20%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90%22%5D%0A%20%20%20%20%20%20%20%20A%5B%22%E9%BB%91%E5%AE%A2%E6%9D%BE%E9%A1%B9%E7%9B%AE%22%5D%0A%20%20%20%20%20%20%20%20B%5B%22MVP%20%E9%AA%8C%E8%AF%81%22%5D%0A%20%20%20%20%20%20%20%20C%5B%22%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE%22%5D%0A%20%20%20%20%20%20%20%20D%5B%22%E5%86%85%E9%83%A8%E5%B7%A5%E5%85%B7%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Yellow%5B%22%E2%9A%A0%EF%B8%8F%20%E5%8F%AF%E4%BB%A5%E8%80%83%E8%99%91%22%5D%0A%20%20%20%20%20%20%20%20E%5B%22%E5%B0%8F%E5%9E%8B%20SaaS%22%5D%0A%20%20%20%20%20%20%20%20F%5B%22%E5%B0%8F%E5%9B%A2%E9%98%9F%E4%BA%A7%E5%93%81%22%5D%0A%20%20%20%20%20%20%20%20G%5B%22%E5%AE%9E%E6%97%B6%E5%BA%94%E7%94%A8%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Red%5B%22%E2%9D%8C%20%E4%B8%8D%E5%A4%AA%E6%8E%A8%E8%8D%90%22%5D%0A%20%20%20%20%20%20%20%20H%5B%22%E5%A4%A7%E5%9E%8B%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%22%5D%0A%20%20%20%20%20%20%20%20I%5B%22%E9%AB%98%E5%90%88%E8%A7%84%E8%A6%81%E6%B1%82%22%5D%0A%20%20%20%20%20%20%20%20J%5B%22%E5%A4%8D%E6%9D%82%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%22%5D%0A%20%20%20%20end%0A"})]),fallback:a(()=>[...s[0]||(s[0]=[p(" Loading... ",-1)])]),_:1})),s[4]||(s[4]=n(`<h2 id="✅-强烈推荐的场景" tabindex="-1">✅ 强烈推荐的场景 <a class="header-anchor" href="#✅-强烈推荐的场景" aria-label="Permalink to &quot;✅ 强烈推荐的场景&quot;">​</a></h2><h3 id="_1-黑客松-48小时比赛" tabindex="-1">1. 黑客松 / 48小时比赛 <a class="header-anchor" href="#_1-黑客松-48小时比赛" aria-label="Permalink to &quot;1. 黑客松 / 48小时比赛&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 10 分钟搭建完整后端</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. 创建项目（supabase.com）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. 建表（可视化界面）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. 写代码</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> supabase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;submissions&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ name, idea, team_id })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 完成！不用配置数据库、不用写 API</span></span></code></pre></div><p><strong>为什么适合</strong>：时间紧迫，验证想法比代码质量重要。</p><h3 id="_2-mvp-产品验证" tabindex="-1">2. MVP 产品验证 <a class="header-anchor" href="#_2-mvp-产品验证" aria-label="Permalink to &quot;2. MVP 产品验证&quot;">​</a></h3><table tabindex="0"><thead><tr><th>阶段</th><th>用 Supabase</th><th>传统方式</th></tr></thead><tbody><tr><td>搭建后端</td><td>1 天</td><td>1-2 周</td></tr><tr><td>用户认证</td><td>30 分钟</td><td>2-3 天</td></tr><tr><td>文件上传</td><td>1 小时</td><td>1-2 天</td></tr><tr><td><strong>总计</strong></td><td><strong>1-2 天</strong></td><td><strong>2-3 周</strong></td></tr></tbody></table><p><strong>核心价值</strong>：快速验证产品假设，失败了损失最小。</p><h3 id="_3-个人项目-side-project" tabindex="-1">3. 个人项目 / Side Project <a class="header-anchor" href="#_3-个人项目-side-project" aria-label="Permalink to &quot;3. 个人项目 / Side Project&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 个人博客、笔记应用、TODO 工具等</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 免费额度完全够用：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - 500MB 数据库</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - 1GB 文件存储</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - 200 并发连接</span></span></code></pre></div><h3 id="_4-内部工具" tabindex="-1">4. 内部工具 <a class="header-anchor" href="#_4-内部工具" aria-label="Permalink to &quot;4. 内部工具&quot;">​</a></h3><ul><li>后台管理系统</li><li>数据看板</li><li>团队协作工具</li></ul><p><strong>优势</strong>：用户量可控，免费额度够用，快速迭代。</p><h2 id="⚠️-可以考虑的场景" tabindex="-1">⚠️ 可以考虑的场景 <a class="header-anchor" href="#⚠️-可以考虑的场景" aria-label="Permalink to &quot;⚠️ 可以考虑的场景&quot;">​</a></h2><h3 id="小型-saas-产品" tabindex="-1">小型 SaaS 产品 <a class="header-anchor" href="#小型-saas-产品" aria-label="Permalink to &quot;小型 SaaS 产品&quot;">​</a></h3>`,14)),(i(),e(h,null,{default:a(()=>[l(t,{id:"mermaid-123",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20Start%5B%22%E5%B0%8F%E5%9E%8B%20SaaS%22%5D%20--%3E%20Q1%7B%22%E7%94%A8%E6%88%B7%E9%87%8F%E9%A2%84%E6%9C%9F%3F%22%7D%0A%20%20%20%20Q1%20--%3E%7C%22%3C%201000%20MAU%22%7C%20OK%5B%22%E2%9C%85%20Supabase%20%E5%A4%9F%E7%94%A8%22%5D%0A%20%20%20%20Q1%20--%3E%7C%221000-10000%20MAU%22%7C%20Pro%5B%22%F0%9F%92%B0%20%E9%9C%80%E8%A6%81%20Pro%20%E8%AE%A1%E5%88%92%22%5D%0A%20%20%20%20Q1%20--%3E%7C%22%3E%2010000%20MAU%22%7C%20Consider%5B%22%E2%9A%A0%EF%B8%8F%20%E8%AF%84%E4%BC%B0%E6%88%90%E6%9C%AC%22%5D%0A"})]),fallback:a(()=>[...s[1]||(s[1]=[p(" Loading... ",-1)])]),_:1})),s[5]||(s[5]=n(`<h3 id="实时协作应用" tabindex="-1">实时协作应用 <a class="header-anchor" href="#实时协作应用" aria-label="Permalink to &quot;实时协作应用&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Supabase Realtime 开箱即用</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> channel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> supabase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">channel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;room:123&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;broadcast&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { event: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cursor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    updateCursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(payload.userId, payload.position)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 广播鼠标位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">channel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;broadcast&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  event: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cursor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  payload: { userId, position },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p><strong>注意</strong>：免费版限制 200 并发连接。</p><h2 id="❌-不太推荐的场景" tabindex="-1">❌ 不太推荐的场景 <a class="header-anchor" href="#❌-不太推荐的场景" aria-label="Permalink to &quot;❌ 不太推荐的场景&quot;">​</a></h2><h3 id="_1-复杂业务逻辑" tabindex="-1">1. 复杂业务逻辑 <a class="header-anchor" href="#_1-复杂业务逻辑" aria-label="Permalink to &quot;1. 复杂业务逻辑&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ❌ 复杂业务规则难以用 RLS 表达</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 例如：多级审批、动态权限、复杂计费规则</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 这种逻辑放在 Supabase RLS 里会很痛苦</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 建议使用传统后端 + 业务层</span></span></code></pre></div><h3 id="_2-高合规要求" tabindex="-1">2. 高合规要求 <a class="header-anchor" href="#_2-高合规要求" aria-label="Permalink to &quot;2. 高合规要求&quot;">​</a></h3><table tabindex="0"><thead><tr><th>要求</th><th>Supabase 支持</th></tr></thead><tbody><tr><td>数据本地化</td><td>⚠️ 有限（部分区域）</td></tr><tr><td>审计日志</td><td>⚠️ 需要额外配置</td></tr><tr><td>HIPAA</td><td>❌ 需要企业版</td></tr><tr><td>PCI DSS</td><td>❌ 不支持</td></tr></tbody></table><h3 id="_3-已有成熟基础设施" tabindex="-1">3. 已有成熟基础设施 <a class="header-anchor" href="#_3-已有成熟基础设施" aria-label="Permalink to &quot;3. 已有成熟基础设施&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>如果你已经有：</span></span>
<span class="line"><span>- 运维团队</span></span>
<span class="line"><span>- CI/CD 流程</span></span>
<span class="line"><span>- 监控告警</span></span>
<span class="line"><span>- 自建认证系统</span></span>
<span class="line"><span></span></span>
<span class="line"><span>那么 Supabase 的价值就没那么大了</span></span></code></pre></div><h2 id="混合方案" tabindex="-1">混合方案 <a class="header-anchor" href="#混合方案" aria-label="Permalink to &quot;混合方案&quot;">​</a></h2><h3 id="supabase-自建后端" tabindex="-1">Supabase + 自建后端 <a class="header-anchor" href="#supabase-自建后端" aria-label="Permalink to &quot;Supabase + 自建后端&quot;">​</a></h3>`,12)),(i(),e(h,null,{default:a(()=>[l(t,{id:"mermaid-197",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20Client%5B%22%E5%AE%A2%E6%88%B7%E7%AB%AF%22%5D%0A%20%20%20%20%0A%20%20%20%20subgraph%20Supabase%0A%20%20%20%20%20%20%20%20Auth%5B%22%E8%AE%A4%E8%AF%81%22%5D%0A%20%20%20%20%20%20%20%20Storage%5B%22%E5%AD%98%E5%82%A8%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Custom%5B%22%E8%87%AA%E5%BB%BA%E5%90%8E%E7%AB%AF%22%5D%0A%20%20%20%20%20%20%20%20API%5B%22API%20%E6%9C%8D%E5%8A%A1%22%5D%0A%20%20%20%20%20%20%20%20BL%5B%22%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%22%5D%0A%20%20%20%20%20%20%20%20DB%5B%22%E8%87%AA%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20Client%20--%3E%20Auth%0A%20%20%20%20Client%20--%3E%20Storage%0A%20%20%20%20Client%20--%3E%20API%0A%20%20%20%20API%20--%3E%20BL%20--%3E%20DB%0A"})]),fallback:a(()=>[...s[2]||(s[2]=[p(" Loading... ",-1)])]),_:1})),s[6]||(s[6]=n(`<div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 只用 Supabase 的 Auth 和 Storage</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 业务逻辑走自建后端</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. 用 Supabase 登录</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> supabase.auth.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSession</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. 调用自建 API（带上 token）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/orders&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  headers: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Authorization: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Bearer \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">session</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">access_token</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. 自建后端验证 Supabase JWT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@supabase/supabase-js&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> supabase.auth.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token)</span></span></code></pre></div><h2 id="觉知-场景选择常见误区" tabindex="-1">觉知：场景选择常见误区 <a class="header-anchor" href="#觉知-场景选择常见误区" aria-label="Permalink to &quot;觉知：场景选择常见误区&quot;">​</a></h2><h3 id="_1-免费就用-supabase" tabindex="-1">1. &quot;免费就用 Supabase&quot; <a class="header-anchor" href="#_1-免费就用-supabase" aria-label="Permalink to &quot;1. &quot;免费就用 Supabase&quot;&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>❌ 错误认知：因为免费所以用</span></span>
<span class="line"><span>✅ 正确思考：因为适合场景所以用</span></span>
<span class="line"><span></span></span>
<span class="line"><span>即使 Supabase 收费，如果能帮你节省 2 周开发时间，</span></span>
<span class="line"><span>那也是值得的。</span></span></code></pre></div><h3 id="_2-生产环境不能用-baas" tabindex="-1">2. &quot;生产环境不能用 BaaS&quot; <a class="header-anchor" href="#_2-生产环境不能用-baas" aria-label="Permalink to &quot;2. &quot;生产环境不能用 BaaS&quot;&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>❌ 错误认知：BaaS 只能做原型</span></span>
<span class="line"><span>✅ 现实情况：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>很多公司用 Supabase 跑生产：</span></span>
<span class="line"><span>- 用户量不大的 SaaS</span></span>
<span class="line"><span>- 内部工具</span></span>
<span class="line"><span>- 特定模块（认证、存储）</span></span></code></pre></div><h3 id="_3-以后肯定要迁移-不如现在自建" tabindex="-1">3. &quot;以后肯定要迁移，不如现在自建&quot; <a class="header-anchor" href="#_3-以后肯定要迁移-不如现在自建" aria-label="Permalink to &quot;3. &quot;以后肯定要迁移，不如现在自建&quot;&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>❌ 过早优化</span></span>
<span class="line"><span>✅ YAGNI 原则</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果项目可能失败，先验证再优化。</span></span>
<span class="line"><span>迁移成本 &lt; 验证失败的时间成本。</span></span></code></pre></div><h2 id="本节小结" tabindex="-1">本节小结 <a class="header-anchor" href="#本节小结" aria-label="Permalink to &quot;本节小结&quot;">​</a></h2><table tabindex="0"><thead><tr><th>场景</th><th>推荐度</th><th>理由</th></tr></thead><tbody><tr><td>黑客松/MVP</td><td>⭐⭐⭐⭐⭐</td><td>速度第一</td></tr><tr><td>个人项目</td><td>⭐⭐⭐⭐⭐</td><td>免费够用</td></tr><tr><td>小型 SaaS</td><td>⭐⭐⭐⭐</td><td>成本可控</td></tr><tr><td>实时应用</td><td>⭐⭐⭐⭐</td><td>开箱即用</td></tr><tr><td>复杂业务</td><td>⭐⭐</td><td>定制困难</td></tr><tr><td>企业应用</td><td>⭐</td><td>合规问题</td></tr></tbody></table>`,10))])}const F=d(E,[["render",o]]);export{B as __pageData,F as default};
