import{_ as e,C as r,c as E,o as a,a3 as n,b as l,w as i,a as h,G as p,a4 as k}from"./chunks/framework.CUcrqFol.js";const D=JSON.parse('{"title":"2.1.3 å‰åç«¯ä»£ç å†™ä¸€èµ·ï¼Ÿâ€”â€”RSC æ¸²æŸ“ç­–ç•¥ï¼šæœåŠ¡å™¨ç»„ä»¶ä¸å®¢æˆ·ç«¯ç»„ä»¶","description":"2.1.3 å‰åç«¯ä»£ç å†™ä¸€èµ·ï¼Ÿâ€”â€”RSC æ¸²æŸ“ç­–ç•¥ è®¤çŸ¥é‡æ„ ä¼ ç»Ÿçš„ React åº”ç”¨ä¸­ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚è€Œ React Server Componentsï¼ˆRSCï¼‰æ‰“ç ´äº†è¿™ä¸ªè¾¹ç•Œï¼š æœ¬è´¨è¿˜åŸ æœåŠ¡å™¨ç»„ä»¶ vs å®¢æˆ·ç«¯ç»„ä»¶ | ç‰¹æ€§ | Server Component | Client Component","frontmatter":{"title":"2.1.3 å‰åç«¯ä»£ç å†™ä¸€èµ·ï¼Ÿâ€”â€”RSC æ¸²æŸ“ç­–ç•¥ï¼šæœåŠ¡å™¨ç»„ä»¶ä¸å®¢æˆ·ç«¯ç»„ä»¶","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/02-tech-stack/2.1-architecture/2.1.3-rsc.md","filePath":"Advanced-old/02-tech-stack/2.1-architecture/2.1.3-rsc.md","lastUpdated":1766168364000}'),d={name:"Advanced-old/02-tech-stack/2.1-architecture/2.1.3-rsc.md"};function g(o,s,y,c,F,A){const t=r("Mermaid");return a(),E("div",null,[s[3]||(s[3]=n(`<h1 id="_2-1-3-å‰åç«¯ä»£ç å†™ä¸€èµ·-â€”â€”rsc-æ¸²æŸ“ç­–ç•¥" tabindex="-1">2.1.3 å‰åç«¯ä»£ç å†™ä¸€èµ·ï¼Ÿâ€”â€”RSC æ¸²æŸ“ç­–ç•¥ <a class="header-anchor" href="#_2-1-3-å‰åç«¯ä»£ç å†™ä¸€èµ·-â€”â€”rsc-æ¸²æŸ“ç­–ç•¥" aria-label="Permalink to &quot;2.1.3 å‰åç«¯ä»£ç å†™ä¸€èµ·ï¼Ÿâ€”â€”RSC æ¸²æŸ“ç­–ç•¥&quot;">â€‹</a></h1><h2 id="è®¤çŸ¥é‡æ„" tabindex="-1">è®¤çŸ¥é‡æ„ <a class="header-anchor" href="#è®¤çŸ¥é‡æ„" aria-label="Permalink to &quot;è®¤çŸ¥é‡æ„&quot;">â€‹</a></h2><p>ä¼ ç»Ÿçš„ React åº”ç”¨ä¸­ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚è€Œ React Server Componentsï¼ˆRSCï¼‰æ‰“ç ´äº†è¿™ä¸ªè¾¹ç•Œï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ä¼ ç»Ÿ Reactï¼šæ‰€æœ‰ç»„ä»¶ â†’ æ‰“åŒ… â†’ å‘é€åˆ°æµè§ˆå™¨ â†’ æµè§ˆå™¨æ‰§è¡Œ</span></span>
<span class="line"><span>RSCï¼šæœåŠ¡å™¨ç»„ä»¶åœ¨æœåŠ¡å™¨æ‰§è¡Œ â†’ åªå‘é€æ¸²æŸ“ç»“æœ â†’ å®¢æˆ·ç«¯ç»„ä»¶åœ¨æµè§ˆå™¨æ‰§è¡Œ</span></span></code></pre></div><h2 id="æœ¬è´¨è¿˜åŸ" tabindex="-1">æœ¬è´¨è¿˜åŸ <a class="header-anchor" href="#æœ¬è´¨è¿˜åŸ" aria-label="Permalink to &quot;æœ¬è´¨è¿˜åŸ&quot;">â€‹</a></h2>`,5)),(a(),l(k,null,{default:i(()=>[p(t,{id:"mermaid-13",class:"mermaid",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20Server%5B%22%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%22%5D%0A%20%20%20%20%20%20%20%20SC%5B%22Server%20Component%3Cbr%2F%3E%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93%3Cbr%2F%3E%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%B5%84%E6%BA%90%3Cbr%2F%3E%E4%B8%8D%E4%BC%9A%E5%8F%91%E9%80%81%E5%88%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Client%5B%22%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%88%E6%B5%8F%E8%A7%88%E5%99%A8%EF%BC%89%22%5D%0A%20%20%20%20%20%20%20%20CC%5B%22Client%20Component%3Cbr%2F%3E%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%20useState%2FuseEffect%3Cbr%2F%3E%E5%8F%AF%E4%BB%A5%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%3Cbr%2F%3E%E9%9C%80%E8%A6%81%E5%8F%91%E9%80%81%20JS%20%E5%88%B0%E6%B5%8F%E8%A7%88%E5%99%A8%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Output%5B%22%E8%BE%93%E5%87%BA%22%5D%0A%20%20%20%20%20%20%20%20HTML%5B%22HTML%20%2B%20%E6%9C%80%E5%B0%8F%E5%8C%96%20JS%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20SC%20--%3E%20Output%0A%20%20%20%20CC%20--%3E%20Output%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[h(" Loading... ",-1)])]),_:1})),s[4]||(s[4]=n('<h2 id="æœåŠ¡å™¨ç»„ä»¶-vs-å®¢æˆ·ç«¯ç»„ä»¶" tabindex="-1">æœåŠ¡å™¨ç»„ä»¶ vs å®¢æˆ·ç«¯ç»„ä»¶ <a class="header-anchor" href="#æœåŠ¡å™¨ç»„ä»¶-vs-å®¢æˆ·ç«¯ç»„ä»¶" aria-label="Permalink to &quot;æœåŠ¡å™¨ç»„ä»¶ vs å®¢æˆ·ç«¯ç»„ä»¶&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç‰¹æ€§</th><th>Server Component</th><th>Client Component</th></tr></thead><tbody><tr><td><strong>è¿è¡Œç¯å¢ƒ</strong></td><td>æœåŠ¡å™¨</td><td>æµè§ˆå™¨</td></tr><tr><td><strong>è®¿é—®æ•°æ®åº“</strong></td><td>âœ… å¯ä»¥</td><td>âŒ ä¸èƒ½</td></tr><tr><td><strong>ä½¿ç”¨ Hooks</strong></td><td>âŒ ä¸èƒ½ç”¨ useState/useEffect</td><td>âœ… å¯ä»¥</td></tr><tr><td><strong>äº‹ä»¶å¤„ç†</strong></td><td>âŒ ä¸èƒ½ onClick</td><td>âœ… å¯ä»¥</td></tr><tr><td><strong>æ‰“åŒ…å¤§å°</strong></td><td>ä¸è®¡å…¥</td><td>è®¡å…¥ JS Bundle</td></tr><tr><td><strong>é»˜è®¤è¡Œä¸º</strong></td><td>App Router é»˜è®¤</td><td>éœ€è¦ <code>&#39;use client&#39;</code></td></tr></tbody></table><h2 id="ä½•æ—¶ä½¿ç”¨å“ªç§ç»„ä»¶" tabindex="-1">ä½•æ—¶ä½¿ç”¨å“ªç§ç»„ä»¶ï¼Ÿ <a class="header-anchor" href="#ä½•æ—¶ä½¿ç”¨å“ªç§ç»„ä»¶" aria-label="Permalink to &quot;ä½•æ—¶ä½¿ç”¨å“ªç§ç»„ä»¶ï¼Ÿ&quot;">â€‹</a></h2>',3)),(a(),l(k,null,{default:i(()=>[p(t,{id:"mermaid-103",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20Start%5B%22%E9%9C%80%E8%A6%81%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6%22%5D%20--%3E%20Q1%7B%22%E9%9C%80%E8%A6%81%E4%BA%A4%E4%BA%92%EF%BC%9F%3Cbr%2F%3EonClick%2FonChange%22%7D%0A%20%20%20%20Q1%20--%3E%7C%E6%98%AF%7C%20CC%5B%22Client%20Component%22%5D%0A%20%20%20%20Q1%20--%3E%7C%E5%90%A6%7C%20Q2%7B%22%E9%9C%80%E8%A6%81%E7%8A%B6%E6%80%81%EF%BC%9F%3Cbr%2F%3EuseState%22%7D%0A%20%20%20%20Q2%20--%3E%7C%E6%98%AF%7C%20CC%0A%20%20%20%20Q2%20--%3E%7C%E5%90%A6%7C%20Q3%7B%22%E9%9C%80%E8%A6%81%E5%89%AF%E4%BD%9C%E7%94%A8%EF%BC%9F%3Cbr%2F%3EuseEffect%22%7D%0A%20%20%20%20Q3%20--%3E%7C%E6%98%AF%7C%20CC%0A%20%20%20%20Q3%20--%3E%7C%E5%90%A6%7C%20Q4%7B%22%E9%9C%80%E8%A6%81%E6%B5%8F%E8%A7%88%E5%99%A8%20API%EF%BC%9F%3Cbr%2F%3Ewindow%2FlocalStorage%22%7D%0A%20%20%20%20Q4%20--%3E%7C%E6%98%AF%7C%20CC%0A%20%20%20%20Q4%20--%3E%7C%E5%90%A6%7C%20SC%5B%22Server%20Component%22%5D%0A%20%20%20%20%0A%20%20%20%20style%20SC%20fill%3A%2310b981%0A%20%20%20%20style%20CC%20fill%3A%233b82f6%0A"})]),fallback:i(()=>[...s[1]||(s[1]=[h(" Loading... ",-1)])]),_:1})),s[5]||(s[5]=n(`<h3 id="ç®€å•å£è¯€" tabindex="-1">ç®€å•å£è¯€ <a class="header-anchor" href="#ç®€å•å£è¯€" aria-label="Permalink to &quot;ç®€å•å£è¯€&quot;">â€‹</a></h3><ul><li><strong>éœ€è¦ç‚¹å‡»ã€è¾“å…¥ã€åŠ¨ç”»</strong> â†’ Client Component</li><li><strong>åªæ˜¯å±•ç¤ºæ•°æ®</strong> â†’ Server Component</li><li><strong>æ‹¿ä¸å‡†</strong> â†’ å…ˆå†™æˆ Server Componentï¼Œéœ€è¦äº¤äº’å†æ”¹</li></ul><h2 id="ä»£ç ç¤ºä¾‹" tabindex="-1">ä»£ç ç¤ºä¾‹ <a class="header-anchor" href="#ä»£ç ç¤ºä¾‹" aria-label="Permalink to &quot;ä»£ç ç¤ºä¾‹&quot;">â€‹</a></h2><h3 id="server-component-é»˜è®¤" tabindex="-1">Server Componentï¼ˆé»˜è®¤ï¼‰ <a class="header-anchor" href="#server-component-é»˜è®¤" aria-label="Permalink to &quot;Server Componentï¼ˆé»˜è®¤ï¼‰&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// app/posts/page.tsx</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é»˜è®¤å°±æ˜¯ Server Componentï¼Œä¸éœ€è¦ä»»ä½•å£°æ˜</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { prisma } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/lib/prisma&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PostsPage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // âœ… å¯ä»¥ç›´æ¥è®¿é—®æ•°æ®åº“</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma.post.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">post</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">li key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{post.id}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{post.title}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">li</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ))}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ul</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="client-component" tabindex="-1">Client Component <a class="header-anchor" href="#client-component" aria-label="Permalink to &quot;Client Component&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// components/like-button.tsx</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;use client&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // â† å¿…é¡»åœ¨æ–‡ä»¶é¡¶éƒ¨å£°æ˜</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useState } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LikeButton</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">postId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">postId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // âœ… å¯ä»¥ä½¿ç”¨ useState</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">liked</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setLiked</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // âœ… å¯ä»¥ç»‘å®šäº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">button onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() =&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setLiked</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(!</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">liked</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">liked</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ? </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;â¤ï¸&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ğŸ¤&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="æ··åˆä½¿ç”¨" tabindex="-1">æ··åˆä½¿ç”¨ <a class="header-anchor" href="#æ··åˆä½¿ç”¨" aria-label="Permalink to &quot;æ··åˆä½¿ç”¨&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// app/posts/[id]/page.tsx - Server Component</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { prisma } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/lib/prisma&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { LikeButton } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/components/like-button&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PostPage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æœåŠ¡å™¨ç«¯è·å–æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> post</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma.post.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findUnique</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    where: { id: params.id }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">article</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{post.title}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{post.content}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* å®¢æˆ·ç«¯ç»„ä»¶åµŒå…¥æœåŠ¡å™¨ç»„ä»¶ */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LikeButton postId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{post.id} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">article</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="ç»„ä»¶è¾¹ç•Œè§„åˆ™" tabindex="-1">ç»„ä»¶è¾¹ç•Œè§„åˆ™ <a class="header-anchor" href="#ç»„ä»¶è¾¹ç•Œè§„åˆ™" aria-label="Permalink to &quot;ç»„ä»¶è¾¹ç•Œè§„åˆ™&quot;">â€‹</a></h2>`,10)),(a(),l(k,null,{default:i(()=>[p(t,{id:"mermaid-142",class:"mermaid",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20Valid%5B%22%E2%9C%85%20%E5%90%88%E6%B3%95%E7%9A%84%E7%BB%84%E5%90%88%22%5D%0A%20%20%20%20%20%20%20%20SC1%5B%22Server%20Component%22%5D%20--%3E%20CC1%5B%22Client%20Component%22%5D%0A%20%20%20%20%20%20%20%20SC2%5B%22Server%20Component%22%5D%20--%3E%20SC3%5B%22Server%20Component%22%5D%0A%20%20%20%20%20%20%20%20CC2%5B%22Client%20Component%22%5D%20--%3E%20CC3%5B%22Client%20Component%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Invalid%5B%22%E2%9D%8C%20%E4%B8%8D%E5%90%88%E6%B3%95%22%5D%0A%20%20%20%20%20%20%20%20CC4%5B%22Client%20Component%22%5D%20-.-%3E%7C%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E5%AF%BC%E5%85%A5%7C%20SC4%5B%22Server%20Component%22%5D%0A%20%20%20%20end%0A"})]),fallback:i(()=>[...s[2]||(s[2]=[h(" Loading... ",-1)])]),_:1})),s[6]||(s[6]=n(`<h3 id="å…³é”®è§„åˆ™" tabindex="-1">å…³é”®è§„åˆ™ <a class="header-anchor" href="#å…³é”®è§„åˆ™" aria-label="Permalink to &quot;å…³é”®è§„åˆ™&quot;">â€‹</a></h3><ol><li><strong>Server â†’ Client</strong>ï¼šâœ… æœåŠ¡å™¨ç»„ä»¶å¯ä»¥å¯¼å…¥å®¢æˆ·ç«¯ç»„ä»¶</li><li><strong>Server â†’ Server</strong>ï¼šâœ… æœåŠ¡å™¨ç»„ä»¶å¯ä»¥å¯¼å…¥æœåŠ¡å™¨ç»„ä»¶</li><li><strong>Client â†’ Client</strong>ï¼šâœ… å®¢æˆ·ç«¯ç»„ä»¶å¯ä»¥å¯¼å…¥å®¢æˆ·ç«¯ç»„ä»¶</li><li><strong>Client â†’ Server</strong>ï¼šâŒ å®¢æˆ·ç«¯ç»„ä»¶ä¸èƒ½ç›´æ¥å¯¼å…¥æœåŠ¡å™¨ç»„ä»¶</li></ol><h3 id="å¦‚æœå®¢æˆ·ç«¯ç»„ä»¶éœ€è¦åŒ…å«æœåŠ¡å™¨ç»„ä»¶" tabindex="-1">å¦‚æœå®¢æˆ·ç«¯ç»„ä»¶éœ€è¦åŒ…å«æœåŠ¡å™¨ç»„ä»¶ï¼Ÿ <a class="header-anchor" href="#å¦‚æœå®¢æˆ·ç«¯ç»„ä»¶éœ€è¦åŒ…å«æœåŠ¡å™¨ç»„ä»¶" aria-label="Permalink to &quot;å¦‚æœå®¢æˆ·ç«¯ç»„ä»¶éœ€è¦åŒ…å«æœåŠ¡å™¨ç»„ä»¶ï¼Ÿ&quot;">â€‹</a></h3><p>ä½¿ç”¨ <code>children</code> æ¨¡å¼ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ­£ç¡®åšæ³•</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// client-wrapper.tsx</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;use client&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ClientWrapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ReactNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">={() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}}&gt;{children}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// page.tsx (Server Component)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ClientWrapper } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./client-wrapper&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ServerComponent } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./server-component&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ClientWrapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ServerComponent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* é€šè¿‡ children ä¼ å…¥ */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ClientWrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="è§‰çŸ¥-review-ai-ä»£ç æ—¶çš„æ£€æŸ¥ç‚¹" tabindex="-1">è§‰çŸ¥ï¼šReview AI ä»£ç æ—¶çš„æ£€æŸ¥ç‚¹ <a class="header-anchor" href="#è§‰çŸ¥-review-ai-ä»£ç æ—¶çš„æ£€æŸ¥ç‚¹" aria-label="Permalink to &quot;è§‰çŸ¥ï¼šReview AI ä»£ç æ—¶çš„æ£€æŸ¥ç‚¹&quot;">â€‹</a></h2><h3 id="_1-use-client-ä½ç½®" tabindex="-1">1. <code>&#39;use client&#39;</code> ä½ç½® <a class="header-anchor" href="#_1-use-client-ä½ç½®" aria-label="Permalink to &quot;1. \`&#39;use client&#39;\` ä½ç½®&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ é”™è¯¯ï¼šä¸åœ¨æ–‡ä»¶é¡¶éƒ¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useState } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;use client&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¿™æ ·æ— æ•ˆ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ­£ç¡®ï¼šå¿…é¡»åœ¨æœ€é¡¶éƒ¨</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;use client&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useState } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span></span></code></pre></div><h3 id="_2-æœåŠ¡å™¨ç»„ä»¶ä¸­ä½¿ç”¨äº†å®¢æˆ·ç«¯-api" tabindex="-1">2. æœåŠ¡å™¨ç»„ä»¶ä¸­ä½¿ç”¨äº†å®¢æˆ·ç«¯ API <a class="header-anchor" href="#_2-æœåŠ¡å™¨ç»„ä»¶ä¸­ä½¿ç”¨äº†å®¢æˆ·ç«¯-api" aria-label="Permalink to &quot;2. æœåŠ¡å™¨ç»„ä»¶ä¸­ä½¿ç”¨äº†å®¢æˆ·ç«¯ API&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ AI å¯èƒ½ç”Ÿæˆè¿™æ ·çš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœåŠ¡å™¨ç»„ä»¶ä¸èƒ½ç”¨ useState</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœåŠ¡å™¨ç»„ä»¶ä¸èƒ½ç”¨ useEffect</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, [])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-æ•°æ®è·å–ä½ç½®" tabindex="-1">3. æ•°æ®è·å–ä½ç½® <a class="header-anchor" href="#_3-æ•°æ®è·å–ä½ç½®" aria-label="Permalink to &quot;3. æ•°æ®è·å–ä½ç½®&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­è·å–ï¼ˆä¸å¿…è¦çš„ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;use client&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PostList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setPosts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([])</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/posts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¤šä¸€æ¬¡ç½‘ç»œè¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, [])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… åœ¨æœåŠ¡å™¨ç»„ä»¶ä¸­ç›´æ¥è·å–</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PostList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> posts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prisma.post.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›´æ¥è®¿é—®æ•°æ®åº“</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ul</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="æœ¬èŠ‚å°ç»“" tabindex="-1">æœ¬èŠ‚å°ç»“ <a class="header-anchor" href="#æœ¬èŠ‚å°ç»“" aria-label="Permalink to &quot;æœ¬èŠ‚å°ç»“&quot;">â€‹</a></h2><p>RSC çš„æ ¸å¿ƒä»·å€¼ï¼š<strong>åœ¨æ­£ç¡®çš„åœ°æ–¹è¿è¡Œæ­£ç¡®çš„ä»£ç </strong>ã€‚</p><table tabindex="0"><thead><tr><th>åœºæ™¯</th><th>é€‰æ‹©</th><th>åŸå› </th></tr></thead><tbody><tr><td>æ•°æ®å±•ç¤º</td><td>Server Component</td><td>å‡å°‘ JS Bundleï¼Œç›´æ¥è®¿é—®æ•°æ®</td></tr><tr><td>è¡¨å•äº¤äº’</td><td>Client Component</td><td>éœ€è¦çŠ¶æ€å’Œäº‹ä»¶</td></tr><tr><td>é™æ€ UI</td><td>Server Component</td><td>é›¶å®¢æˆ·ç«¯ JS</td></tr><tr><td>åŠ¨ç”»æ•ˆæœ</td><td>Client Component</td><td>éœ€è¦æµè§ˆå™¨ API</td></tr></tbody></table>`,15))])}const B=e(d,[["render",g]]);export{D as __pageData,B as default};
