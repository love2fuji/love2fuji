import{_ as e,C as E,c as r,o as h,j as i,b as t,a3 as d,a,w as n,G as k,a4 as p}from"./chunks/framework.CUcrqFol.js";const C=JSON.parse('{"title":"9.2.4 每次测试都是全新的——数据清理：测试间的状态隔离","description":"9.2.4 每次测试都是全新的——数据清理：测试间的状态隔离 **测试之间相互影响是测试不稳定的首要原因，数据清理是解决这个问题的关键。** 为什么需要数据清理 数据清理策略 | 策略 | 原理 | 适用场景 | 性能 | |------|------|---------|------| | 事务回滚 | 每个测试在事","frontmatter":{"title":"9.2.4 每次测试都是全新的——数据清理：测试间的状态隔离","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/09-testing/9.2-test-env/9.2.4-cleanup.md","filePath":"Advanced-old/09-testing/9.2-test-env/9.2.4-cleanup.md","lastUpdated":1766168364000}'),g={name:"Advanced-old/09-testing/9.2-test-env/9.2.4-cleanup.md"};function y(F,s,c,A,o,D){const l=E("Mermaid");return h(),r("div",null,[s[2]||(s[2]=i("h1",{id:"_9-2-4-每次测试都是全新的——数据清理-测试间的状态隔离",tabindex:"-1"},[a("9.2.4 每次测试都是全新的——数据清理：测试间的状态隔离 "),i("a",{class:"header-anchor",href:"#_9-2-4-每次测试都是全新的——数据清理-测试间的状态隔离","aria-label":'Permalink to "9.2.4 每次测试都是全新的——数据清理：测试间的状态隔离"'},"​")],-1)),s[3]||(s[3]=i("p",null,[i("strong",null,"测试之间相互影响是测试不稳定的首要原因，数据清理是解决这个问题的关键。")],-1)),s[4]||(s[4]=i("h2",{id:"为什么需要数据清理",tabindex:"-1"},[a("为什么需要数据清理 "),i("a",{class:"header-anchor",href:"#为什么需要数据清理","aria-label":'Permalink to "为什么需要数据清理"'},"​")],-1)),(h(),t(p,null,{default:n(()=>[k(l,{id:"mermaid-9",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20subgraph%20%E6%B2%A1%E6%9C%89%E6%B8%85%E7%90%86%0A%20%20%20%20%20%20%20%20T1%5B%E6%B5%8B%E8%AF%95%20A%20%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%5D%20--%3E%20DB1%5B(%E6%95%B0%E6%8D%AE%E5%BA%93)%5D%0A%20%20%20%20%20%20%20%20T2%5B%E6%B5%8B%E8%AF%95%20B%20%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%5D%20--%3E%20DB1%0A%20%20%20%20%20%20%20%20T2%20--%3E%20FAIL%5B%E5%8F%AF%E8%83%BD%E5%A4%B1%E8%B4%A5%EF%BC%9A%E6%95%B0%E6%8D%AE%E6%B1%A1%E6%9F%93%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%E6%9C%89%E6%B8%85%E7%90%86%0A%20%20%20%20%20%20%20%20T3%5B%E6%B5%8B%E8%AF%95%20A%20%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%5D%20--%3E%20DB2%5B(%E6%95%B0%E6%8D%AE%E5%BA%93)%5D%0A%20%20%20%20%20%20%20%20T3%20--%3E%20C1%5B%E6%B8%85%E7%90%86%5D%0A%20%20%20%20%20%20%20%20C1%20--%3E%20T4%5B%E6%B5%8B%E8%AF%95%20B%20%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%5D%0A%20%20%20%20%20%20%20%20T4%20--%3E%20DB2%0A%20%20%20%20%20%20%20%20T4%20--%3E%20PASS%5B%E5%A7%8B%E7%BB%88%E9%80%9A%E8%BF%87%5D%0A%20%20%20%20end%0A"})]),fallback:n(()=>[...s[0]||(s[0]=[a(" Loading... ",-1)])]),_:1})),s[5]||(s[5]=d("",20)),(h(),t(p,null,{default:n(()=>[k(l,{id:"mermaid-123",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20A%7B%E6%B5%8B%E8%AF%95%E7%B1%BB%E5%9E%8B%7D%20--%3E%20B%5B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%5D%0A%20%20%20%20A%20--%3E%20C%5B%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95%5D%0A%20%20%20%20A%20--%3E%20D%5BE2E%20%E6%B5%8B%E8%AF%95%5D%0A%20%20%20%20%0A%20%20%20%20B%20--%3E%20E%5B%E4%BA%8B%E5%8A%A1%E5%9B%9E%E6%BB%9A%5D%0A%20%20%20%20C%20--%3E%20F%7B%E9%9C%80%E8%A6%81%E7%A7%8D%E5%AD%90%E6%95%B0%E6%8D%AE%3F%7D%0A%20%20%20%20D%20--%3E%20G%5B%E9%87%8D%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%5D%0A%20%20%20%20%0A%20%20%20%20F%20--%3E%7C%E6%98%AF%7C%20H%5B%E5%88%A0%E9%99%A4%E7%89%B9%E5%AE%9A%E6%95%B0%E6%8D%AE%5D%0A%20%20%20%20F%20--%3E%7C%E5%90%A6%7C%20I%5B%E8%A1%A8%E6%88%AA%E6%96%AD%5D%0A"})]),fallback:n(()=>[...s[1]||(s[1]=[a(" Loading... ",-1)])]),_:1})),s[6]||(s[6]=i("h2",{id:"本节小结",tabindex:"-1"},[a("本节小结 "),i("a",{class:"header-anchor",href:"#本节小结","aria-label":'Permalink to "本节小结"'},"​")],-1)),s[7]||(s[7]=i("p",null,[a("数据清理的核心目标是"),i("strong",null,"确保每个测试都在可预测的初始状态下运行"),a("。事务回滚是性能最好的方案，适合大多数场景；表截断适合需要完全重置的场景；删除特定数据适合需要保留种子数据的场景。选择合适的策略，让测试既快速又稳定。")],-1))])}const u=e(g,[["render",y]]);export{C as __pageData,u as default};
