import{_ as r,C as l,c as n,o as t,a3 as a,b as o,w as i,a as d,G as h,a4 as p}from"./chunks/framework.CUcrqFol.js";const y=JSON.parse('{"title":"1.5.3 数据仓库怎么选——数据库选择：PostgreSQL vs MySQL vs SQLite","description":"1.5.3 数据仓库怎么选——数据库选择：PostgreSQL vs MySQL vs SQLite 一句话破题 数据库是应用的\\"记忆\\"——选对数据库，决定了数据存储的可靠性、查询的效率、以及未来的扩展能力。 三大数据库对比 | 特性 | PostgreSQL | MySQL | SQLite | |------|--","frontmatter":{"title":"1.5.3 数据仓库怎么选——数据库选择：PostgreSQL vs MySQL vs SQLite","typora-root-url":"../../public"},"headers":[],"relativePath":"Advanced-old/01-concept/1.5-toolchain/1.5.3-database-selection.md","filePath":"Advanced-old/01-concept/1.5-toolchain/1.5.3-database-selection.md","lastUpdated":1766168364000}'),g={name:"Advanced-old/01-concept/1.5-toolchain/1.5.3-database-selection.md"};function k(c,s,E,u,S,b){const e=l("Mermaid");return t(),n("div",null,[s[1]||(s[1]=a('<h1 id="_1-5-3-数据仓库怎么选——数据库选择-postgresql-vs-mysql-vs-sqlite" tabindex="-1">1.5.3 数据仓库怎么选——数据库选择：PostgreSQL vs MySQL vs SQLite <a class="header-anchor" href="#_1-5-3-数据仓库怎么选——数据库选择-postgresql-vs-mysql-vs-sqlite" aria-label="Permalink to &quot;1.5.3 数据仓库怎么选——数据库选择：PostgreSQL vs MySQL vs SQLite&quot;">​</a></h1><h3 id="一句话破题" tabindex="-1">一句话破题 <a class="header-anchor" href="#一句话破题" aria-label="Permalink to &quot;一句话破题&quot;">​</a></h3><p>数据库是应用的&quot;记忆&quot;——选对数据库，决定了数据存储的可靠性、查询的效率、以及未来的扩展能力。</p><h3 id="三大数据库对比" tabindex="-1">三大数据库对比 <a class="header-anchor" href="#三大数据库对比" aria-label="Permalink to &quot;三大数据库对比&quot;">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>PostgreSQL</th><th>MySQL</th><th>SQLite</th></tr></thead><tbody><tr><td><strong>类型</strong></td><td>关系型数据库</td><td>关系型数据库</td><td>嵌入式数据库</td></tr><tr><td><strong>部署</strong></td><td>需要服务器</td><td>需要服务器</td><td>文件即数据库</td></tr><tr><td><strong>并发</strong></td><td>优秀</td><td>良好</td><td>受限</td></tr><tr><td><strong>功能</strong></td><td>最丰富</td><td>够用</td><td>基础</td></tr><tr><td><strong>学习成本</strong></td><td>中等</td><td>低</td><td>最低</td></tr><tr><td><strong>适用场景</strong></td><td>生产环境</td><td>生产环境</td><td>开发/小型应用</td></tr></tbody></table><h3 id="推荐选择" tabindex="-1">推荐选择 <a class="header-anchor" href="#推荐选择" aria-label="Permalink to &quot;推荐选择&quot;">​</a></h3>',6)),(t(),o(p,null,{default:i(()=>[h(e,{id:"mermaid-119",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20A%5B%22%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E5%BA%93%22%5D%20--%3E%20B%7B%22%E9%A1%B9%E7%9B%AE%E9%98%B6%E6%AE%B5%3F%22%7D%0A%20%20%20%20B%20--%20%22%E5%BC%80%E5%8F%91%2F%E5%AD%A6%E4%B9%A0%22%20--%3E%20C%5B%22SQLite%22%5D%0A%20%20%20%20B%20--%20%22%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%22%20--%3E%20D%7B%22%E5%9B%A2%E9%98%9F%E7%BB%8F%E9%AA%8C%3F%22%7D%0A%20%20%20%20D%20--%20%22%E6%9C%89%20MySQL%20%E7%BB%8F%E9%AA%8C%22%20--%3E%20E%5B%22MySQL%22%5D%0A%20%20%20%20D%20--%20%22%E5%85%B6%E4%BB%96%E6%83%85%E5%86%B5%22%20--%3E%20F%5B%22PostgreSQL%22%5D%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[d(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=a(`<p><strong>本课程推荐</strong>：</p><ul><li><strong>开发环境</strong>：SQLite（零配置，方便本地开发）</li><li><strong>生产环境</strong>：PostgreSQL（功能强大，与 Prisma 配合最佳）</li></ul><h3 id="postgresql-优势" tabindex="-1">PostgreSQL 优势 <a class="header-anchor" href="#postgresql-优势" aria-label="Permalink to &quot;PostgreSQL 优势&quot;">​</a></h3><ol><li><strong>JSON 支持</strong>：原生支持 JSON/JSONB 类型，适合存储灵活结构的数据</li><li><strong>丰富的数据类型</strong>：数组、范围类型、全文搜索等</li><li><strong>强大的扩展</strong>：PostGIS（地理信息）、TimescaleDB（时序数据）</li><li><strong>行级安全</strong>：内置 RLS（Row Level Security），适合多租户应用</li><li><strong>与 Prisma 配合</strong>：Prisma 对 PostgreSQL 的支持最完善</li></ol><h3 id="快速上手-postgresql" tabindex="-1">快速上手 PostgreSQL <a class="header-anchor" href="#快速上手-postgresql" aria-label="Permalink to &quot;快速上手 PostgreSQL&quot;">​</a></h3><h4 id="本地安装-开发环境" tabindex="-1">本地安装（开发环境） <a class="header-anchor" href="#本地安装-开发环境" aria-label="Permalink to &quot;本地安装（开发环境）&quot;">​</a></h4><p><strong>方式 1：Docker（推荐）</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POSTGRES_PASSWORD=mysecretpassword</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5432:5432</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span></span></code></pre></div><p><strong>方式 2：本地安装</strong></p><ul><li>macOS: <code>brew install postgresql</code></li><li>Windows: 下载安装包 <a href="https://www.postgresql.org/download/" target="_blank" rel="noreferrer">postgresql.org/download</a></li></ul><h4 id="云服务-生产环境" tabindex="-1">云服务（生产环境） <a class="header-anchor" href="#云服务-生产环境" aria-label="Permalink to &quot;云服务（生产环境）&quot;">​</a></h4><table tabindex="0"><thead><tr><th>服务商</th><th>特点</th><th>免费额度</th></tr></thead><tbody><tr><td><strong>Supabase</strong></td><td>PostgreSQL + Auth + Storage</td><td>500MB 数据库</td></tr><tr><td><strong>Neon</strong></td><td>Serverless PostgreSQL</td><td>0.5GB 存储</td></tr><tr><td><strong>Railway</strong></td><td>一键部署</td><td>$5 免费额度/月</td></tr></tbody></table><h3 id="prisma-连接配置" tabindex="-1">Prisma 连接配置 <a class="header-anchor" href="#prisma-连接配置" aria-label="Permalink to &quot;Prisma 连接配置&quot;">​</a></h3><p>在 <code>.env</code> 文件中配置数据库连接：</p><div class="language-env vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">env</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># SQLite（本地开发）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DATABASE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;file:./dev.db&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PostgreSQL（生产环境）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DATABASE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;postgresql://user:password@localhost:5432/mydb?schema=public&quot;</span></span></code></pre></div><p>在 <code>prisma/schema.prisma</code> 中配置：</p><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">datasource</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  provider </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;postgresql&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 或 &quot;sqlite&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  url      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DATABASE_URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="开发到生产的切换策略" tabindex="-1">开发到生产的切换策略 <a class="header-anchor" href="#开发到生产的切换策略" aria-label="Permalink to &quot;开发到生产的切换策略&quot;">​</a></h3><ol><li><strong>本地开发</strong>：使用 SQLite，零配置启动</li><li><strong>测试环境</strong>：使用 PostgreSQL Docker 容器</li><li><strong>生产环境</strong>：使用云服务 PostgreSQL</li></ol><p>Prisma 会帮你处理不同数据库之间的差异，只需要修改 <code>DATABASE_URL</code> 即可。</p><h3 id="避坑指南" tabindex="-1">避坑指南 <a class="header-anchor" href="#避坑指南" aria-label="Permalink to &quot;避坑指南&quot;">​</a></h3><ul><li><strong>SQLite 限制</strong>：不支持并发写入，不适合生产环境</li><li><strong>连接字符串安全</strong>：数据库密码必须通过环境变量管理，不要硬编码</li><li><strong>本地 vs 云端</strong>：开发环境用本地数据库，避免网络延迟和费用</li><li><strong>备份策略</strong>：生产数据库必须配置自动备份</li></ul>`,22))])}const F=r(g,[["render",k]]);export{y as __pageData,F as default};
